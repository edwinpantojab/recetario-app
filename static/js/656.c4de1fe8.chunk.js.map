{"version":3,"file":"static/js/656.c4de1fe8.chunk.js","mappings":";wJAQA,MAmHA,EAnHuBA,KACrB,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,CAAC,GAC9BC,EAAc,0BAGpBC,EAAAA,EAAAA,YAAU,KACR,IACE,MAAMC,EAAaC,aAAaC,QAAQJ,GACxC,GAAIE,EAAY,CACd,MAAMG,EAAcC,KAAKC,MAAML,GAC/BJ,EAASO,EACX,CACF,CAAE,MAAOG,GACPC,QAAQC,KAAK,2CAA4CF,GACzDV,EAAS,CAAC,EACZ,IACC,IAGH,MAAMa,GAAYC,EAAAA,EAAAA,cAAYC,IAC5B,IACEV,aAAaW,QAAQd,EAAaM,KAAKS,UAAUF,IACjDf,EAASe,EACX,CAAE,MAAOL,GACPC,QAAQC,KAAK,yCAA0CF,EACzD,IACC,IAGGQ,GAAWJ,EAAAA,EAAAA,cACfK,GACSpB,EAAMoB,IAAa,GAE5B,CAACpB,IAIGqB,GAAeN,EAAAA,EAAAA,cAAYK,IAC/B,MAAME,EAAY,GAAAC,OAAMpB,EAAW,eACnC,IACE,MAAMqB,EAAYlB,aAAaC,QAAQe,GACvC,GAAIE,EAAW,CAEb,OADwBf,KAAKC,MAAMc,GACZJ,KAAa,CACtC,CACF,CAAE,MAAOT,GACPC,QAAQC,KAAK,sCAAuCF,EACtD,CACA,OAAO,IACN,IAGGc,GAAaV,EAAAA,EAAAA,cACjBK,IACE,MAAME,EAAY,GAAAC,OAAMpB,EAAW,eAC7BuB,EAAeP,EAASC,GACxBO,EAAeN,EAAaD,GAElC,IAEE,MAAMJ,GAAQY,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACT5B,GAAK,IACR,CAACoB,GAAWO,EACRE,KAAKC,IAAI,EAAGJ,EAAe,GAC3BA,EAAe,IAErBZ,EAAUE,GAGV,MAAMQ,EAAYlB,aAAaC,QAAQe,GACjCS,EAAkBP,EAAYf,KAAKC,MAAMc,GAAa,CAAC,EACvDQ,GAAYJ,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACbG,GAAe,IAClB,CAACX,IAAYO,IAIf,OAFArB,aAAaW,QAAQK,EAAcb,KAAKS,UAAUc,KAE1CL,CACV,CAAE,MAAOhB,GAEP,OADAC,QAAQC,KAAK,2BAA4BF,GAClCgB,CACT,IAEF,CAAC3B,EAAOmB,EAAUE,EAAcP,IAI5BmB,GAAwBlB,EAAAA,EAAAA,cAC5BmB,IACE,MAAMlB,GAAQY,EAAAA,EAAAA,GAAA,GAAQ5B,GACtB,IAAImC,GAAa,EAEjBD,EAAQE,SAAQC,IACRA,EAAOC,MAAMtB,IACjBA,EAASqB,EAAOC,IAAM,EACtBH,GAAa,MAIbA,GACFrB,EAAUE,KAGd,CAAChB,EAAOc,IAGV,MAAO,CACLK,WACAE,eACAI,aACAQ,wBACAjC,0CC1GE,MAAAuC,GAAQC,SAAAA,GAAiB,QAAS,CACtC,CAAC,OAAQ,CAAEC,EAAG,4CAA6CC,IAAK,WAChE,CAAC,SAAU,CAAEC,GAAI,IAAKC,GAAI,IAAKC,EAAG,IAAKH,IAAK,UAC5C,CAAC,OAAQ,CAAED,EAAG,6BAA8BC,IAAK,WACjD,CAAC,OAAQ,CAAED,EAAG,4BAA6BC,IAAK,yDCJ5C,MAAAI,GAAON,SAAAA,GAAiB,OAAQ,CACpC,CACE,UACA,CACEO,OACE,iGACFL,IAAK,0BCHX,MAAMM,GAAaC,EAAAA,EAAAA,OACjBC,IAOO,IAPN,SACC9B,EAAQ,WACR+B,EAAU,QACVC,EAAO,aACPC,EAAY,KACZC,EAAO,KAAI,UACXC,GAAY,GACbL,EAEC,MAqBMM,EArBa,CACjBC,GAAI,CACFC,KAAM,GACNC,QAAS,MACTC,KAAM,UACNC,IAAK,SAEPC,GAAI,CACFJ,KAAM,GACNC,QAAS,QACTC,KAAM,UACNC,IAAK,WAEPE,GAAI,CACFL,KAAM,GACNC,QAAS,MACTC,KAAM,YACNC,IAAK,UAIiBP,GAGpBU,GAAmBjD,EAAAA,EAAAA,cACvBkD,IACEA,EAAEC,iBACFD,EAAEE,kBACEd,GACFA,EAAajC,KAGjB,CAACA,EAAUiC,IAIPe,EAAgB,uDAAA7C,OAC0BiC,EAAOK,IAAG,KAAAtC,OAAIiC,EAAOG,QAAO,4JAAApC,OAI1E6B,EACI,4GACA,iGAAgG,QAEtGiB,OAEMC,EAAW,0CAAA/C,OAGf6B,EACI,8CACA,2DAA0D,QAI1DmB,EAAY,oDAAAhD,OAC2BiC,EAAOI,KAAI,UAAArC,OAEtD6B,EACI,uCACA,qCAAoC,QAI1C,OACEoB,EAAAA,EAAAA,MAAA,UACEC,QAAST,EACTU,UAAWN,EACXO,MAAOvB,EAAU,kBAAoB,WACrC,gBAAA7B,OAAe6B,EAAU,SAAW,MAAK,2BAAA7B,OAA0B4B,EAAU,mBAC7EyB,KAAK,SAAQC,SAAA,EAGbC,EAAAA,EAAAA,KAAChC,EAAI,CACHQ,KAAME,EAAOE,KACbgB,UAAWJ,EACXS,MAAO,CACLC,OAAQ5B,EACJ,4CACA,UAKPG,IACCuB,EAAAA,EAAAA,KAAA,QAAMJ,UAAWH,EAAc,cAAY,OAAMM,SAC9C1B,UAQbH,EAAWiC,YAAc,aAEzB,0CC9GM,MAAAC,GAAS1C,SAAAA,GAAiB,SAAU,CACxC,CAAC,SAAU,CAAEG,GAAI,KAAMC,GAAI,IAAKC,EAAG,IAAKH,IAAK,WAC7C,CAAC,SAAU,CAAEC,GAAI,IAAKC,GAAI,KAAMC,EAAG,IAAKH,IAAK,WAC7C,CAAC,SAAU,CAAEC,GAAI,KAAMC,GAAI,KAAMC,EAAG,IAAKH,IAAK,WAC9C,CAAC,OAAQ,CAAEyC,GAAI,OAAQC,GAAI,QAASC,GAAI,QAASC,GAAI,QAAS5C,IAAK,WACnE,CAAC,OAAQ,CAAEyC,GAAI,QAASC,GAAI,OAAQC,GAAI,OAAQC,GAAI,QAAS5C,IAAK,4FCL9D,MAAA6C,GAAU/C,EAAAA,EAAAA,GAAiB,UAAW,CAC1C,CAAC,OAAQ,CAAEC,EAAG,WAAYC,IAAK,WAC/B,CACE,OACA,CACED,EAAG,oIACHC,IAAK,0BCNL,MAAA8C,GAAehD,EAAAA,EAAAA,GAAiB,eAAgB,CACpD,CAAC,SAAU,CAAEG,GAAI,IAAKC,GAAI,KAAMC,EAAG,IAAKH,IAAK,WAC7C,CAAC,SAAU,CAAEC,GAAI,IAAKC,GAAI,IAAKC,EAAG,IAAKH,IAAK,WAC5C,CAAC,SAAU,CAAEC,GAAI,IAAKC,GAAI,KAAMC,EAAG,IAAKH,IAAK,WAC7C,CAAC,SAAU,CAAEC,GAAI,KAAMC,GAAI,KAAMC,EAAG,IAAKH,IAAK,WAC9C,CAAC,SAAU,CAAEC,GAAI,KAAMC,GAAI,IAAKC,EAAG,IAAKH,IAAK,WAC7C,CAAC,SAAU,CAAEC,GAAI,KAAMC,GAAI,KAAMC,EAAG,IAAKH,IAAK,uECqBhD,MAAM+C,GAAaxC,EAAAA,EAAAA,OACjBC,IAUO,IAVN,OACCb,EAAM,OACNqD,EAAM,SACNC,EAAQ,QACRC,EAAO,SACPC,EAAQ,cACRC,EAAa,WACbC,GAAa,EAAK,YAClBC,GAAc,EAAK,iBACnBC,GAAmB,GACpB/C,EAEC,MAAM,cAAEgD,IAAkBC,EAAAA,EAAAA,MACpB,wBAAEC,EAAuB,cAAEC,EAAa,sBAAEC,IAC9CC,EAAAA,EAAAA,MAGI,SAAEpF,EAAQ,aAAEE,EAAY,WAAEI,IAAe1B,EAAAA,EAAAA,KAGzCyG,GAA6C,OAAvBJ,QAAuB,IAAvBA,OAAuB,EAAvBA,EAAyB9D,MAAOD,EAAOC,GAE7DmE,GAAmBC,EAAAA,EAAAA,UAAQ,KAC/B,MAAMC,EAAatE,EAAOuE,MAAQ,SAClC,MAAM,mDAANrF,OAA0DsF,mBACxDF,MAED,CAACtE,EAAOuE,OAGLE,GAAkB/F,EAAAA,EAAAA,cACtBkD,IACM+B,IACF/B,EAAE8C,aAAaC,QAAQ,WAAY3E,EAAOC,IAC1C2B,EAAE8C,aAAaE,cAAgB,UAGnC,CAACjB,EAAa3D,EAAOC,KAEjB4E,GAAkBnG,EAAAA,EAAAA,cACtBkD,IAEMA,EAAEkD,OAAOC,QAAQ,YAGjBlB,GAAiBF,IAAgBK,EACnCC,EAAsBjE,GAIpByD,EACFA,EAAczD,GACLwD,IAAaG,GACtBH,EAASxD,MAGb,CACEyD,EACAD,EACAG,EACA3D,EACA6D,EACAG,EACAC,IAKEe,GAAmBtG,EAAAA,EAAAA,cACvBkD,IACEA,EAAEkD,OAAOG,QAAU,KACnBrD,EAAEkD,OAAOI,IAAMd,IAEjB,CAACA,IAIGe,GAAczG,EAAAA,EAAAA,cAClBkD,IACEA,EAAEE,kBACK,OAAPyB,QAAO,IAAPA,GAAAA,EAAUvD,KAEZ,CAACuD,EAASvD,IAGNoF,GAAa1G,EAAAA,EAAAA,cACjBkD,IACEA,EAAEE,kBACI,OAANuB,QAAM,IAANA,GAAAA,EAASrD,KAEX,CAACqD,EAAQrD,IAGLqF,GAAe3G,EAAAA,EAAAA,cACnBkD,IACEA,EAAEE,kBACM,OAARwB,QAAQ,IAARA,GAAAA,EAAWtD,EAAOC,MAEpB,CAACqD,EAAUtD,EAAOC,KAEdqF,GAAcjB,EAAAA,EAAAA,UAAQ,KAC1B,MAEMkB,EACJ7B,GAAcS,EAAsB,0BAA4B,GAC5DqB,EAAgB7B,EAClBE,EACE,iBACA,cACF,iBACE4B,EAAwBtB,EAC1B,uCACA,GAEJ,MAAM,GAANjF,OAZE,sOAYmB,KAAAA,OAAIqG,EAAe,KAAArG,OAAIsG,EAAa,KAAAtG,OAAIuG,KAC5D,CAAC/B,EAAYC,EAAaE,EAAeM,IAGtCuB,GAAarB,EAAAA,EAAAA,UACjB,KACElC,EAAAA,EAAAA,MAAA,OAAKE,UAAU,8EAA6EG,SAAA,CACzFxC,EAAO2F,WACNxD,EAAAA,EAAAA,MAAA,OAAKE,UAAU,yCAAwCG,SAAA,EACrDC,EAAAA,EAAAA,KAACmD,EAAAA,EAAS,CACR3E,KAAM,GACNoB,UAAU,OACV,cAAY,OACZK,MAAO,CACLmD,MAAO,UACPC,OAAQ,UACRC,YAAa,QAGjBtD,EAAAA,EAAAA,KAAA,QAAAD,SAAOxC,EAAO2F,cAGjB3F,EAAOgG,WACN7D,EAAAA,EAAAA,MAAA,OAAKE,UAAU,yCAAwCG,SAAA,EACrDC,EAAAA,EAAAA,KAACvC,EAAAA,EAAK,CACJe,KAAM,GACNoB,UAAU,OACV,cAAY,OACZK,MAAO,CACLmD,MAAO,UACPC,OAAQ,UACRC,YAAa,QAGjB5D,EAAAA,EAAAA,MAAA,QAAAK,SAAA,CAAOxC,EAAOgG,SAAS,mBAK/B,CAAChG,EAAO2F,SAAU3F,EAAOgG,WAErBC,GAAgB5B,EAAAA,EAAAA,UAAQ,IACxBT,IAAsBP,IAAWC,IAAaC,EAAiB,MAGjEpB,EAAAA,EAAAA,MAAA,OAAKE,UAAU,wEAAuEG,SAAA,CACnF,IACAe,IACCd,EAAAA,EAAAA,KAAA,UACEL,QAAS+C,EACT9C,UAAU,wMACVC,MAAM,mBACN,iCAAApD,OAAgCc,EAAOuE,MAAO/B,UAE9CC,EAAAA,EAAAA,KAACI,EAAAA,EAAM,CACL5B,KAAM,GACNyB,MAAO,CAAEmD,MAAO,UAAWC,OAAQ,UAAWC,YAAa,OAIhE1C,IACCZ,EAAAA,EAAAA,KAAA,UACEL,QAASgD,EACT/C,UAAU,8MACVC,MAAM,gBACN,8BAAApD,OAA6Bc,EAAOuE,MAAO/B,UAE3CC,EAAAA,EAAAA,KAACyD,EAAK,CACJjF,KAAM,GACNyB,MAAO,CAAEmD,MAAO,UAAWC,OAAQ,UAAWC,YAAa,OAIhEzC,IACCb,EAAAA,EAAAA,KAAA,UACEL,QAASiD,EACThD,UAAU,sMACVC,MAAM,kBACN,gCAAApD,OAA+Bc,EAAOuE,MAAO/B,UAE7CC,EAAAA,EAAAA,KAAC0D,EAAAA,EAAM,CACLlF,KAAM,GACNyB,MAAO,CAAEmD,MAAO,UAAWC,OAAQ,UAAWC,YAAa,WAMpE,CACDnC,EACAP,EACAC,EACAC,EACA4B,EACAC,EACAC,EACArF,EAAOuE,OAGT,OACEpC,EAAAA,EAAAA,MAAA,WACEE,UAAWiD,EACXlD,QAASyC,EACTuB,UAAWzC,EACX0C,YAAa5B,EACb6B,KAAM9C,EAAW,cAAW+C,EAC5BC,SAAUhD,EAAW,OAAI+C,EACzB,gBAAe7C,EACf,wBAAAxE,OAAuBc,EAAOuE,MAAO/B,SAAA,CAEpC,KAEDL,EAAAA,EAAAA,MAAA,OAAKE,UAAU,qFAAoFG,SAAA,EACjGC,EAAAA,EAAAA,KAAA,OACEJ,UAAU,6BACV6C,IAAKlF,EAAOyG,UAAYrC,EACxBsC,IAAG,aAAAxH,OAAec,EAAOuE,MACzBoC,QAAQ,OACRC,SAAS,QACTC,QAAS7B,IACR,IAEFrB,IAAgBE,IACfpB,EAAAA,EAAAA,KAACU,EAAY,CACXlC,KAAM,GACNoB,UAAU,yEACV,cAAY,SAIfsB,GAAeE,IACdpB,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,4FAA2FG,SAAC,SAK5G2B,IACC1B,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,2FAA0FG,SAAC,wBAK3GoB,GAAoBN,IACnBb,EAAAA,EAAAA,KAAA,UACEL,QAASiD,EACThD,UAAU,wOACVC,MAAM,2BACN,uBAAApD,OAAsBc,EAAOuE,KAAI,eAAW/B,UAE5CC,EAAAA,EAAAA,KAACqE,EAAAA,EAAC,CAAC7F,KAAM,WAKfkB,EAAAA,EAAAA,MAAA,OAAKE,UAAU,MAAKG,SAAA,EAElBC,EAAAA,EAAAA,KAAA,MACEJ,UAAU,qGACVC,MAAOtC,EAAOuE,KAAK/B,SAElBxC,EAAOuE,OAGTvE,EAAO+G,WACNtE,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,6HAA4HG,SACzIxC,EAAO+G,WAET,IAEFrB,GAEDjD,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,oCAAmCG,UAChDC,EAAAA,EAAAA,KAAC9B,EAAAA,EAAU,CACT5B,SAAUiB,EAAOC,GACjBa,WAAYhC,EAASkB,EAAOC,IAC5Bc,QAAS/B,EAAagB,EAAOC,IAC7Be,aAAc5B,EACd6B,KAAK,KACLC,WAAW,MAId+E,WAQX7C,EAAWR,YAAc,aAGzB,sDCtVO,MAAMkB,EAAqBA,KAChC,MAAOkD,EAAYC,IAAiBpJ,EAAAA,EAAAA,UAAS,CAC3CqJ,UAAU,EACVrD,eAAe,EACfsD,YAAa,IA4Bf,OAzBApJ,EAAAA,EAAAA,YAAU,KACR,MAAMqJ,EAAcA,KAClB,MAAMvD,EACJ,iBAAkBwD,QAAUC,UAAUC,eAAiB,EACnDJ,EAAcE,OAAOG,WAG3BP,EAAc,CACZC,SAHeC,GAAe,KAAOtD,EAIrCA,gBACAsD,iBAUJ,OALAC,IAGAC,OAAOI,iBAAiB,SAAUL,GAE3B,KACLC,OAAOK,oBAAoB,SAAUN,MAEtC,IAEIJ,iECdT,MAAMW,EAAQ9G,IAAsD,IAArD,OAAE+G,EAAM,QAAEC,EAAO,MAAEvF,EAAK,SAAEE,EAAQ,UAAEsF,GAAWjH,EAE5D,MAAMkH,GAAcrJ,EAAAA,EAAAA,cAAY,KAC1BmJ,GACFA,MAED,CAACA,IAGEG,GAAqBtJ,EAAAA,EAAAA,cACzBuJ,IAEMA,EAAMnD,SAAWmD,EAAMC,eACzBH,MAGJ,CAACA,IAIGI,GAAgBzJ,EAAAA,EAAAA,cACpBuJ,IAEoB,WAAdA,EAAM5H,KACR0H,IAIED,GACFA,EAAUG,KAGd,CAACF,EAAaD,IA0BhB,OAvBA/J,EAAAA,EAAAA,YAAU,KACR,GAAI6J,EAAQ,CAEV,MAAMQ,EAAmBC,SAASC,KAAK5F,MAAM6F,SAS7C,OANAF,SAASC,KAAK5F,MAAM6F,SAAW,SAG/BF,SAASZ,iBAAiB,UAAWU,GAG9B,KACLE,SAASC,KAAK5F,MAAM6F,SAAWH,GAAoB,OACnDC,SAASX,oBAAoB,UAAWS,GAE5C,CAEEE,SAASC,KAAK5F,MAAM6F,SAAW,SAEhC,CAACX,EAAQO,IAGPP,GAGHzF,EAAAA,EAAAA,MAAA,OACEE,UAAU,kIACVD,QAAS4F,EACT1B,KAAK,SACL,aAAW,OACX,kBAAgB,cAChB,mBAAiB,gBAAe9D,SAAA,CAE/B,KAEDL,EAAAA,EAAAA,MAAA,OAAKE,UAAU,yJAAwJG,SAAA,EAErKL,EAAAA,EAAAA,MAAA,UAAQE,UAAU,2GAA0GG,SAAA,EAC1HC,EAAAA,EAAAA,KAAA,MACExC,GAAG,cACHoC,UAAU,iEAAgEG,SAEzEF,KAIHG,EAAAA,EAAAA,KAAA,UACEF,KAAK,SACLH,QAAS2F,EACT1F,UAAU,iPACV,aAAW,eAAcG,UAEzBC,EAAAA,EAAAA,KAACqE,EAAAA,EAAC,CAAC7F,KAAM,WAKbwB,EAAAA,EAAAA,KAAA,QACExC,GAAG,gBACHoC,UAAU,gGACVmE,UAAW,EACX9D,MAAO,CACL8F,UAAW,qBACXC,UAAW,OACXC,wBAAyB,SACzBlG,SAEDA,UA7CW,MAqDtB,EAAemG,EAAAA,KAAWhB,GAAO,CAACiB,EAAWC,IAGzCD,EAAUhB,SAAWiB,EAAUjB,QAC/BgB,EAAUtG,QAAUuG,EAAUvG,OAC9BsG,EAAUpG,WAAaqG,EAAUrG,2CC/H/B,MAAA2D,GAAShG,SAAAA,GAAiB,SAAU,CACxC,CAAC,OAAQ,CAAEC,EAAG,UAAWC,IAAK,WAC9B,CAAC,OAAQ,CAAED,EAAG,wCAAyCC,IAAK,WAC5D,CAAC,OAAQ,CAAED,EAAG,qCAAsCC,IAAK,WACzD,CAAC,OAAQ,CAAEyC,GAAI,KAAMC,GAAI,KAAMC,GAAI,KAAMC,GAAI,KAAM5C,IAAK,WACxD,CAAC,OAAQ,CAAEyC,GAAI,KAAMC,GAAI,KAAMC,GAAI,KAAMC,GAAI,KAAM5C,IAAK","sources":["hooks/useRecipeLikes.js","../node_modules/lucide-react/src/icons/users.ts","../node_modules/lucide-react/src/icons/star.ts","components/ui/LikeButton.js","../node_modules/lucide-react/src/icons/share-2.ts","../node_modules/lucide-react/src/icons/pen-line.ts","../node_modules/lucide-react/src/icons/grip-vertical.ts","components/recipes/RecipeCard.js","hooks/useMobileDetection.js","components/layout/Modal.js","../node_modules/lucide-react/src/icons/trash-2.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\n\r\n/**\r\n * Hook personalizado para gestionar el sistema de likes de recetas\r\n * Persiste los likes en localStorage y proporciona funciones para manejar likes\r\n *\r\n * @returns {object} Estado y funciones para manejar likes\r\n */\r\nconst useRecipeLikes = () => {\r\n  const [likes, setLikes] = useState({});\r\n  const STORAGE_KEY = \"recetario_recipe_likes\";\r\n\r\n  // Cargar likes del localStorage al inicializar\r\n  useEffect(() => {\r\n    try {\r\n      const savedLikes = localStorage.getItem(STORAGE_KEY);\r\n      if (savedLikes) {\r\n        const parsedLikes = JSON.parse(savedLikes);\r\n        setLikes(parsedLikes);\r\n      }\r\n    } catch (error) {\r\n      console.warn(\"Error cargando likes desde localStorage:\", error); // eslint-disable-line no-console\r\n      setLikes({});\r\n    }\r\n  }, []);\r\n\r\n  // Guardar likes en localStorage cuando cambien\r\n  const saveLikes = useCallback(newLikes => {\r\n    try {\r\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(newLikes));\r\n      setLikes(newLikes);\r\n    } catch (error) {\r\n      console.warn(\"Error guardando likes en localStorage:\", error); // eslint-disable-line no-console\r\n    }\r\n  }, []);\r\n\r\n  // Obtener el número de likes de una receta específica\r\n  const getLikes = useCallback(\r\n    recipeId => {\r\n      return likes[recipeId] || 0;\r\n    },\r\n    [likes]\r\n  );\r\n\r\n  // Verificar si el usuario ya dio like a una receta específica\r\n  const hasUserLiked = useCallback(recipeId => {\r\n    const userLikesKey = `${STORAGE_KEY}_user_likes`;\r\n    try {\r\n      const userLikes = localStorage.getItem(userLikesKey);\r\n      if (userLikes) {\r\n        const parsedUserLikes = JSON.parse(userLikes);\r\n        return parsedUserLikes[recipeId] || false;\r\n      }\r\n    } catch (error) {\r\n      console.warn(\"Error verificando like del usuario:\", error); // eslint-disable-line no-console\r\n    }\r\n    return false;\r\n  }, []);\r\n\r\n  // Alternar like de una receta (dar o quitar like)\r\n  const toggleLike = useCallback(\r\n    recipeId => {\r\n      const userLikesKey = `${STORAGE_KEY}_user_likes`;\r\n      const currentLikes = getLikes(recipeId);\r\n      const userHasLiked = hasUserLiked(recipeId);\r\n\r\n      try {\r\n        // Actualizar contador de likes\r\n        const newLikes = {\r\n          ...likes,\r\n          [recipeId]: userHasLiked\r\n            ? Math.max(0, currentLikes - 1)\r\n            : currentLikes + 1,\r\n        };\r\n        saveLikes(newLikes);\r\n\r\n        // Actualizar estado de like del usuario\r\n        const userLikes = localStorage.getItem(userLikesKey);\r\n        const parsedUserLikes = userLikes ? JSON.parse(userLikes) : {};\r\n        const newUserLikes = {\r\n          ...parsedUserLikes,\r\n          [recipeId]: !userHasLiked,\r\n        };\r\n        localStorage.setItem(userLikesKey, JSON.stringify(newUserLikes));\r\n\r\n        return !userHasLiked; // Retorna el nuevo estado del like\r\n      } catch (error) {\r\n        console.warn(\"Error actualizando like:\", error); // eslint-disable-line no-console\r\n        return userHasLiked; // Retorna el estado actual si hay error\r\n      }\r\n    },\r\n    [likes, getLikes, hasUserLiked, saveLikes]\r\n  );\r\n\r\n  // Inicializar likes para recetas que no tienen likes todavía\r\n  const initializeRecipeLikes = useCallback(\r\n    recipes => {\r\n      const newLikes = { ...likes };\r\n      let hasChanges = false;\r\n\r\n      recipes.forEach(recipe => {\r\n        if (!(recipe.id in newLikes)) {\r\n          newLikes[recipe.id] = 0;\r\n          hasChanges = true;\r\n        }\r\n      });\r\n\r\n      if (hasChanges) {\r\n        saveLikes(newLikes);\r\n      }\r\n    },\r\n    [likes, saveLikes]\r\n  );\r\n\r\n  return {\r\n    getLikes,\r\n    hasUserLiked,\r\n    toggleLike,\r\n    initializeRecipeLikes,\r\n    likes,\r\n  };\r\n};\r\n\r\nexport default useRecipeLikes;\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Users\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8cGF0aCBkPSJNMjIgMjF2LTJhNCA0IDAgMCAwLTMtMy44NyIgLz4KICA8cGF0aCBkPSJNMTYgMy4xM2E0IDQgMCAwIDEgMCA3Ljc1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/users\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Users = createLucideIcon('Users', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['path', { d: 'M22 21v-2a4 4 0 0 0-3-3.87', key: 'kshegd' }],\n  ['path', { d: 'M16 3.13a4 4 0 0 1 0 7.75', key: '1da9ce' }],\n]);\n\nexport default Users;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Star\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjEyIDIgMTUuMDkgOC4yNiAyMiA5LjI3IDE3IDE0LjE0IDE4LjE4IDIxLjAyIDEyIDE3Ljc3IDUuODIgMjEuMDIgNyAxNC4xNCAyIDkuMjcgOC45MSA4LjI2IDEyIDIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/star\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Star = createLucideIcon('Star', [\n  [\n    'polygon',\n    {\n      points:\n        '12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2',\n      key: '8f66p6',\n    },\n  ],\n]);\n\nexport default Star;\n","import React, { memo, useCallback } from \"react\";\r\nimport { Star } from \"lucide-react\";\r\n\r\n/**\r\n * Componente LikeButton\r\n * Botón interactivo para dar like a recetas con icono de estrella y contador\r\n *\r\n * @param {Object} props - Propiedades del componente\r\n * @param {string} props.recipeId - ID único de la receta\r\n * @param {number} props.likesCount - Número de likes de la receta\r\n * @param {boolean} props.isLiked - Si el usuario ya dio like\r\n * @param {Function} props.onToggleLike - Función para alternar el like\r\n * @param {string} [props.size] - Tamaño del botón ('sm', 'md', 'lg')\r\n * @param {boolean} [props.showCount] - Si mostrar el contador de likes\r\n * @returns {JSX.Element} Componente de botón de like\r\n */\r\nconst LikeButton = memo(\r\n  ({\r\n    recipeId,\r\n    likesCount,\r\n    isLiked,\r\n    onToggleLike,\r\n    size = \"md\",\r\n    showCount = true,\r\n  }) => {\r\n    // Configuraciones de tamaño\r\n    const sizeConfig = {\r\n      sm: {\r\n        icon: 14,\r\n        padding: \"p-1\",\r\n        text: \"text-xs\",\r\n        gap: \"gap-1\",\r\n      },\r\n      md: {\r\n        icon: 16,\r\n        padding: \"p-1.5\",\r\n        text: \"text-sm\",\r\n        gap: \"gap-1.5\",\r\n      },\r\n      lg: {\r\n        icon: 18,\r\n        padding: \"p-2\",\r\n        text: \"text-base\",\r\n        gap: \"gap-2\",\r\n      },\r\n    };\r\n\r\n    const config = sizeConfig[size];\r\n\r\n    // Manejador optimizado para el toggle de like\r\n    const handleToggleLike = useCallback(\r\n      e => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        if (onToggleLike) {\r\n          onToggleLike(recipeId);\r\n        }\r\n      },\r\n      [recipeId, onToggleLike]\r\n    );\r\n\r\n    // Clases CSS dinámicas para el estado del like\r\n    const buttonClasses = `\r\n    recipe-action-button inline-flex items-center ${config.gap} ${config.padding}\r\n    rounded-full transition-all duration-200 focus:outline-none focus:ring-2 \r\n    focus:ring-offset-2 transform hover:scale-110 active:scale-95\r\n    ${\r\n      isLiked\r\n        ? \"bg-yellow-100 hover:bg-yellow-200 dark:bg-yellow-800/30 dark:hover:bg-yellow-700/40 focus:ring-yellow-500\"\r\n        : \"bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 focus:ring-slate-500\"\r\n    }\r\n  `.trim();\r\n\r\n    const starClasses = `\r\n    transition-all duration-200\r\n    ${\r\n      isLiked\r\n        ? \"text-yellow-500 fill-current drop-shadow-sm\"\r\n        : \"text-slate-400 dark:text-slate-500 hover:text-yellow-400\"\r\n    }\r\n  `;\r\n\r\n    const countClasses = `\r\n    font-medium transition-colors duration-200 ${config.text}\r\n    ${\r\n      isLiked\r\n        ? \"text-yellow-700 dark:text-yellow-300\"\r\n        : \"text-slate-600 dark:text-slate-400\"\r\n    }\r\n  `;\r\n\r\n    return (\r\n      <button\r\n        onClick={handleToggleLike}\r\n        className={buttonClasses}\r\n        title={isLiked ? \"Quitar me gusta\" : \"Me gusta\"}\r\n        aria-label={`${isLiked ? \"Quitar\" : \"Dar\"} me gusta a la receta. ${likesCount} likes actuales`}\r\n        type=\"button\"\r\n      >\r\n        {/* Icono de estrella con animaciones */}\r\n        <Star\r\n          size={config.icon}\r\n          className={starClasses}\r\n          style={{\r\n            filter: isLiked\r\n              ? \"drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1))\"\r\n              : \"none\",\r\n          }}\r\n        />\r\n\r\n        {/* Contador de likes */}\r\n        {showCount && (\r\n          <span className={countClasses} aria-hidden=\"true\">\r\n            {likesCount}\r\n          </span>\r\n        )}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\nLikeButton.displayName = \"LikeButton\";\r\n\r\nexport default LikeButton;\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Share2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjUiIHI9IjMiIC8+CiAgPGNpcmNsZSBjeD0iNiIgY3k9IjEyIiByPSIzIiAvPgogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTkiIHI9IjMiIC8+CiAgPGxpbmUgeDE9IjguNTkiIHgyPSIxNS40MiIgeTE9IjEzLjUxIiB5Mj0iMTcuNDkiIC8+CiAgPGxpbmUgeDE9IjE1LjQxIiB4Mj0iOC41OSIgeTE9IjYuNTEiIHkyPSIxMC40OSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/share-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Share2 = createLucideIcon('Share2', [\n  ['circle', { cx: '18', cy: '5', r: '3', key: 'gq8acd' }],\n  ['circle', { cx: '6', cy: '12', r: '3', key: 'w7nqdw' }],\n  ['circle', { cx: '18', cy: '19', r: '3', key: '1xt0gg' }],\n  ['line', { x1: '8.59', x2: '15.42', y1: '13.51', y2: '17.49', key: '47mynk' }],\n  ['line', { x1: '15.41', x2: '8.59', y1: '6.51', y2: '10.49', key: '1n3mei' }],\n]);\n\nexport default Share2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PenLine\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjBoOSIgLz4KICA8cGF0aCBkPSJNMTYuMzc2IDMuNjIyYTEgMSAwIDAgMSAzLjAwMiAzLjAwMkw3LjM2OCAxOC42MzVhMiAyIDAgMCAxLS44NTUuNTA2bC0yLjg3Mi44MzhhLjUuNSAwIDAgMS0uNjItLjYybC44MzgtMi44NzJhMiAyIDAgMCAxIC41MDYtLjg1NHoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/pen-line\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenLine = createLucideIcon('PenLine', [\n  ['path', { d: 'M12 20h9', key: 't2du7b' }],\n  [\n    'path',\n    {\n      d: 'M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z',\n      key: '1ykcvy',\n    },\n  ],\n]);\n\nexport default PenLine;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name GripVertical\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iMTIiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iOSIgY3k9IjUiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iOSIgY3k9IjE5IiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTIiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iMTUiIGN5PSI1IiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTkiIHI9IjEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/grip-vertical\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst GripVertical = createLucideIcon('GripVertical', [\n  ['circle', { cx: '9', cy: '12', r: '1', key: '1vctgf' }],\n  ['circle', { cx: '9', cy: '5', r: '1', key: 'hp0tcf' }],\n  ['circle', { cx: '9', cy: '19', r: '1', key: 'fkjjf6' }],\n  ['circle', { cx: '15', cy: '12', r: '1', key: '1tmaij' }],\n  ['circle', { cx: '15', cy: '5', r: '1', key: '19l28e' }],\n  ['circle', { cx: '15', cy: '19', r: '1', key: 'f4zoj3' }],\n]);\n\nexport default GripVertical;\n","import React, { memo, useCallback, useMemo } from \"react\";\r\nimport {\r\n  ClockIcon,\r\n  Users,\r\n  Edit3,\r\n  Trash2,\r\n  Share2,\r\n  X,\r\n  GripVertical,\r\n} from \"lucide-react\";\r\nimport { useMobileDetection } from \"../../hooks/useMobileDetection\";\r\nimport { useMobileInteraction } from \"../../contexts/MobileInteractionContext\";\r\nimport LikeButton from \"../ui/LikeButton\";\r\nimport useRecipeLikes from \"../../hooks/useRecipeLikes\";\r\n\r\n/**\r\n * Componente RecipeCard\r\n * Muestra una tarjeta compacta de una receta con sus detalles principales\r\n * y opciones de interacción optimizada para rendimiento.\r\n *\r\n * Características:\r\n * - Drag & Drop optimizado para planificador\r\n * - Lazy loading de imágenes con fallback\r\n * - Estados de selección visual\r\n * - Acciones contextuales (editar, eliminar, compartir)\r\n * - Responsive design con truncado de texto\r\n * - Memoización para evitar re-renders innecesarios\r\n *\r\n * @param {Object} props - Propiedades del componente\r\n * @param {Object} props.recipe - Objeto de la receta a mostrar\r\n * @param {Function} [props.onEdit] - Función para editar la receta (opcional)\r\n * @param {Function} [props.onDelete] - Función para eliminar la receta (opcional)\r\n * @param {Function} [props.onShare] - Función para compartir la receta (opcional)\r\n * @param {Function} [props.onSelect] - Función para seleccionar la receta (opcional)\r\n * @param {Function} [props.onShowDetails] - Función para mostrar detalles completos\r\n * @param {boolean} [props.isSelected] - Indica si la tarjeta está seleccionada\r\n * @param {boolean} [props.isDraggable] - Indica si la tarjeta es arrastrable\r\n * @param {boolean} [props.showDeleteButton] - Muestra botón de eliminar pequeño\r\n * @returns {JSX.Element} Componente de tarjeta de receta\r\n */\r\nconst RecipeCard = memo(\r\n  ({\r\n    recipe,\r\n    onEdit,\r\n    onDelete,\r\n    onShare,\r\n    onSelect,\r\n    onShowDetails,\r\n    isSelected = false,\r\n    isDraggable = false,\r\n    showDeleteButton = false,\r\n  }) => {\r\n    // Detectar dispositivo móvil y obtener contexto de interacción móvil\r\n    const { isTouchDevice } = useMobileDetection();\r\n    const { selectedRecipeForMobile, isAddingToDay, selectRecipeForMobile } =\r\n      useMobileInteraction();\r\n\r\n    // Hook para gestionar likes de recetas\r\n    const { getLikes, hasUserLiked, toggleLike } = useRecipeLikes();\r\n\r\n    // Verificar si esta receta está seleccionada para móvil\r\n    const isSelectedForMobile = selectedRecipeForMobile?.id === recipe.id;\r\n    // URL de imagen placeholder memoizada para evitar recreación\r\n    const placeholderImage = useMemo(() => {\r\n      const recipeName = recipe.name || \"Receta\";\r\n      return `https://placehold.co/600x300/E2E8F0/A0AEC0?text=${encodeURIComponent(\r\n        recipeName\r\n      )}`;\r\n    }, [recipe.name]);\r\n\r\n    // Manejador optimizado para inicio de arrastre\r\n    const handleDragStart = useCallback(\r\n      e => {\r\n        if (isDraggable) {\r\n          e.dataTransfer.setData(\"recipeId\", recipe.id);\r\n          e.dataTransfer.effectAllowed = \"move\";\r\n        }\r\n      },\r\n      [isDraggable, recipe.id]\r\n    ); // Manejador optimizado para clic en tarjeta\r\n    const handleCardClick = useCallback(\r\n      e => {\r\n        // Evita propagación si se hace clic en botones\r\n        if (e.target.closest(\"button\")) return;\r\n\r\n        // En dispositivos móviles y modo arrastrable, seleccionar para táctil\r\n        if (isTouchDevice && isDraggable && !isAddingToDay) {\r\n          selectRecipeForMobile(recipe);\r\n          return;\r\n        }\r\n\r\n        if (onShowDetails) {\r\n          onShowDetails(recipe);\r\n        } else if (onSelect && !isDraggable) {\r\n          onSelect(recipe);\r\n        }\r\n      },\r\n      [\r\n        onShowDetails,\r\n        onSelect,\r\n        isDraggable,\r\n        recipe,\r\n        isTouchDevice,\r\n        isAddingToDay,\r\n        selectRecipeForMobile,\r\n      ]\r\n    );\r\n\r\n    // Manejador optimizado para error de imagen\r\n    const handleImageError = useCallback(\r\n      e => {\r\n        e.target.onerror = null;\r\n        e.target.src = placeholderImage;\r\n      },\r\n      [placeholderImage]\r\n    );\r\n\r\n    // Manejadores de acciones memoizados para evitar recreación\r\n    const handleShare = useCallback(\r\n      e => {\r\n        e.stopPropagation();\r\n        onShare?.(recipe);\r\n      },\r\n      [onShare, recipe]\r\n    );\r\n\r\n    const handleEdit = useCallback(\r\n      e => {\r\n        e.stopPropagation();\r\n        onEdit?.(recipe);\r\n      },\r\n      [onEdit, recipe]\r\n    );\r\n\r\n    const handleDelete = useCallback(\r\n      e => {\r\n        e.stopPropagation();\r\n        onDelete?.(recipe.id);\r\n      },\r\n      [onDelete, recipe.id]\r\n    ); // Clases CSS memoizadas para la tarjeta\r\n    const cardClasses = useMemo(() => {\r\n      const baseClasses =\r\n        \"bg-white dark:bg-gradient-to-br dark:from-slate-800/90 dark:to-slate-700/70 rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 backdrop-blur-sm border dark:border-slate-600/30\";\r\n      const selectedClasses =\r\n        isSelected || isSelectedForMobile ? \"ring-2 ring-emerald-500\" : \"\";\r\n      const cursorClasses = isDraggable\r\n        ? isTouchDevice\r\n          ? \"cursor-pointer\"\r\n          : \"cursor-grab\"\r\n        : \"cursor-pointer\";\r\n      const mobileSelectedClasses = isSelectedForMobile\r\n        ? \"bg-emerald-50 dark:bg-emerald-900/20\"\r\n        : \"\";\r\n\r\n      return `${baseClasses} ${selectedClasses} ${cursorClasses} ${mobileSelectedClasses}`;\r\n    }, [isSelected, isDraggable, isTouchDevice, isSelectedForMobile]);\r\n\r\n    // Información de tiempo y porciones memoizada\r\n    const recipeInfo = useMemo(\r\n      () => (\r\n        <div className=\"flex items-center text-xs text-slate-600 dark:text-slate-300 mb-2 space-x-2\">\r\n          {recipe.prepTime && (\r\n            <div className=\"flex items-center recipe-action-button\">\r\n              <ClockIcon\r\n                size={12}\r\n                className=\"mr-1\"\r\n                aria-hidden=\"true\"\r\n                style={{\r\n                  color: \"#059669\",\r\n                  stroke: \"#059669\",\r\n                  strokeWidth: 1.5,\r\n                }}\r\n              />\r\n              <span>{recipe.prepTime}</span>\r\n            </div>\r\n          )}\r\n          {recipe.servings && (\r\n            <div className=\"flex items-center recipe-action-button\">\r\n              <Users\r\n                size={12}\r\n                className=\"mr-1\"\r\n                aria-hidden=\"true\"\r\n                style={{\r\n                  color: \"#059669\",\r\n                  stroke: \"#059669\",\r\n                  strokeWidth: 1.5,\r\n                }}\r\n              />\r\n              <span>{recipe.servings} porc.</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ),\r\n      [recipe.prepTime, recipe.servings]\r\n    ); // Botones de acción memoizados\r\n    const actionButtons = useMemo(() => {\r\n      if (showDeleteButton || (!onEdit && !onDelete && !onShare)) return null;\r\n\r\n      return (\r\n        <div className=\"mt-3 pt-2 border-t dark:border-slate-600 flex justify-end space-x-1.5\">\r\n          {\" \"}\r\n          {onShare && (\r\n            <button\r\n              onClick={handleShare}\r\n              className=\"recipe-action-button p-1.5 rounded-full hover:bg-blue-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors\"\r\n              title=\"Compartir Receta\"\r\n              aria-label={`Compartir receta ${recipe.name}`}\r\n            >\r\n              <Share2\r\n                size={16}\r\n                style={{ color: \"#2563eb\", stroke: \"#2563eb\", strokeWidth: 2 }}\r\n              />\r\n            </button>\r\n          )}\r\n          {onEdit && (\r\n            <button\r\n              onClick={handleEdit}\r\n              className=\"recipe-action-button p-1.5 rounded-full hover:bg-emerald-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors\"\r\n              title=\"Editar Receta\"\r\n              aria-label={`Editar receta ${recipe.name}`}\r\n            >\r\n              <Edit3\r\n                size={16}\r\n                style={{ color: \"#16a34a\", stroke: \"#16a34a\", strokeWidth: 2 }}\r\n              />\r\n            </button>\r\n          )}\r\n          {onDelete && (\r\n            <button\r\n              onClick={handleDelete}\r\n              className=\"recipe-action-button p-1.5 rounded-full hover:bg-red-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors\"\r\n              title=\"Eliminar Receta\"\r\n              aria-label={`Eliminar receta ${recipe.name}`}\r\n            >\r\n              <Trash2\r\n                size={16}\r\n                style={{ color: \"#dc2626\", stroke: \"#dc2626\", strokeWidth: 2 }}\r\n              />\r\n            </button>\r\n          )}\r\n        </div>\r\n      );\r\n    }, [\r\n      showDeleteButton,\r\n      onEdit,\r\n      onDelete,\r\n      onShare,\r\n      handleShare,\r\n      handleEdit,\r\n      handleDelete,\r\n      recipe.name,\r\n    ]);\r\n\r\n    return (\r\n      <article\r\n        className={cardClasses}\r\n        onClick={handleCardClick}\r\n        draggable={isDraggable}\r\n        onDragStart={handleDragStart}\r\n        role={onSelect ? \"button\" : undefined}\r\n        tabIndex={onSelect ? 0 : undefined}\r\n        aria-selected={isSelected}\r\n        aria-label={`Receta: ${recipe.name}`}\r\n      >\r\n        {\" \"}\r\n        {/* Imagen de la receta con optimizaciones */}\r\n        <div className=\"relative bg-slate-100 dark:bg-slate-700 h-32 flex items-center justify-center pt-2\">\r\n          <img\r\n            className=\"w-full h-28 object-contain\"\r\n            src={recipe.imageUrl || placeholderImage}\r\n            alt={`Imagen de ${recipe.name}`}\r\n            loading=\"lazy\"\r\n            decoding=\"async\"\r\n            onError={handleImageError}\r\n          />{\" \"}\r\n          {/* Ícono de arrastre si la tarjeta es arrastrable */}\r\n          {isDraggable && !isTouchDevice && (\r\n            <GripVertical\r\n              size={16}\r\n              className=\"absolute top-2 right-2 text-white bg-black bg-opacity-50 rounded p-0.5\"\r\n              aria-hidden=\"true\"\r\n            />\r\n          )}\r\n          {/* Indicador táctil para móviles */}\r\n          {isDraggable && isTouchDevice && (\r\n            <div className=\"absolute top-2 right-2 bg-emerald-500 text-white text-xs px-2 py-1 rounded-full font-bold\">\r\n              TOCA\r\n            </div>\r\n          )}\r\n          {/* Indicador de selección para móviles */}\r\n          {isSelectedForMobile && (\r\n            <div className=\"absolute top-2 left-2 bg-emerald-500 text-white text-xs px-2 py-1 rounded-full font-bold\">\r\n              ✓ SELECCIONADA\r\n            </div>\r\n          )}\r\n          {/* Botón de eliminar específico para el planificador */}\r\n          {showDeleteButton && onDelete && (\r\n            <button\r\n              onClick={handleDelete}\r\n              className=\"absolute top-1.5 right-1.5 p-1 bg-red-100 text-red-500 rounded-full hover:bg-red-200 dark:bg-red-800 dark:text-red-300 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors\"\r\n              title=\"Quitar receta del día\"\r\n              aria-label={`Quitar ${recipe.name} del día`}\r\n            >\r\n              <X size={14} />\r\n            </button>\r\n          )}\r\n        </div>\r\n        {/* Contenido de la tarjeta */}\r\n        <div className=\"p-3\">\r\n          {/* Nombre de la receta */}\r\n          <h3\r\n            className=\"text-base sm:text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-1 truncate tracking-tight\"\r\n            title={recipe.name}\r\n          >\r\n            {recipe.name}\r\n          </h3>\r\n          {/* Categoría de la receta */}\r\n          {recipe.category && (\r\n            <span className=\"inline-block bg-amber-200 text-amber-800 text-xs font-bold px-2 py-0.5 rounded-full mb-2 tracking-wide truncate max-w-full\">\r\n              {recipe.category}\r\n            </span>\r\n          )}{\" \"}\r\n          {/* Información adicional: tiempo y porciones */}\r\n          {recipeInfo}\r\n          {/* Like button */}\r\n          <div className=\"flex justify-between items-center\">\r\n            <LikeButton\r\n              recipeId={recipe.id}\r\n              likesCount={getLikes(recipe.id)}\r\n              isLiked={hasUserLiked(recipe.id)}\r\n              onToggleLike={toggleLike}\r\n              size=\"sm\"\r\n              showCount={true}\r\n            />\r\n          </div>\r\n          {/* Botones de acción */}\r\n          {actionButtons}\r\n        </div>\r\n      </article>\r\n    );\r\n  }\r\n);\r\n\r\n// Nombre para debugging\r\nRecipeCard.displayName = \"RecipeCard\";\r\n\r\n// Exporta el componente memoizado con comparación personalizada\r\nexport default RecipeCard;\r\n","import { useState, useEffect } from \"react\";\r\n\r\n/**\r\n * Hook personalizado para detectar dispositivos móviles y táctiles\r\n * @returns {Object} Objeto con información del dispositivo\r\n */\r\nexport const useMobileDetection = () => {\r\n  const [deviceInfo, setDeviceInfo] = useState({\r\n    isMobile: false,\r\n    isTouchDevice: false,\r\n    screenWidth: 0,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const checkDevice = () => {\r\n      const isTouchDevice =\r\n        \"ontouchstart\" in window || navigator.maxTouchPoints > 0;\r\n      const screenWidth = window.innerWidth;\r\n      const isMobile = screenWidth <= 768 || isTouchDevice;\r\n\r\n      setDeviceInfo({\r\n        isMobile,\r\n        isTouchDevice,\r\n        screenWidth,\r\n      });\r\n    };\r\n\r\n    // Verificar al montar\r\n    checkDevice();\r\n\r\n    // Escuchar cambios de tamaño de ventana\r\n    window.addEventListener(\"resize\", checkDevice);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", checkDevice);\r\n    };\r\n  }, []);\r\n\r\n  return deviceInfo;\r\n};\r\n","import React, { useCallback, useEffect } from \"react\";\r\nimport { X } from \"lucide-react\";\r\n\r\n/**\r\n * Modal\r\n * Componente modal genérico y reutilizable optimizado.\r\n * Muestra contenido en una ventana emergente centrada con funcionalidades avanzadas.\r\n *\r\n * Características:\r\n * - Renderizado condicional optimizado\r\n * - Manejo de teclado (Escape para cerrar)\r\n * - Prevención de scroll del body cuando está abierto\r\n * - Cierre al hacer clic en el overlay\r\n * - Accesibilidad mejorada con ARIA\r\n * - Animaciones suaves\r\n *\r\n * @param {Object} props - Propiedades del componente\r\n * @param {boolean} props.isOpen - Controla la visibilidad del modal\r\n * @param {Function} props.onClose - Función para cerrar el modal\r\n * @param {string} props.title - Título mostrado en el encabezado\r\n * @param {React.ReactNode} props.children - Contenido del modal\r\n * @param {Function} [props.onKeyDown] - Manejador adicional de teclas (opcional)\r\n * @returns {JSX.Element|null} El componente modal o null si está cerrado\r\n */\r\nconst Modal = ({ isOpen, onClose, title, children, onKeyDown }) => {\r\n  // Manejador optimizado para cerrar el modal\r\n  const handleClose = useCallback(() => {\r\n    if (onClose) {\r\n      onClose();\r\n    }\r\n  }, [onClose]);\r\n\r\n  // Manejador para cerrar al hacer clic en el overlay\r\n  const handleOverlayClick = useCallback(\r\n    event => {\r\n      // Solo cierra si se hace clic directamente en el overlay, no en el contenido\r\n      if (event.target === event.currentTarget) {\r\n        handleClose();\r\n      }\r\n    },\r\n    [handleClose]\r\n  );\r\n\r\n  // Manejador de teclado para accesibilidad\r\n  const handleKeyDown = useCallback(\r\n    event => {\r\n      // Maneja la tecla Escape para cerrar el modal\r\n      if (event.key === \"Escape\") {\r\n        handleClose();\r\n      }\r\n\r\n      // Ejecuta manejador adicional si se proporciona\r\n      if (onKeyDown) {\r\n        onKeyDown(event);\r\n      }\r\n    },\r\n    [handleClose, onKeyDown]\r\n  );\r\n  // Efecto para manejar el scroll del body y eventos de teclado\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      // Guarda el estado actual del overflow del body\r\n      const originalOverflow = document.body.style.overflow;\r\n\r\n      // Previene el scroll del body cuando el modal está abierto\r\n      document.body.style.overflow = \"hidden\";\r\n\r\n      // Añade listener para el teclado\r\n      document.addEventListener(\"keydown\", handleKeyDown);\r\n\r\n      // Función de limpieza que restaura el estado original\r\n      return () => {\r\n        document.body.style.overflow = originalOverflow || \"auto\";\r\n        document.removeEventListener(\"keydown\", handleKeyDown);\r\n      };\r\n    } else {\r\n      // Asegura que el scroll esté habilitado cuando el modal no está abierto\r\n      document.body.style.overflow = \"auto\";\r\n    }\r\n  }, [isOpen, handleKeyDown]);\r\n\r\n  // Renderizado condicional optimizado\r\n  if (!isOpen) return null;\r\n  return (\r\n    // Overlay principal con backdrop blur y centrado\r\n    <div\r\n      className=\"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex justify-center items-center z-50 p-4 animate-in fade-in duration-200\"\r\n      onClick={handleOverlayClick}\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      aria-labelledby=\"modal-title\"\r\n      aria-describedby=\"modal-content\"\r\n    >\r\n      {\" \"}\r\n      {/* Contenedor del modal con animación de entrada y scroll mejorado */}\r\n      <div className=\"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] min-h-0 flex flex-col animate-in zoom-in-95 duration-200 overflow-hidden\">\r\n        {/* Encabezado del modal - fijo en la parte superior */}\r\n        <header className=\"flex justify-between items-center p-6 pb-4 border-b border-slate-200 dark:border-slate-600 flex-shrink-0\">\r\n          <h2\r\n            id=\"modal-title\"\r\n            className=\"text-2xl font-bold text-emerald-700 dark:text-emerald-400 pr-8\"\r\n          >\r\n            {title}\r\n          </h2>\r\n\r\n          {/* Botón de cierre optimizado */}\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleClose}\r\n            className=\"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-all duration-200 p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 flex-shrink-0\"\r\n            aria-label=\"Cerrar modal\"\r\n          >\r\n            <X size={24} />\r\n          </button>\r\n        </header>\r\n\r\n        {/* Contenido principal del modal - con scroll independiente mejorado */}\r\n        <main\r\n          id=\"modal-content\"\r\n          className=\"flex-1 min-h-0 p-6 pt-4 overflow-y-auto overflow-x-hidden custom-scrollbar focus:outline-none\"\r\n          tabIndex={-1}\r\n          style={{\r\n            maxHeight: \"calc(90vh - 100px)\",\r\n            overflowY: \"auto\",\r\n            WebkitOverflowScrolling: \"touch\",\r\n          }}\r\n        >\r\n          {children}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Exporta el componente memoizado con comparación personalizada\r\nexport default React.memo(Modal, (prevProps, nextProps) => {\r\n  // Comparación optimizada para evitar re-renders innecesarios\r\n  return (\r\n    prevProps.isOpen === nextProps.isOpen &&\r\n    prevProps.title === nextProps.title &&\r\n    prevProps.children === nextProps.children\r\n  );\r\n});\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('Trash2', [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n]);\n\nexport default Trash2;\n"],"names":["useRecipeLikes","likes","setLikes","useState","STORAGE_KEY","useEffect","savedLikes","localStorage","getItem","parsedLikes","JSON","parse","error","console","warn","saveLikes","useCallback","newLikes","setItem","stringify","getLikes","recipeId","hasUserLiked","userLikesKey","concat","userLikes","toggleLike","currentLikes","userHasLiked","_objectSpread","Math","max","parsedUserLikes","newUserLikes","initializeRecipeLikes","recipes","hasChanges","forEach","recipe","id","Users","createLucideIcon","d","key","cx","cy","r","Star","points","LikeButton","memo","_ref","likesCount","isLiked","onToggleLike","size","showCount","config","sm","icon","padding","text","gap","md","lg","handleToggleLike","e","preventDefault","stopPropagation","buttonClasses","trim","starClasses","countClasses","_jsxs","onClick","className","title","type","children","_jsx","style","filter","displayName","Share2","x1","x2","y1","y2","PenLine","GripVertical","RecipeCard","onEdit","onDelete","onShare","onSelect","onShowDetails","isSelected","isDraggable","showDeleteButton","isTouchDevice","useMobileDetection","selectedRecipeForMobile","isAddingToDay","selectRecipeForMobile","useMobileInteraction","isSelectedForMobile","placeholderImage","useMemo","recipeName","name","encodeURIComponent","handleDragStart","dataTransfer","setData","effectAllowed","handleCardClick","target","closest","handleImageError","onerror","src","handleShare","handleEdit","handleDelete","cardClasses","selectedClasses","cursorClasses","mobileSelectedClasses","recipeInfo","prepTime","ClockIcon","color","stroke","strokeWidth","servings","actionButtons","Edit3","Trash2","draggable","onDragStart","role","undefined","tabIndex","imageUrl","alt","loading","decoding","onError","X","category","deviceInfo","setDeviceInfo","isMobile","screenWidth","checkDevice","window","navigator","maxTouchPoints","innerWidth","addEventListener","removeEventListener","Modal","isOpen","onClose","onKeyDown","handleClose","handleOverlayClick","event","currentTarget","handleKeyDown","originalOverflow","document","body","overflow","maxHeight","overflowY","WebkitOverflowScrolling","React","prevProps","nextProps"],"sourceRoot":""}