/*! For license information please see 103.12a8db59.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkrecetario_magico=self.webpackChunkrecetario_magico||[]).push([[103],{103:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Y});var r=t(555),s=t(43),l=t(504),o=t(855),i=t(781),n=t(784);const d=(0,n.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),c=(0,n.A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var m=t(614),u=t(625),g=t(579);const x=["Desayuno \ud83e\udd50","Almuerzo \ud83e\udd57","Cena \ud83c\udf5d","Postre \ud83c\udf70","Snack \ud83c\udf7f","Bebida \ud83c\udf79","Otro \u2728"],h={name:"",ingredients:[{text:""}],instructions:[{text:""}],prepTime:"",category:x[0],imageUrl:"",imageFile:null,imagePreview:"",imageSource:"url",servings:""},b=e=>{let{isOpen:a,onClose:t,onSave:l,initialRecipe:n}=e;const[b,p]=(0,s.useState)(h),{name:f,ingredients:v,instructions:j,prepTime:k,category:w,imageUrl:N,imagePreview:y,imageSource:C,servings:E}=b;(0,s.useEffect)((()=>{if(a)if(n){var e,t,r;const a=n.imageUrl&&!n.imageUrl.startsWith("data:");p({name:n.name||"",ingredients:(null===(e=n.ingredients)||void 0===e?void 0:e.length)>0?n.ingredients.map((e=>({text:e}))):[{text:""}],instructions:(null===(t=n.instructions)||void 0===t?void 0:t.length)>0?n.instructions.map((e=>({text:e}))):[{text:""}],prepTime:n.prepTime||"",category:n.category||x[0],imageUrl:a?n.imageUrl:"",imageFile:null,imagePreview:!a&&n.imageUrl?n.imageUrl:"",imageSource:a?"url":n.imageUrl?"file":"url",servings:(null===(r=n.servings)||void 0===r?void 0:r.toString())||""})}else p(h)}),[n,a]);const A=(0,s.useCallback)(((e,a)=>{p((t=>(0,r.A)((0,r.A)({},t),{},{[e]:a})))}),[p]),O=(0,s.useCallback)((function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p((l=>{const o=l[e];let i;switch(a){case"add":i=[...o,{text:""}];break;case"remove":i=o.filter(((e,a)=>a!==t)),0===i.length&&(i=[{text:""}]);break;case"update":i=o.map(((e,a)=>a===t?{text:s}:e));break;default:return l}return(0,r.A)((0,r.A)({},l),{},{[e]:i})}))}),[p]),S=(0,s.useCallback)((e=>{A("name",e.target.value)}),[A]),R=(0,s.useCallback)((e=>{A("prepTime",e.target.value)}),[A]),T=(0,s.useCallback)((e=>{A("servings",e.target.value)}),[A]),I=(0,s.useCallback)((e=>{A("category",e.target.value)}),[A]),M=(0,s.useCallback)((e=>{A("imageUrl",e.target.value),"url"===C&&(A("imagePreview",""),A("imageFile",null))}),[A,C]),z=(0,s.useCallback)((e=>{A("imageSource",e),"url"===e?(A("imageFile",null),A("imagePreview","")):A("imageUrl","")}),[A]),P=(0,s.useCallback)((e=>{const a=e.target.files[0];if(a){if(!a.type.startsWith("image/"))return void alert("Por favor selecciona un archivo de imagen v\xe1lido");if(a.size>5242880)return void alert("La imagen es muy grande. Por favor selecciona una imagen menor a 5MB");const e=new FileReader;e.onload=e=>{const t=e.target.result;A("imageFile",a),A("imagePreview",t),A("imageUrl",t)},e.readAsDataURL(a)}}),[A]),U=(0,s.useCallback)((()=>{A("imageFile",null),A("imagePreview",""),A("imageUrl","")}),[A]),L=(0,s.useCallback)((e=>{e.preventDefault();const a={name:f.trim(),ingredients:v.map((e=>e.text.trim())).filter((e=>e.length>0)),instructions:j.map((e=>e.text.trim())).filter((e=>e.length>0)),prepTime:k.trim(),category:w,imageUrl:N.trim(),servings:E?parseInt(E,10):null};a.name?0!==a.ingredients.length?0!==a.instructions.length?l(a):alert("Debe agregar al menos una instrucci\xf3n"):alert("Debe agregar al menos un ingrediente"):alert("El nombre de la receta es obligatorio")}),[f,v,j,k,w,N,E,l]),_=(0,s.useMemo)((()=>e=>{let{label:a,fieldName:t,placeholder:r,fields:s}=e;return(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1.5",children:a}),s.map(((e,a)=>(0,g.jsxs)("div",{className:"flex items-center mb-2 gap-2",children:[" ",(0,g.jsx)("input",{type:"text",placeholder:"".concat(r," ").concat(a+1),value:e.text,onChange:e=>O(t,"update",a,e.target.value),className:"flex-1 p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/50 transition-all duration-200 backdrop-blur-sm"}),s.length>1&&(0,g.jsx)("button",{type:"button",onClick:()=>O(t,"remove",a),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-100 dark:hover:bg-red-800 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-label":"Eliminar ".concat(r.toLowerCase()),children:(0,g.jsx)(o.A,{size:18})})]},"".concat(t,"-").concat(a)))),(0,g.jsxs)("button",{type:"button",onClick:()=>O(t,"add"),className:"mt-1 text-sm text-emerald-600 hover:text-emerald-800 dark:text-emerald-400 dark:hover:text-emerald-300 flex items-center font-medium transition-colors",children:[(0,g.jsx)(i.A,{size:16,className:"mr-1"}),"A\xf1adir ",r.toLowerCase()]})]})}),[O]),F=(0,s.useMemo)((()=>n?"\u270f\ufe0f Editar Receta":"\u2728 Crear Nueva Receta"),[n]),D=(0,s.useMemo)((()=>n?"Guardar Cambios":"Guardar Receta"),[n]);return(0,g.jsx)(u.A,{isOpen:a,onClose:t,title:F,children:(0,g.jsxs)("form",{onSubmit:L,className:"space-y-4 text-slate-800 dark:text-slate-200 text-sm sm:text-base",noValidate:!0,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"recipe-name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre de la Receta *"})," ",(0,g.jsx)("input",{type:"text",id:"recipe-name",value:f,onChange:S,required:!0,className:"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/50 transition-all duration-200 backdrop-blur-sm",placeholder:"Ej: Pasta a la carbonara"})]}),(0,g.jsx)(_,{label:"Ingredientes \ud83e\udd55 *",fieldName:"ingredients",placeholder:"Ingrediente",fields:v}),(0,g.jsx)(_,{label:"Instrucciones \ud83d\udcdd *",fieldName:"instructions",placeholder:"Paso",fields:j}),(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"prep-time",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"\u23f1\ufe0f Tiempo de Preparaci\xf3n"})," ",(0,g.jsx)("input",{type:"text",id:"prep-time",value:k,onChange:R,placeholder:"Ej: 30 minutos",className:"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 dark:focus:border-blue-400 dark:focus:ring-blue-400/50 transition-all duration-200 backdrop-blur-sm"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"servings",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"\ud83c\udf7d\ufe0f Porciones"})," ",(0,g.jsx)("input",{type:"number",id:"servings",value:E,min:"1",max:"50",onChange:T,placeholder:"4",className:"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 dark:focus:border-blue-400 dark:focus:ring-blue-400/50 transition-all duration-200 backdrop-blur-sm"})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"\ud83c\udff7\ufe0f Categor\xeda"})," ",(0,g.jsx)("select",{id:"category",value:w,onChange:I,className:"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm focus:ring-2 focus:ring-purple-400 focus:border-purple-400 dark:focus:border-purple-400 dark:focus:ring-purple-400/50 transition-all duration-200 backdrop-blur-sm",children:x.map((e=>(0,g.jsx)("option",{value:e,children:e},e)))})]})," ",(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-3",children:"\ud83d\uddbc\ufe0f Imagen de la Receta (Opcional)"}),(0,g.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,g.jsx)("button",{type:"button",onClick:()=>z("url"),className:"flex-1 p-3 rounded-lg border-2 transition-all duration-200 ".concat("url"===C?"border-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:border-indigo-300"),children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)("div",{className:"text-lg mb-1",children:"\ud83d\udd17"}),(0,g.jsx)("div",{className:"text-sm font-medium",children:"URL"})]})}),(0,g.jsx)("button",{type:"button",onClick:()=>z("file"),className:"flex-1 p-3 rounded-lg border-2 transition-all duration-200 ".concat("file"===C?"border-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:border-indigo-300"),children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)(d,{size:20,className:"mx-auto mb-1"}),(0,g.jsx)("div",{className:"text-sm font-medium",children:"Subir"})]})})]}),"url"===C&&(0,g.jsx)("input",{type:"url",id:"image-url",placeholder:"https://ejemplo.com/imagen.jpg",value:N,onChange:M,className:"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400/50 transition-all duration-200 backdrop-blur-sm"}),"file"===C&&(0,g.jsx)("div",{className:"space-y-3",children:(0,g.jsxs)("div",{className:"flex gap-2",children:[(0,g.jsxs)("label",{className:"flex-1 cursor-pointer",children:[(0,g.jsx)("div",{className:"flex items-center justify-center p-4 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg hover:border-indigo-400 transition-colors bg-slate-50 dark:bg-slate-700/50",children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)(d,{size:24,className:"mx-auto mb-2 text-slate-400"}),(0,g.jsx)("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Seleccionar imagen"}),(0,g.jsx)("div",{className:"text-xs text-slate-400 mt-1",children:"JPG, PNG, GIF hasta 5MB"})]})}),(0,g.jsx)("input",{type:"file",accept:"image/*",onChange:P,className:"hidden"})]}),(0,g.jsxs)("label",{className:"cursor-pointer",children:[(0,g.jsx)("div",{className:"flex items-center justify-center p-4 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg hover:border-indigo-400 transition-colors bg-slate-50 dark:bg-slate-700/50 w-20",children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)(c,{size:20,className:"mx-auto text-slate-400"}),(0,g.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-300 mt-1",children:"C\xe1mara"})]})}),(0,g.jsx)("input",{type:"file",accept:"image/*",capture:"environment",onChange:P,className:"hidden"})]})]})}),(y||"url"===C&&N)&&(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("div",{className:"w-full h-32 bg-slate-100 dark:bg-slate-700 rounded-lg overflow-hidden flex items-center justify-center",children:(0,g.jsx)("img",{src:y||N,alt:"Preview",className:"max-w-full max-h-full object-contain",onError:e=>{e.target.style.display="none"}})}),(0,g.jsx)("button",{type:"button",onClick:U,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",title:"Eliminar imagen",children:(0,g.jsx)(m.A,{size:14})})]})]}),(0,g.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-6 border-t border-slate-200 dark:border-slate-600",children:[(0,g.jsx)("button",{type:"button",onClick:t,className:"px-5 py-2.5 text-sm font-medium rounded-lg shadow-sm bg-slate-200 hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",children:"Cancelar"}),(0,g.jsxs)("button",{type:"submit",className:"px-5 py-2.5 text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg shadow-md flex items-center justify-center transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",children:[(0,g.jsx)(i.A,{size:20,className:"mr-2"}),D]})]})]})})},p=s.memo(b,((e,a)=>e.isOpen===a.isOpen&&e.initialRecipe===a.initialRecipe));var f=t(652);const v=(0,n.A)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),j=(0,n.A)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),k=(0,n.A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),w=(0,n.A)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var N=t(306),y=t(963);const C=(0,n.A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),E=(0,n.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),A=(0,n.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),O=e=>{let{isOpen:a,onClose:t,recipe:r,shareUrl:l,showToast:o}=e;const[i,n]=(0,s.useState)(!1),d=(0,s.useRef)(null),c=(0,s.useCallback)((e=>new Promise(((a,t)=>{const r=document.createElement("textarea");r.value=e,r.style.position="fixed",r.style.left="-999999px",r.style.top="-999999px",r.setAttribute("readonly",""),document.body.appendChild(r);try{r.select(),r.setSelectionRange(0,e.length);if(!document.execCommand("copy"))throw new Error("execCommand fall\xf3");a()}catch(s){t(s)}finally{document.body.removeChild(r)}}))),[]),m=(0,s.useCallback)((async()=>{if(null!==l&&void 0!==l&&l.trim())try{navigator.clipboard&&window.isSecureContext?await navigator.clipboard.writeText(l):await c(l),n(!0),null===o||void 0===o||o("\xa1Enlace copiado al portapapeles!","success"),d.current&&clearTimeout(d.current),d.current=setTimeout((()=>{n(!1),d.current=null}),2e3)}catch(e){null===o||void 0===o||o("No se pudo copiar el enlace","error")}else null===o||void 0===o||o("No hay contenido para copiar","warning")}),[l,o,c]),x=(0,s.useMemo)((()=>{if(!r||!l)return[];const e=r.name||"Receta deliciosa",a="".concat(e," - Preparaci\xf3n: ").concat(r.prepTime||"N/A"," | Porciones: ").concat(r.servings||"N/A"),t=encodeURIComponent(a),s=encodeURIComponent(l);return[{name:"Facebook",icon:v,color:"bg-blue-600 hover:bg-blue-700",url:"https://www.facebook.com/sharer/sharer.php?u=".concat(s,"&quote=").concat(t),description:"Compartir en Facebook"},{name:"X (Twitter)",icon:j,color:"bg-black hover:bg-gray-800",url:"https://x.com/intent/tweet?text=".concat(t,"&url=").concat(s,"&hashtags=receta,cocina,RecetarioMagico"),description:"Compartir en X"},{name:"WhatsApp",icon:k,color:"bg-green-600 hover:bg-green-700",url:"https://wa.me/?text=".concat(encodeURIComponent("\xa1Mira esta receta de ".concat(e,"! ").concat(l," #receta #cocina #RecetarioMagico"))),description:"Compartir en WhatsApp"},{name:"Telegram",icon:w,color:"bg-blue-500 hover:bg-blue-600",url:"https://t.me/share/url?url=".concat(s,"&text=").concat(t),description:"Compartir en Telegram"}]}),[r,l]),h=(0,s.useCallback)((e=>{e.url&&(window.open(e.url,"_blank","noopener,noreferrer,width=600,height=400"),null===o||void 0===o||o("Compartiendo en ".concat(e.name,"..."),"info"))}),[o]),b=(0,s.useCallback)((async()=>{if(navigator.share)try{await navigator.share({title:(null===r||void 0===r?void 0:r.name)||"Receta del Recetario M\xe1gico",text:"\xa1Mira esta deliciosa receta de ".concat((null===r||void 0===r?void 0:r.name)||"cocina","! Preparaci\xf3n: ").concat((null===r||void 0===r?void 0:r.prepTime)||"N/A"," | Porciones: ").concat((null===r||void 0===r?void 0:r.servings)||"N/A"),url:l}),null===o||void 0===o||o("\xa1Receta compartida exitosamente!","success")}catch(e){"AbortError"!==e.name&&(null===o||void 0===o||o("Error al compartir","error"))}else null===o||void 0===o||o("Compartir nativo no disponible","warning")}),[r,l,o]),p=(0,s.useMemo)((()=>navigator.share&&/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),[]);return s.useEffect((()=>()=>{d.current&&clearTimeout(d.current)}),[]),r?(0,g.jsx)(u.A,{isOpen:a,onClose:t,title:"Compartir Receta",children:(0,g.jsxs)("div",{className:"space-y-6",children:[(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsxs)("div",{className:"flex items-center justify-center mb-3",children:[(0,g.jsx)(N.A,{size:24,className:"text-emerald-500 mr-2"}),(0,g.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:r.name})]})," ",(0,g.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Comparte esta deliciosa receta - se abrir\xe1 en el Recetario M\xe1gico"})]}),(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsx)("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 text-center",children:"Compartir en redes sociales"}),(0,g.jsx)("div",{className:"grid grid-cols-2 gap-3",children:x.map((e=>(0,g.jsxs)("button",{onClick:()=>h(e),className:"".concat(e.color," text-white p-3 rounded-lg font-medium text-sm transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-800 flex items-center justify-center gap-2 shadow-md"),"aria-label":e.description,children:[(0,g.jsx)(e.icon,{size:18}),(0,g.jsx)("span",{children:e.name})]},e.name)))}),p&&(0,g.jsxs)("button",{onClick:b,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white p-3 rounded-lg font-medium text-sm transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 flex items-center justify-center gap-2 shadow-md",children:[(0,g.jsx)(y.A,{size:18}),(0,g.jsx)("span",{children:"Compartir (Nativo)"})]})]}),(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsx)("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 text-center",children:"O copia el enlace directo"}),(0,g.jsx)("div",{className:"bg-gradient-to-br from-slate-50 to-emerald-50 dark:from-slate-800/60 dark:to-slate-700/40 border border-slate-200 dark:border-emerald-400/30 rounded-lg p-4",children:(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("div",{className:"flex-1 min-w-0",children:(0,g.jsx)("p",{className:"font-mono text-xs text-slate-700 dark:text-slate-300 break-all leading-relaxed",children:l})}),(0,g.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,g.jsx)("button",{onClick:()=>window.open(l,"_blank"),className:"p-2 text-slate-600 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-slate-500",title:"Abrir enlace",children:(0,g.jsx)(C,{size:16})}),(0,g.jsxs)("button",{onClick:m,className:"flex items-center gap-2 px-3 py-2 rounded-md font-medium text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ".concat(i?"bg-green-100 text-green-700 hover:bg-green-200 focus:ring-green-500":"bg-emerald-500 text-white hover:bg-emerald-600 focus:ring-emerald-500"),disabled:i,children:[i?(0,g.jsx)(E,{size:16,className:"text-green-600"}):(0,g.jsx)(A,{size:16}),(0,g.jsx)("span",{children:i?"\xa1Copiado!":"Copiar"})]})]})]})})]})," ",(0,g.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-center bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:(0,g.jsxs)("p",{className:"flex items-center justify-center",children:[(0,g.jsx)("span",{className:"mr-2",children:"\ud83d\udd17"}),"El enlace abrir\xe1 el Recetario M\xe1gico y mostrar\xe1 autom\xe1ticamente esta receta"]})}),(0,g.jsx)("div",{className:"flex justify-end pt-4 border-t border-slate-200 dark:border-slate-600",children:(0,g.jsx)("button",{onClick:t,className:"px-5 py-2.5 text-sm font-medium rounded-lg shadow-sm bg-slate-200 hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",children:"Cerrar"})})]})}):null},S=s.memo(O);var R=t(419),T=t(372);const I=(0,s.memo)((e=>{let{isOpen:a,onClose:t,recipe:r}=e;const[l,o]=s.useState(!1);if(!a||!r)return null;const i=r.ingredients&&r.ingredients.length>0?r.ingredients.join("\n"):"No hay ingredientes disponibles";return(0,g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:(0,g.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-lg w-full max-h-[85vh] overflow-hidden shadow-2xl border dark:border-slate-600 transform transition-all",children:[(0,g.jsxs)("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 dark:from-emerald-600 dark:to-green-700 p-6 relative overflow-hidden",children:[(0,g.jsx)("div",{className:"absolute inset-0 bg-white/10 rounded-full -top-10 -right-10 w-32 h-32"}),(0,g.jsx)("div",{className:"absolute inset-0 bg-white/5 rounded-full -bottom-8 -left-8 w-24 h-24"}),(0,g.jsxs)("div",{className:"flex items-center justify-between relative z-10",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-sm",children:(0,g.jsx)(R.A,{className:"h-6 w-6 text-white"})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"text-xl font-bold text-white",children:"Lista de Ingredientes"}),(0,g.jsx)("p",{className:"text-emerald-100 text-sm font-medium",children:r.name})]})]}),(0,g.jsx)("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-xl transition-colors backdrop-blur-sm","aria-label":"Cerrar modal",children:(0,g.jsx)(m.A,{className:"h-5 w-5 text-white"})})]})]}),r.servings&&(0,g.jsx)("div",{className:"px-6 py-3 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-slate-700 dark:to-slate-600 border-b dark:border-slate-600",children:(0,g.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,g.jsx)(T.A,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),(0,g.jsxs)("span",{className:"text-sm font-medium text-emerald-700 dark:text-emerald-300",children:["Para ",r.servings," porciones"]})]})}),(0,g.jsx)("div",{className:"p-6 overflow-y-auto max-h-96",children:r.ingredients&&r.ingredients.length>0?(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsx)("div",{className:"grid gap-2 mb-6",children:r.ingredients.map(((e,a)=>(0,g.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gradient-to-r from-slate-50 to-emerald-50 dark:from-slate-700 dark:to-slate-600 rounded-lg border border-emerald-100 dark:border-slate-600 hover:shadow-md transition-all",children:[(0,g.jsx)("span",{className:"flex-shrink-0 w-7 h-7 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center text-xs font-bold shadow-sm",children:a+1}),(0,g.jsx)("span",{className:"text-slate-700 dark:text-slate-200 flex-1 font-medium leading-relaxed",children:e})]},a)))}),(0,g.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-emerald-50 dark:from-slate-800 dark:to-slate-700 rounded-xl p-4 border border-emerald-200 dark:border-slate-600",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,g.jsx)(A,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),(0,g.jsx)("span",{className:"text-sm font-semibold text-emerald-700 dark:text-emerald-300",children:"Texto para copiar:"})]}),(0,g.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-3 border border-emerald-100 dark:border-slate-600 max-h-32 overflow-y-auto",children:(0,g.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-slate-700 dark:text-slate-200 select-all font-mono leading-relaxed",children:i})})]})]}):(0,g.jsxs)("div",{className:"text-center py-12",children:[(0,g.jsx)("div",{className:"p-4 bg-slate-100 dark:bg-slate-700 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:(0,g.jsx)(T.A,{className:"h-10 w-10 text-slate-400 dark:text-slate-500"})}),(0,g.jsx)("p",{className:"text-slate-500 dark:text-slate-400 text-lg font-medium",children:"No hay ingredientes disponibles"})]})}),(0,g.jsx)("div",{className:"p-6 border-t border-slate-200 dark:border-slate-600 bg-gradient-to-r from-slate-50 to-emerald-50 dark:from-slate-800 dark:to-slate-700",children:(0,g.jsxs)("div",{className:"flex gap-3",children:[(0,g.jsx)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(i),o(!0),setTimeout((()=>o(!1)),2e3)}catch(e){const a=document.createElement("textarea");a.value=i,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),o(!0),setTimeout((()=>o(!1)),2e3)}},className:"flex-1 flex items-center justify-center gap-2 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white font-semibold py-3 px-6 rounded-xl transition-all transform hover:scale-105 shadow-lg hover:shadow-xl",children:l?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(E,{className:"h-5 w-5"}),"\xa1Copiado!"]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(A,{className:"h-5 w-5"}),"Copiar Lista"]})}),(0,g.jsx)("button",{onClick:t,className:"px-6 bg-slate-600 hover:bg-slate-700 dark:bg-slate-600 dark:hover:bg-slate-500 text-white font-semibold py-3 rounded-xl transition-all shadow-lg hover:shadow-xl",children:"Cerrar"})]})})]})})}));I.displayName="IngredientsListModal";const M=I;var z=t(184),P=t(100),U=t(212),L=t(889),_=t(88),F=t(118),D=t(272),G=t(662);const H="recipes",B="Todas las categor\xedas",X=async()=>await(0,U.Ze)(H,[...L.ko]),q=async e=>await(0,U.iu)(H,e),V=e=>{let{showToast:a,setUserRecipes:t}=e;const[o,n]=(0,s.useState)([]),[d,c]=(0,s.useState)(!1),[m,x]=(0,s.useState)(null),[h,b]=(0,s.useState)(""),[v,j]=(0,s.useState)(B),[k,w]=(0,s.useState)(null),[N,y]=(0,s.useState)(!1),[C,E]=(0,s.useState)(null),[A,O]=(0,s.useState)(!1),[T,I]=(0,s.useState)(""),[U,H]=(0,s.useState)(null),[V,Y]=(0,s.useState)(!1),[W,K]=(0,s.useState)(null);(0,s.useEffect)((()=>{(async()=>{try{const e=await X(),a=Array.isArray(e)?e:[...L.ko];n(a)}catch(e){console.error("Error cargando recetas:",e),n([...L.ko]),null===a||void 0===a||a("Error cargando recetas, usando valores por defecto","warning")}})()}),[a]);const Z=(0,s.useCallback)((async e=>{try{const a=Array.isArray(e)?e:[];await q(a),n(a),null===t||void 0===t||t(a)}catch(r){console.error("Error guardando recetas:",r),null===a||void 0===a||a("Error guardando recetas","error")}}),[t,a]),Q=(0,s.useCallback)((()=>"receta-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))),[]),J=(0,s.useCallback)((async e=>{let t;if(m)t=o.map((a=>a.id===m.id?(0,r.A)((0,r.A)((0,r.A)({},m),e),{},{updatedAt:(new Date).toISOString()}):a)),G.EU.edit(m.id,{name:e.name,category:e.category,time:e.time,servings:e.servings}),null===a||void 0===a||a("Receta actualizada exitosamente","success");else{const s=(0,r.A)((0,r.A)({},e),{},{id:Q(),createdAt:(new Date).toISOString()});t=[...o,s],G.EU.create(s.id,{name:e.name,category:e.category,time:e.time,servings:e.servings}),null===a||void 0===a||a("Receta creada exitosamente","success")}await Z(t),c(!1),x(null)}),[m,o,Z,a,Q]),$=(0,s.useCallback)((e=>{E(e),y(!0)}),[]),ee=(0,s.useCallback)((async()=>{if(!C)return;const e=o.find((e=>e.id===C)),t=o.filter((e=>e.id!==C));await Z(t),e&&G.EU.delete(C,{name:e.name,category:e.category}),null===a||void 0===a||a("Receta eliminada exitosamente","success"),y(!1),E(null)}),[C,o,Z,a]),ae=(0,s.useCallback)((()=>{y(!1),E(null)}),[]),te=(0,s.useCallback)((e=>{const t="".concat(window.location.origin).concat(window.location.pathname,"?recipe=").concat(encodeURIComponent(e.name),"&id=").concat(e.id);I(t),H(e),O(!0),G.EU.share(e.id,{name:e.name,category:e.category,shareMethod:"modal"}),null===a||void 0===a||a("\xa1Comparte esta deliciosa receta!","info")}),[a]),re=(0,s.useCallback)((()=>{d?(c(!1),x(null)):(x(null),c(!0))}),[d]),se=(0,s.useCallback)((e=>{x(e),c(!0)}),[]),le=(0,s.useCallback)((()=>{c(!1),x(null)}),[]),oe=(0,s.useCallback)((e=>{var t,r;K(e),Y(!0),null===(t=G.EU.viewIngredients)||void 0===t||t.call(G.EU,e.id,{name:e.name,category:e.category,ingredientsCount:(null===(r=e.ingredients)||void 0===r?void 0:r.length)||0}),null===a||void 0===a||a("\ud83d\udcdd Lista de ingredientes lista para usar","info")}),[a]),ie=(0,s.useCallback)((()=>{Y(!1),K(null)}),[]),ne=(0,s.useMemo)((()=>o.filter((e=>{const a=e.name.toLowerCase().includes(h.toLowerCase()),t=v===B||e.category===v;return a&&t}))),[o,h,v]),de=(0,s.useCallback)((e=>"".concat("https://placehold.co/600x300/E2E8F0/A0AEC0?text=").concat(encodeURIComponent(e||"Receta"))),[]),{getLikes:ce,hasUserLiked:me,toggleLike:ue}=(0,P.A)(),ge=(0,s.useMemo)((()=>e=>{var a,t;let{recipe:r,onClose:s}=e;if(!r)return null;const l=de(r.name);return(0,g.jsx)(u.A,{isOpen:!!r,onClose:s,title:"",children:(0,g.jsxs)("div",{className:"flex flex-col items-center",children:[(0,g.jsx)("h2",{className:"text-2xl font-extrabold text-emerald-700 dark:text-emerald-300 tracking-tight mb-2 text-center",children:r.name}),r.category&&(0,g.jsx)("span",{className:"inline-block bg-amber-200 text-amber-800 text-xs font-bold px-3 py-1 rounded-full mb-3 tracking-wide",children:r.category})," ",(0,g.jsx)("div",{className:"w-full h-48 bg-slate-100 dark:bg-slate-700 rounded-xl mb-4 flex items-center justify-center overflow-hidden",children:(0,g.jsx)("img",{src:r.imageUrl||l,alt:"Imagen de ".concat(r.name),className:"w-full h-48 object-contain",style:{objectPosition:"center"},loading:"lazy",decoding:"async",onError:e=>{e.target.onerror=null,e.target.src=l}})})," ",(0,g.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full mb-4",children:[" ",(0,g.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-emerald-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 flex items-center gap-2 border dark:border-emerald-400/20 backdrop-blur-sm",children:[(0,g.jsx)(_.A,{size:18,className:"text-emerald-500 dark:text-slate-300 flex-shrink-0","aria-hidden":"true"}),(0,g.jsx)("span",{className:"font-semibold",children:"Tiempo:"}),(0,g.jsx)("span",{className:"truncate",children:r.prepTime||"No especificado"})]})," ",(0,g.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 flex items-center gap-2 border dark:border-blue-400/20 backdrop-blur-sm",children:[(0,g.jsx)(F.A,{size:18,className:"text-emerald-500 dark:text-slate-300 flex-shrink-0","aria-hidden":"true"}),(0,g.jsx)("span",{className:"font-semibold",children:"Porciones:"}),(0,g.jsx)("span",{className:"truncate",children:r.servings?"".concat(r.servings," personas"):"No especificado"})]})]}),(0,g.jsx)("div",{className:"w-full flex justify-center mb-4",children:(0,g.jsx)(z.A,{recipeId:r.id,likesCount:ce(r.id),isLiked:me(r.id),onToggleLike:ue,size:"lg",showCount:!0})}),(0,g.jsx)("div",{className:"w-full mb-4",children:(0,g.jsxs)("button",{onClick:()=>oe(r),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,g.jsx)(R.A,{size:20}),"Ver Solo Lista de Ingredientes"]})}),(0,g.jsxs)("div",{className:"w-full mb-4",children:[(0,g.jsxs)("h3",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-2 flex items-center",children:[(0,g.jsx)("span",{className:"mr-2","aria-hidden":"true",children:"\ud83d\udcdd"}),"Ingredientes"]}),(0,g.jsxs)("ul",{className:"list-disc list-inside text-left space-y-1 bg-gradient-to-br from-emerald-50 to-slate-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 border dark:border-emerald-400/20 backdrop-blur-sm",children:[" ",(null===(a=r.ingredients)||void 0===a?void 0:a.length)>0?r.ingredients.map(((e,a)=>(0,g.jsx)("li",{className:"text-slate-700 dark:text-slate-200",children:e},"".concat(r.id,"-ingredient-").concat(a,"-").concat(e.slice(0,10))))):(0,g.jsx)("li",{className:"text-slate-400 dark:text-slate-300 italic",children:"Sin ingredientes especificados"})]})]}),(0,g.jsxs)("div",{className:"w-full mb-2",children:[(0,g.jsxs)("h3",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-2 flex items-center",children:[(0,g.jsx)("span",{className:"mr-2","aria-hidden":"true",children:"\ud83d\udc68\u200d\ud83c\udf73"}),"Instrucciones"]}),(0,g.jsxs)("ol",{className:"list-decimal list-inside text-left space-y-2 bg-gradient-to-br from-blue-50 to-slate-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 border dark:border-blue-400/20 backdrop-blur-sm",children:[" ",(null===(t=r.instructions)||void 0===t?void 0:t.length)>0?r.instructions.map(((e,a)=>(0,g.jsx)("li",{className:"text-slate-700 dark:text-slate-200",children:e},"".concat(r.id,"-instruction-").concat(a,"-").concat(e.slice(0,10))))):(0,g.jsx)("li",{className:"text-slate-400 dark:text-slate-300 italic",children:"Sin instrucciones especificadas"})]})]})]})})}),[de,oe,ce,me,ue]),xe=(0,s.useMemo)((()=>(0,g.jsxs)("div",{className:"col-span-full text-center text-slate-500 dark:text-slate-300 py-8 sm:py-10",children:[(0,g.jsx)("div",{className:"text-base sm:text-lg mb-4",children:h||v!==B?"No hay recetas que coincidan con tu b\xfasqueda.":"No tienes recetas guardadas a\xfan."})," ",!h&&v===B&&(0,g.jsxs)("button",{onClick:re,className:"inline-flex items-center px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-medium transition-colors recipe-action-button",children:[(0,g.jsx)(i.A,{size:18,className:"mr-2"}),"Crear tu primera receta"]})]})),[h,v,re]);return(0,s.useEffect)((()=>{o.length>0&&(()=>{const e=new URLSearchParams(window.location.search),t=e.get("id"),r=e.get("recipe");if(t&&o.length>0){const e=o.find((e=>e.id===t));if(e){w(e),null===a||void 0===a||a('\xa1Receta "'.concat(e.name,'" encontrada!'),"success");const t=new URL(window.location);t.searchParams.delete("id"),t.searchParams.delete("recipe"),window.history.replaceState({},"",t)}else if(r){const e=o.find((e=>e.name.toLowerCase().includes(decodeURIComponent(r).toLowerCase())));e?(w(e),null===a||void 0===a||a('\xa1Receta "'.concat(e.name,'" encontrada!'),"success")):null===a||void 0===a||a('No se encontr\xf3 la receta "'.concat(decodeURIComponent(r),'"'),"warning");const t=new URL(window.location);t.searchParams.delete("id"),t.searchParams.delete("recipe"),window.history.replaceState({},"",t)}}})()}),[o,a]),(0,g.jsxs)("div",{className:"w-full px-1 sm:px-2 md:px-4 pb-2",children:[(0,g.jsx)("div",{className:"px-1 sm:px-0",children:(0,g.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2",children:(0,g.jsxs)("div",{className:"w-full flex flex-col sm:flex-row gap-2 sm:gap-3 justify-center",children:[(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[" ",(0,g.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow p-1.5 flex items-center",children:(0,g.jsx)("input",{type:"text",placeholder:"Buscar recetas por nombre...",value:h,onChange:e=>b(e.target.value),className:"w-full p-1.5 rounded-md border border-emerald-200 dark:border-emerald-400/30 focus:border-emerald-700 dark:focus:border-emerald-400 focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400/50 focus:ring-offset-2 text-sm bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 transition-all duration-200 outline-none backdrop-blur-sm","aria-label":"Buscar recetas por nombre"})})]}),(0,g.jsx)("div",{className:"flex-shrink-0 min-w-[160px]",children:(0,g.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow p-1.5 flex items-center",children:(0,g.jsxs)("select",{value:v,onChange:e=>j(e.target.value),className:"w-full p-1.5 rounded-md border border-emerald-200 dark:border-emerald-400/30 focus:border-emerald-700 dark:focus:border-emerald-400 focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400/50 focus:ring-offset-2 text-sm bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 transition-all duration-200 outline-none backdrop-blur-sm","aria-label":"Filtrar por categor\xeda",children:[(0,g.jsx)("option",{value:B,children:B}),D.R6.map((e=>(0,g.jsx)("option",{value:e,children:e},e)))]})})})]})})})," ",(0,g.jsx)("div",{className:"mt-3 sm:mt-4",children:(0,g.jsx)("div",{className:"w-full px-1 sm:px-3",children:(0,g.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-x-2 gap-y-3 sm:gap-x-3 sm:gap-y-4",children:[ne.length>0?ne.map((e=>(0,g.jsx)(l.A,{recipe:e,onEdit:()=>se(e),onDelete:$,onShowDetails:()=>w(e),onShare:()=>te(e)},e.id))):xe," ",ne.length>0&&(0,g.jsx)("button",{onClick:re,className:"flex items-center justify-center px-4 py-8 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl text-base font-semibold shadow-lg transition-all hover:shadow-xl hover:-translate-y-1 border-2 border-dashed border-emerald-400 hover:border-emerald-300 recipe-action-button","aria-label":"Crear nueva receta",children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)(i.A,{size:24,className:"mx-auto mb-2"}),(0,g.jsx)("span",{children:"Nueva Receta"})]})})]})})}),(0,g.jsx)(p,{isOpen:d,onClose:le,onSave:J,initialRecipe:m}),(0,g.jsx)(ge,{recipe:k,onClose:()=>w(null)}),(0,g.jsx)(f.A,{isOpen:N,onClose:ae,onConfirm:ee,title:"\ud83d\uddd1\ufe0f Confirmar Eliminaci\xf3n",message:"\xbfEst\xe1s seguro de que quieres eliminar esta receta? Tambi\xe9n se quitar\xe1 del planificador y esta acci\xf3n no se puede deshacer.",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",variant:"danger"})," ",(0,g.jsx)(S,{isOpen:A,onClose:()=>{O(!1),H(null),I("")},recipe:U,shareUrl:T,showToast:a})," ",(0,g.jsx)(M,{isOpen:V,onClose:ie,recipe:W,showToast:a})," ",(0,g.jsxs)("div",{className:"fixed bottom-16 sm:bottom-20 right-4 sm:right-8 z-50",children:[!d&&(0,g.jsx)("div",{className:"absolute inset-0 -m-2 rounded-full bg-gradient-to-r from-emerald-400/30 via-green-400/30 to-teal-400/30 blur-lg animate-pulse"}),(0,g.jsxs)("button",{onClick:re,className:"group relative text-white rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center transition-all duration-500 focus:outline-none focus:ring-4 focus:ring-offset-2 recipe-action-button ".concat(d?"bg-gradient-to-br from-red-500 via-red-600 to-red-700 hover:from-red-600 hover:via-red-700 hover:to-red-800 focus:ring-red-500/50 animate-none shadow-xl hover:shadow-2xl hover:scale-110":"bg-gradient-to-br from-emerald-400 via-emerald-500 to-emerald-600 hover:from-emerald-500 hover:via-emerald-600 hover:to-emerald-700 focus:ring-emerald-400/60 shadow-lg shadow-emerald-500/50 hover:shadow-xl hover:shadow-emerald-400/60 hover:scale-125 transform hover:-translate-y-1"),title:d?"Cerrar formulario":"Crear nueva receta","aria-label":d?"Cerrar formulario":"Crear nueva receta",children:[(0,g.jsx)("div",{className:"absolute inset-0 rounded-full transition-all duration-500 ".concat(d?"bg-gradient-to-t from-transparent via-white/20 to-white/30 opacity-0 group-hover:opacity-100":"bg-gradient-to-tr from-transparent via-white/30 to-white/40 opacity-50 group-hover:opacity-80")}),!d&&(0,g.jsx)("div",{className:"absolute inset-0 rounded-full border-2 border-white/20 group-hover:border-white/40 transition-all duration-300"})," ",d?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"sm:hidden relative z-10 drop-shadow-sm w-6 h-6 flex items-center justify-center",children:[(0,g.jsx)("div",{className:"absolute w-4 h-0.5 bg-white rounded-full rotate-45"}),(0,g.jsx)("div",{className:"absolute w-4 h-0.5 bg-white rounded-full -rotate-45"})]}),(0,g.jsxs)("div",{className:"hidden sm:flex relative z-10 drop-shadow-sm w-7 h-7 items-center justify-center",children:[(0,g.jsx)("div",{className:"absolute w-5 h-0.5 bg-white rounded-full rotate-45"}),(0,g.jsx)("div",{className:"absolute w-5 h-0.5 bg-white rounded-full -rotate-45"})]})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"sm:hidden relative z-10 w-7 h-7 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:[(0,g.jsx)("div",{className:"absolute w-5 h-0.5 bg-white rounded-full drop-shadow-lg group-hover:w-6 transition-all duration-300"}),(0,g.jsx)("div",{className:"absolute w-0.5 h-5 bg-white rounded-full drop-shadow-lg group-hover:h-6 transition-all duration-300"}),(0,g.jsx)("div",{className:"absolute w-5 h-0.5 bg-white/60 rounded-full blur-sm"}),(0,g.jsx)("div",{className:"absolute w-0.5 h-5 bg-white/60 rounded-full blur-sm"})]}),(0,g.jsxs)("div",{className:"hidden sm:flex relative z-10 w-8 h-8 items-center justify-center group-hover:scale-110 transition-transform duration-300",children:[(0,g.jsx)("div",{className:"absolute w-6 h-0.5 bg-white rounded-full drop-shadow-lg group-hover:w-7 transition-all duration-300"}),(0,g.jsx)("div",{className:"absolute w-0.5 h-6 bg-white rounded-full drop-shadow-lg group-hover:h-7 transition-all duration-300"}),(0,g.jsx)("div",{className:"absolute w-6 h-0.5 bg-white/60 rounded-full blur-sm"}),(0,g.jsx)("div",{className:"absolute w-0.5 h-6 bg-white/60 rounded-full blur-sm"})]})]}),!d&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"absolute inset-0 rounded-full bg-emerald-300/40 animate-ping"}),(0,g.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-emerald-300/20 via-green-300/30 to-teal-300/20 animate-pulse"})]})," ",(0,g.jsx)("div",{className:"absolute inset-0 rounded-full border transition-all duration-500 ".concat(d?"border-red-300/50 group-hover:border-red-200/70":"border-emerald-200/60 group-hover:border-white/80 group-hover:shadow-[0_0_20px_rgba(16,185,129,0.5)]")}),!d&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"absolute -top-1 -right-1 w-1 h-1 bg-white/80 rounded-full animate-bounce delay-100"}),(0,g.jsx)("div",{className:"absolute -top-2 right-2 w-0.5 h-0.5 bg-emerald-200/90 rounded-full animate-pulse delay-300"}),(0,g.jsx)("div",{className:"absolute top-1 -right-2 w-0.5 h-0.5 bg-white/70 rounded-full animate-bounce delay-500"})]})]})]})]})},Y=s.memo(V,((e,a)=>e.showToast===a.showToast&&e.setUserRecipes===a.setUserRecipes))},272:(e,a,t)=>{t.d(a,{R6:()=>i,ug:()=>l});const r=Object.freeze(["Desayuno \ud83e\udd50","Almuerzo \ud83e\udd57","Cena \ud83c\udf5d","Postre \ud83c\udf70","Snack \ud83c\udf7f","Bebida \ud83c\udf79","Otro \u2728"]),s=(Object.freeze(["lunes","martes","miercoles","jueves","viernes","sabado","domingo"]),Object.freeze({lunes:"Lunes",martes:"Martes",miercoles:"Mi\xe9rcoles",jueves:"Jueves",viernes:"Viernes",sabado:"S\xe1bado",domingo:"Domingo"})),l=Object.freeze(["Supermercado","L\xe1cteos","Carnes","Verduras y Frutas","Aseo","Otros"]),o=Object.freeze([Object.freeze({id:"directo-paladar",name:"Directo al Paladar",url:"https://www.directoalpaladar.com/recetas",icon:"\ud83c\udf72",description:"Blog gastron\xf3mico con recetas tradicionales y modernas"}),Object.freeze({id:"elpais-recetas",name:"Recetas de Cocina (El Pa\xeds)",url:"https://elpais.com/elpais/recetas/",icon:"\ud83d\udcf0",description:"Secci\xf3n de recetas del diario El Pa\xeds"}),Object.freeze({id:"gastronomia-cia",name:"Gastronom\xeda & C\xeda",url:"https://www.gastronomiaycia.com/recetas/",icon:"\ud83e\uddd1\u200d\ud83c\udf73",description:"Portal especializado en gastronom\xeda y t\xe9cnicas culinarias"}),Object.freeze({id:"bon-viveur",name:"Bon Viveur",url:"https://www.bonviveur.es/recetas",icon:"\ud83c\udf77",description:"Recetas gourmet y maridajes"}),Object.freeze({id:"divina-cocina",name:"Divina Cocina",url:"https://www.divinacocina.es/recetas/",icon:"\ud83c\udf1f",description:"Recetas caseras y tradicionales"}),Object.freeze({id:"recetas-gratis",name:"Recetas Gratis",url:"https://www.recetasgratis.net/",icon:"\ud83c\udd93",description:"Amplio cat\xe1logo de recetas gratuitas"})]),i=(Object.freeze({TOAST:Object.freeze({DURATION:2500,POSITION:"top-right",MAX_VISIBLE:3}),STORAGE:Object.freeze({PREFIX:"recetario_",VERSION:"v2.0",KEYS:Object.freeze({RECIPES:"recipes",SHOPPING_LIST:"shoppingList",WEEKLY_PLAN:"weeklyPlan",THEME:"theme",USER_CATEGORIES:"userCategories",SHOPPING_CATEGORIES:"shoppingCategories"})}),PERFORMANCE:Object.freeze({AUTO_SAVE_DELAY:500,DEBOUNCE_DELAY:300,SEARCH_DELAY:200,IMAGE_LAZY_THRESHOLD:"200px"}),LIMITS:Object.freeze({MAX_RECIPES:1e3,MAX_SHOPPING_ITEMS:500,MAX_CUSTOM_CATEGORIES:20,MAX_RECIPE_NAME_LENGTH:100,MAX_INGREDIENT_LENGTH:200,MAX_INSTRUCTION_LENGTH:500}),LOCALE:Object.freeze({DATE_FORMAT:"es-ES",DATE_OPTIONS:Object.freeze({weekday:"long",year:"numeric",month:"long",day:"numeric"}),TIME_FORMAT:"es-ES",TIME_OPTIONS:Object.freeze({hour:"2-digit",minute:"2-digit",hour12:!1}),CURRENCY_FORMAT:"es-ES",CURRENCY_OPTIONS:Object.freeze({style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0})})}),Object.freeze({SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info"}),Object.freeze({IDLE:"idle",LOADING:"loading",SUCCESS:"success",ERROR:"error"}),Object.freeze({LIGHT:"light",DARK:"dark",SYSTEM:"system"}),Object.freeze({RECIPE:Object.freeze({NAME:Object.freeze({MIN_LENGTH:2,MAX_LENGTH:100,REQUIRED:!0}),PREP_TIME:Object.freeze({MIN:1,MAX:1440,PATTERN:/^\d+\s?(min|mins|minutos?|h|hr|hrs|horas?)?$/i}),SERVINGS:Object.freeze({MIN:1,MAX:50})}),SHOPPING_ITEM:Object.freeze({NAME:Object.freeze({MIN_LENGTH:1,MAX_LENGTH:100,REQUIRED:!0}),QUANTITY:Object.freeze({MIN:1,MAX:999}),PRICE:Object.freeze({MIN:0,MAX:999999999})})}),Object.freeze({PLACEHOLDER_IMAGE:"https://placehold.co/600x300/E2E8F0/A0AEC0",GITHUB_REPO:"https://github.com/tu-usuario/recetario-app",DOCUMENTATION:"https://docs.recetario-app.com"}),Object.freeze({FAST:"150ms",NORMAL:"200ms",SLOW:"300ms",EASING:Object.freeze({EASE_IN_OUT:"cubic-bezier(0.4, 0, 0.2, 1)",EASE_OUT:"cubic-bezier(0, 0, 0.2, 1)",EASE_IN:"cubic-bezier(0.4, 0, 1, 1)"})}),new Map(Object.entries(s)),new Set(r),new Map(o.map((e=>[e.id,e]))),r)},652:(e,a,t)=>{t.d(a,{A:()=>n});var r=t(43),s=t(625),l=t(719),o=t(579);const i=e=>{let{isOpen:a,onClose:t,onConfirm:i,title:n="Confirmaci\xf3n",message:d="\xbfEst\xe1s seguro?",confirmButtonText:c="Confirmar",cancelButtonText:m="Cancelar",variant:u="danger"}=e;const g=(0,r.useMemo)((()=>{const e={danger:"bg-red-600 hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",info:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"};return{confirm:"px-4 py-2 text-sm font-medium text-white rounded-lg shadow-sm \n                flex items-center transition-all duration-200 \n                focus:outline-none focus:ring-2 focus:ring-offset-2 \n                ".concat(e[u]||e.danger),cancel:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 \n               hover:bg-slate-200 dark:bg-gradient-to-br dark:from-slate-800/70 dark:to-slate-700/50 dark:text-slate-200 \n               dark:hover:bg-slate-600 rounded-lg shadow-sm transition-all \n               duration-200 focus:outline-none focus:ring-2 focus:ring-slate-500 \n               focus:ring-offset-2 backdrop-blur-sm border dark:border-slate-600/30"}}),[u]),x=(0,r.useCallback)((()=>{i&&i()}),[i]),h=(0,r.useCallback)((()=>{t&&t()}),[t]),b=(0,r.useCallback)((e=>{"Enter"===e.key?x():"Escape"===e.key&&h()}),[x,h]);return a?(0,o.jsxs)(s.A,{isOpen:a,onClose:t,title:n,onKeyDown:b,children:[(0,o.jsx)("div",{className:"text-slate-700 dark:text-slate-300 mb-6",children:(0,o.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,o.jsx)("div",{className:"flex-shrink-0",children:(0,o.jsx)(l.A,{size:20,className:"".concat("danger"===u?"text-red-500":"warning"===u?"text-yellow-500":"text-blue-500"),"aria-hidden":"true"})}),(0,o.jsx)("div",{className:"flex-1",children:(0,o.jsx)("p",{className:"text-sm leading-relaxed",children:d})})]})}),(0,o.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-slate-200 dark:border-slate-600",children:[(0,o.jsx)("button",{type:"button",onClick:h,className:g.cancel,"aria-label":"Cancelar acci\xf3n",children:m}),(0,o.jsxs)("button",{type:"button",onClick:x,className:g.confirm,"aria-label":"Confirmar: ".concat(d),autoFocus:!0,children:[(0,o.jsx)(l.A,{size:16,className:"mr-2","aria-hidden":"true"}),c]})]})]}):null},n=r.memo(i)},781:(e,a,t)=>{t.d(a,{A:()=>r});const r=(0,t(784).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])}}]);
//# sourceMappingURL=103.12a8db59.chunk.js.map