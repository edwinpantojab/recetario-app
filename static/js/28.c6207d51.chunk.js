/*! For license information please see 28.c6207d51.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkrecetario_magico=self.webpackChunkrecetario_magico||[]).push([[28],{28:(e,a,t)=>{t.r(a),t.d(a,{default:()=>R});var s=t(555),l=t(43),r=t(805),o=t(719),i=t(784);const n=(0,i.A)("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);var c=t(88),d=t(118),m=t(504),x=t(625),u=t(212),h=t(563),b=t(532),p=t(963),g=t(614);const f=(0,i.A)("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);var k=t(579);const v=e=>{let{isVisible:a,onClose:t,selectedRecipe:s,onCancel:l}=e;return a?(0,k.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 max-w-sm w-full shadow-2xl border dark:border-slate-700",children:[(0,k.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,k.jsx)(p.A,{className:"text-emerald-500",size:24}),(0,k.jsx)("h3",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300",children:"Modo T\xe1ctil"})]}),(0,k.jsx)("button",{onClick:t,className:"p-1 text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",children:(0,k.jsx)(g.A,{size:20})})]}),s&&(0,k.jsxs)("div",{className:"mb-4 p-3 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:[(0,k.jsx)("p",{className:"text-sm font-medium text-emerald-700 dark:text-emerald-300",children:"Receta seleccionada:"}),(0,k.jsx)("p",{className:"text-emerald-800 dark:text-emerald-200 font-bold",children:s.name})]}),(0,k.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,k.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,k.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-emerald-100 dark:bg-emerald-800 rounded-full flex items-center justify-center",children:(0,k.jsx)("span",{className:"text-emerald-600 dark:text-emerald-300 text-sm font-bold",children:"1"})}),(0,k.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Toca una receta para seleccionarla"})]}),(0,k.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,k.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-emerald-100 dark:bg-emerald-800 rounded-full flex items-center justify-center",children:(0,k.jsx)("span",{className:"text-emerald-600 dark:text-emerald-300 text-sm font-bold",children:"2"})}),(0,k.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Toca el d\xeda donde quieres a\xf1adirla"})]})," ",(0,k.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,k.jsx)(f,{className:"text-emerald-500 mt-0.5",size:16}),(0,k.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Los d\xedas disponibles se resaltar\xe1n en verde"})]})]}),(0,k.jsxs)("div",{className:"flex space-x-3",children:[(0,k.jsx)("button",{onClick:l,className:"flex-1 px-4 py-2 text-slate-600 dark:text-slate-300 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Cancelar"}),(0,k.jsx)("button",{onClick:t,className:"flex-1 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Entendido"})]})]})}):null};var y=t(662);const j=["lunes","martes","miercoles","jueves","viernes","sabado","domingo"],N={lunes:"Lunes",martes:"Martes",miercoles:"Mi\xe9rcoles",jueves:"Jueves",viernes:"Viernes",sabado:"S\xe1bado",domingo:"Domingo"},w="weeklyPlan",C=()=>(0,u.Ze)(w,(()=>{const e={};return j.forEach((a=>{e[a]=[]})),e})()),A=l.memo((e=>{let{day:a,recipesForThisDay:t,allUserRecipes:s,onDropRecipe:i,onDragOverDay:c,onRemoveRecipeFromDay:d,onRotateRecipeForDay:x,onShowRecipeDetails:u,onMobileTapDay:b,isHighlightedForMobile:p}=e;const g=a.toLowerCase(),{isTouchDevice:f}=(0,h.B)(),v=(0,l.useCallback)((e=>{e.preventDefault();const a=e.dataTransfer.getData("recipeId");a&&i(g,a)}),[g,i]),y=(0,l.useCallback)((()=>{x(g)}),[g,x]),j=(0,l.useCallback)((()=>{f&&b&&b(g)}),[g,b,f]),w=(0,l.useMemo)((()=>N[g]),[g]),C=(0,l.useMemo)((()=>{const e=p?"ring-2 ring-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 transform scale-105":"",a=f&&p?"cursor-pointer":"";return"".concat("bg-slate-50 dark:bg-slate-800 p-4 rounded-xl shadow-md min-h-[250px] flex flex-col border dark:border-slate-700 hover:shadow-lg transition-all duration-200"," ").concat(e," ").concat(a)}),[p,f]);return(0,k.jsxs)("div",{className:C,onDrop:v,onDragOver:c,onClick:j,children:[" ",(0,k.jsxs)("div",{className:"flex justify-between items-center mb-4 pb-2 border-b-2 border-emerald-200 dark:border-emerald-700",children:[(0,k.jsxs)("h3",{className:"text-xl font-semibold text-emerald-700 dark:text-emerald-400",children:[w,p&&(0,k.jsx)("span",{className:"ml-2 text-sm bg-emerald-500 text-white px-2 py-1 rounded-full",children:"TOCA AQU\xcd"})]}),(0,k.jsx)("button",{onClick:y,title:"Rotar receta para ".concat(w),className:"p-1.5 text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 rounded-full hover:bg-indigo-100 dark:hover:bg-slate-700 transition-colors duration-150",disabled:0===s.length,type:"button",children:(0,k.jsx)(r.A,{size:18})})]}),(0,k.jsx)("div",{className:"space-y-3 flex-grow custom-scrollbar overflow-y-auto max-h-[400px] p-1 -m-1",children:t.length>0?t.map((e=>{const a=s.find((a=>a.id===e));return a?(0,k.jsx)(m.A,{recipe:a,onShowDetails:u,isDraggable:!1,showDeleteButton:!0,onDelete:()=>d(g,e)},e):(0,k.jsxs)("div",{className:"text-xs text-red-500 p-2 bg-red-50 dark:bg-red-900/50 rounded-md flex items-center",children:[(0,k.jsx)(o.A,{size:16,className:"mr-2 flex-shrink-0"}),(0,k.jsxs)("span",{children:["ID de receta no encontrado: ",e.substring(0,8),"..."]})]},e)})):(0,k.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center py-8",children:[(0,k.jsx)(n,{size:32,className:"text-slate-400 dark:text-slate-500 mb-2"}),(0,k.jsx)("p",{className:"text-sm text-slate-400 dark:text-slate-500",children:f?"Toca una receta y luego este d\xeda":"Arrastra recetas aqu\xed"})]})})]})})),D=l.memo((e=>{let{recipe:a,onClose:t}=e;const s=(0,l.useCallback)((e=>"https://placehold.co/600x300/E2E8F0/A0AEC0?text=".concat(encodeURIComponent(e||"Receta"))),[]),r=(0,l.useMemo)((()=>a?s(a.name):""),[a,s]),o=(0,l.useCallback)((e=>{e.target.onerror=null,e.target.src=r}),[r]);return a?(0,k.jsx)(x.A,{isOpen:!!a,onClose:t,title:"",children:(0,k.jsxs)("div",{className:"flex flex-col items-center",children:[(0,k.jsx)("h2",{className:"text-2xl font-bold text-emerald-700 dark:text-emerald-300 mb-2 text-center",children:a.name}),(0,k.jsx)("span",{className:"inline-block bg-amber-200 dark:bg-amber-800 text-amber-800 dark:text-amber-200 text-xs font-semibold px-3 py-1 rounded-full mb-3",children:a.category})," ",(0,k.jsx)("div",{className:"w-full h-48 bg-slate-100 dark:bg-slate-700 rounded-xl mb-4 flex items-center justify-center overflow-hidden",children:(0,k.jsx)("img",{src:a.imageUrl||r,alt:a.name,className:"w-full h-48 object-contain",style:{objectPosition:"center"},loading:"lazy",decoding:"async",onError:o})})," ",(0,k.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full mb-4",children:[(0,k.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-emerald-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 flex items-center gap-2 border dark:border-emerald-400/20 backdrop-blur-sm",children:[(0,k.jsx)(c.A,{size:18,className:"text-emerald-500 flex-shrink-0"}),(0,k.jsx)("span",{className:"font-semibold",children:"Tiempo:"}),(0,k.jsx)("span",{className:"text-sm",children:a.prepTime||"\u2014"})]}),(0,k.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 flex items-center gap-2 border dark:border-blue-400/20 backdrop-blur-sm",children:[(0,k.jsx)(d.A,{size:18,className:"text-emerald-500 flex-shrink-0"}),(0,k.jsx)("span",{className:"font-semibold",children:"Porciones:"}),(0,k.jsx)("span",{className:"text-sm",children:a.servings?"".concat(a.servings," personas"):"\u2014"})]})]}),(0,k.jsxs)("div",{className:"w-full mb-4",children:[(0,k.jsxs)("h3",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-2 flex items-center",children:[(0,k.jsx)("span",{className:"mr-2",children:"\ud83d\udcdd"}),(0,k.jsx)("span",{children:"Ingredientes"})]}),(0,k.jsx)("ul",{className:"list-disc list-inside text-left space-y-1",children:a.ingredients&&a.ingredients.length>0?a.ingredients.map(((e,a)=>(0,k.jsx)("li",{className:"text-slate-700 dark:text-slate-200 text-sm",children:e},a))):(0,k.jsx)("li",{className:"text-slate-400 italic",children:"Sin ingredientes"})})]}),(0,k.jsxs)("div",{className:"w-full mb-2",children:[(0,k.jsxs)("h3",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-2 flex items-center",children:[(0,k.jsx)("span",{className:"mr-2",children:"\ud83d\udc68\u200d\ud83c\udf73"}),(0,k.jsx)("span",{children:"Instrucciones"})]}),(0,k.jsx)("ol",{className:"list-decimal list-inside text-left space-y-2",children:a.instructions&&a.instructions.length>0?a.instructions.map(((e,a)=>(0,k.jsx)("li",{className:"text-slate-700 dark:text-slate-200 text-sm leading-relaxed",children:e},a))):(0,k.jsx)("li",{className:"text-slate-400 italic",children:"Sin instrucciones"})})]})]})}):null})),M=e=>{let{allUserRecipes:a,recipes:t,showToast:r,onShowRecipeDetails:o}=e;const[i,n]=(0,l.useState)(C),[c,d]=(0,l.useState)(null),{isTouchDevice:x}=(0,h.B)(),{selectedRecipeForMobile:p,isAddingToDay:g,showMobileInstructions:f,clearMobileSelection:N,setShowMobileInstructions:M}=(0,b.c)();(0,l.useEffect)((()=>{n(C())}),[]);const R=(0,l.useCallback)((e=>{var a;a=e,(0,u.iu)(w,a),n((0,s.A)({},e))}),[]),T=(0,l.useCallback)((e=>{e.preventDefault()}),[]),z=(0,l.useCallback)(((e,t)=>{if(!t)return;const l=(0,s.A)({},i);if(l[e]||(l[e]=[]),!l[e].includes(t)){l[e].push(t),R(l);const s=a.find((e=>e.id===t));s&&y.EU.addToPlanner(t,{recipeName:s.name,day:e,plannerSize:l[e].length}),null===r||void 0===r||r("Receta a\xf1adida al planificador.","success")}}),[i,R,r,a]),E=(0,l.useCallback)(((e,a)=>{const t=(0,s.A)({},i);t[e]&&(t[e]=t[e].filter((e=>e!==a)),R(t),null===r||void 0===r||r("Receta eliminada del planificador.","success"))}),[i,R,r]),S=(0,l.useCallback)((e=>{if(!a||0===a.length)return;const t=a.map((e=>e.id)),l=t[Math.floor(Math.random()*t.length)],o=(0,s.A)({},i);o[e]=[l],R(o),null===r||void 0===r||r("Receta rotada para el d\xeda.","success")}),[a,i,R,r]),U=(0,l.useCallback)((()=>{d(null)}),[]),F=(0,l.useCallback)((e=>{p&&g&&(z(e,p.id),N(),y.EU.addToPlanner(p.id,{recipeName:p.name,day:e,interactionType:"mobile_tap"}),null===r||void 0===r||r("Receta a\xf1adida mediante toque.","success"))}),[p,g,z,N,r]),I=(0,l.useCallback)((()=>{N()}),[N]),L=(0,l.useCallback)((()=>{M(!1)}),[M]),O=(0,l.useMemo)((()=>[...t].sort(((e,a)=>(e.name||"").localeCompare(a.name||"")))),[t]);return(0,k.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 pb-12",children:[(0,k.jsxs)("div",{className:"lg:w-3/5 xl:w-2/3",children:[(0,k.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-emerald-700 dark:text-emerald-400 mb-6 break-words",children:"\ud83d\uddd3\ufe0f Plan Semanal"})," ",(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:j.map((e=>(0,k.jsx)(A,{day:e,recipesForThisDay:i[e.toLowerCase()]||[],allUserRecipes:a,onDropRecipe:z,onDragOverDay:T,onRemoveRecipeFromDay:E,onRotateRecipeForDay:S,onShowRecipeDetails:d,onMobileTapDay:F,isHighlightedForMobile:g},e)))})]})," ",(0,k.jsxs)("div",{className:"lg:w-2/5 xl:w-1/3 space-y-4 p-5 bg-white dark:bg-slate-800 rounded-xl shadow-xl border dark:border-slate-700",children:[(0,k.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-emerald-700 dark:text-emerald-400 mb-3 break-words",children:"\ud83d\udcda Recetas Disponibles"})," ",(0,k.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:x?"Toca una receta para seleccionarla, luego toca un d\xeda.":"Arrastra una receta a un d\xeda."}),(0,k.jsx)("div",{className:"max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar grid grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 2xl:grid-cols-3 gap-4 pb-8",children:O.length>0?O.map((e=>(0,k.jsx)(m.A,{recipe:e,onShowDetails:d,isDraggable:!0,showDeleteButton:!1},e.id))):(0,k.jsx)("p",{className:"text-sm py-8 text-center col-span-full text-slate-500 dark:text-slate-400",children:"\ud83c\udf72 No hay recetas. \xa1Crea algunas!"})})," "]}),(0,k.jsx)(D,{recipe:c,onClose:U}),(0,k.jsx)(v,{isVisible:f,onClose:L,selectedRecipe:p,onCancel:I})]})},R=l.memo(M,((e,a)=>e.allUserRecipes===a.allUserRecipes&&e.recipes===a.recipes&&e.showToast===a.showToast&&e.onShowRecipeDetails===a.onShowRecipeDetails))},118:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(784).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},306:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(784).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},504:(e,a,t)=>{t.d(a,{A:()=>p});var s=t(43),l=t(88),r=t(118),o=t(306),i=t(784);const n=(0,i.A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);var c=t(855);const d=(0,i.A)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var m=t(614),x=t(563),u=t(532),h=(t(662),t(579));const b=(0,s.memo)((e=>{let{recipe:a,onEdit:t,onDelete:i,onShare:b,onSelect:p,onShowDetails:g,isSelected:f=!1,isDraggable:k=!1,showDeleteButton:v=!1}=e;const{isTouchDevice:y}=(0,x.B)(),{selectedRecipeForMobile:j,isAddingToDay:N,selectRecipeForMobile:w}=(0,u.c)(),C=(null===j||void 0===j?void 0:j.id)===a.id,A=(0,s.useMemo)((()=>{const e=a.name||"Receta";return"https://placehold.co/600x300/E2E8F0/A0AEC0?text=".concat(encodeURIComponent(e))}),[a.name]),D=(0,s.useCallback)((e=>{k&&(e.dataTransfer.setData("recipeId",a.id),e.dataTransfer.effectAllowed="move")}),[k,a.id]),M=(0,s.useCallback)((e=>{e.target.closest("button")||(y&&k&&!N?w(a):g?g(a):p&&!k&&p(a))}),[g,p,k,a,y,N,w]),R=(0,s.useCallback)((e=>{e.target.onerror=null,e.target.src=A}),[A]),T=(0,s.useCallback)((e=>{e.stopPropagation(),null===b||void 0===b||b(a)}),[b,a]),z=(0,s.useCallback)((e=>{e.stopPropagation(),null===t||void 0===t||t(a)}),[t,a]),E=(0,s.useCallback)((e=>{e.stopPropagation(),null===i||void 0===i||i(a.id)}),[i,a.id]),S=(0,s.useMemo)((()=>{const e=f||C?"ring-2 ring-emerald-500":"",a=k?y?"cursor-pointer":"cursor-grab":"cursor-pointer",t=C?"bg-emerald-50 dark:bg-emerald-900/20":"";return"".concat("bg-white dark:bg-gradient-to-br dark:from-slate-800/90 dark:to-slate-700/70 rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 backdrop-blur-sm border dark:border-slate-600/30"," ").concat(e," ").concat(a," ").concat(t)}),[f,k,y,C]),U=(0,s.useMemo)((()=>(0,h.jsxs)("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-300 mb-2 space-x-2",children:[a.prepTime&&(0,h.jsxs)("div",{className:"flex items-center recipe-action-button",children:[(0,h.jsx)(l.A,{size:12,className:"mr-1","aria-hidden":"true",style:{color:"#059669",stroke:"#059669",strokeWidth:1.5}}),(0,h.jsx)("span",{children:a.prepTime})]}),a.servings&&(0,h.jsxs)("div",{className:"flex items-center recipe-action-button",children:[(0,h.jsx)(r.A,{size:12,className:"mr-1","aria-hidden":"true",style:{color:"#059669",stroke:"#059669",strokeWidth:1.5}}),(0,h.jsxs)("span",{children:[a.servings," porc."]})]})]})),[a.prepTime,a.servings]),F=(0,s.useMemo)((()=>v||!t&&!i&&!b?null:(0,h.jsxs)("div",{className:"mt-3 pt-2 border-t dark:border-slate-600 flex justify-end space-x-1.5",children:[" ",b&&(0,h.jsx)("button",{onClick:T,className:"recipe-action-button p-1.5 rounded-full hover:bg-blue-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors",title:"Compartir Receta","aria-label":"Compartir receta ".concat(a.name),children:(0,h.jsx)(o.A,{size:16,style:{color:"#2563eb",stroke:"#2563eb",strokeWidth:2}})}),t&&(0,h.jsx)("button",{onClick:z,className:"recipe-action-button p-1.5 rounded-full hover:bg-emerald-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors",title:"Editar Receta","aria-label":"Editar receta ".concat(a.name),children:(0,h.jsx)(n,{size:16,style:{color:"#16a34a",stroke:"#16a34a",strokeWidth:2}})}),i&&(0,h.jsx)("button",{onClick:E,className:"recipe-action-button p-1.5 rounded-full hover:bg-red-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors",title:"Eliminar Receta","aria-label":"Eliminar receta ".concat(a.name),children:(0,h.jsx)(c.A,{size:16,style:{color:"#dc2626",stroke:"#dc2626",strokeWidth:2}})})]})),[v,t,i,b,T,z,E,a.name]);return(0,h.jsxs)("article",{className:S,onClick:M,draggable:k,onDragStart:D,role:p?"button":void 0,tabIndex:p?0:void 0,"aria-selected":f,"aria-label":"Receta: ".concat(a.name),children:[" ",(0,h.jsxs)("div",{className:"relative bg-slate-100 dark:bg-slate-700 h-32 flex items-center justify-center pt-2",children:[(0,h.jsx)("img",{className:"w-full h-28 object-contain",src:a.imageUrl||A,alt:"Imagen de ".concat(a.name),loading:"lazy",decoding:"async",onError:R})," ",k&&!y&&(0,h.jsx)(d,{size:16,className:"absolute top-2 right-2 text-white bg-black bg-opacity-50 rounded p-0.5","aria-hidden":"true"}),k&&y&&(0,h.jsx)("div",{className:"absolute top-2 right-2 bg-emerald-500 text-white text-xs px-2 py-1 rounded-full font-bold",children:"TOCA"}),C&&(0,h.jsx)("div",{className:"absolute top-2 left-2 bg-emerald-500 text-white text-xs px-2 py-1 rounded-full font-bold",children:"\u2713 SELECCIONADA"}),v&&i&&(0,h.jsx)("button",{onClick:E,className:"absolute top-1.5 right-1.5 p-1 bg-red-100 text-red-500 rounded-full hover:bg-red-200 dark:bg-red-800 dark:text-red-300 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors",title:"Quitar receta del d\xeda","aria-label":"Quitar ".concat(a.name," del d\xeda"),children:(0,h.jsx)(m.A,{size:14})})]}),(0,h.jsxs)("div",{className:"p-3",children:[(0,h.jsx)("h3",{className:"text-base sm:text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-1 truncate tracking-tight",title:a.name,children:a.name}),a.category&&(0,h.jsx)("span",{className:"inline-block bg-amber-200 text-amber-800 text-xs font-bold px-2 py-0.5 rounded-full mb-2 tracking-wide truncate max-w-full",children:a.category}),U,F]})]})}));b.displayName="RecipeCard";const p=b},563:(e,a,t)=>{t.d(a,{B:()=>l});var s=t(43);const l=()=>{const[e,a]=(0,s.useState)({isMobile:!1,isTouchDevice:!1,screenWidth:0});return(0,s.useEffect)((()=>{const e=()=>{const e="ontouchstart"in window||navigator.maxTouchPoints>0,t=window.innerWidth;a({isMobile:t<=768||e,isTouchDevice:e,screenWidth:t})};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),e}},625:(e,a,t)=>{t.d(a,{A:()=>i});var s=t(43),l=t(614),r=t(579);const o=e=>{let{isOpen:a,onClose:t,title:o,children:i,onKeyDown:n}=e;const c=(0,s.useCallback)((()=>{t&&t()}),[t]),d=(0,s.useCallback)((e=>{e.target===e.currentTarget&&c()}),[c]),m=(0,s.useCallback)((e=>{"Escape"===e.key&&c(),n&&n(e)}),[c,n]);return(0,s.useEffect)((()=>{if(a){const e=document.body.style.overflow;return document.body.style.overflow="hidden",document.addEventListener("keydown",m),()=>{document.body.style.overflow=e||"auto",document.removeEventListener("keydown",m)}}document.body.style.overflow="auto"}),[a,m]),a?(0,r.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex justify-center items-center z-50 p-4 animate-in fade-in duration-200",onClick:d,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-content",children:[" ",(0,r.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] min-h-0 flex flex-col animate-in zoom-in-95 duration-200 overflow-hidden",children:[(0,r.jsxs)("header",{className:"flex justify-between items-center p-6 pb-4 border-b border-slate-200 dark:border-slate-600 flex-shrink-0",children:[(0,r.jsx)("h2",{id:"modal-title",className:"text-2xl font-bold text-emerald-700 dark:text-emerald-400 pr-8",children:o}),(0,r.jsx)("button",{type:"button",onClick:c,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-all duration-200 p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 flex-shrink-0","aria-label":"Cerrar modal",children:(0,r.jsx)(l.A,{size:24})})]}),(0,r.jsx)("main",{id:"modal-content",className:"flex-1 min-h-0 p-6 pt-4 overflow-y-auto overflow-x-hidden custom-scrollbar focus:outline-none",tabIndex:-1,style:{maxHeight:"calc(90vh - 100px)",overflowY:"auto",WebkitOverflowScrolling:"touch"},children:i})]})]}):null},i=s.memo(o,((e,a)=>e.isOpen===a.isOpen&&e.title===a.title&&e.children===a.children))},805:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(784).A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},855:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(784).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},963:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(784).A)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])}}]);
//# sourceMappingURL=28.c6207d51.chunk.js.map