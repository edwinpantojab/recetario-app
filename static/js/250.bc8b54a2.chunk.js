/*! For license information please see 250.bc8b54a2.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkrecetario_magico=self.webpackChunkrecetario_magico||[]).push([[250],{250:(e,a,r)=>{r.r(a),r.d(a,{default:()=>w});var t=r(986),s=r(555),o=r(43),i=r(419),d=r(781),n=r(784);const l=(0,n.A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var c=r(614);const m=(0,n.A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var u=r(360),b=r(855),p=r(805),f=r(652),g=r(212),h=r(272);const k=Object.freeze({BASE_TIMESTAMP:new Date("2024-01-01T00:00:00.000Z").toISOString(),DEFAULT_ITEM_STATE:Object.freeze({checked:!1,price:null,quantity:1,custom:!1,toBuy:!1}),CATEGORIES:Object.freeze({SUPERMARKET:h.ug[0],DAIRY:h.ug[1],MEAT:h.ug[2],PRODUCE:h.ug[3],HYGIENE:h.ug[4],OTHERS:h.ug[5]})}),x=Object.freeze({[k.CATEGORIES.SUPERMARKET]:Object.freeze([{name:"Arroz",id:"item-super-1"},{name:"Pasta seco",id:"item-super-2"},{name:"Pasta fideos",id:"item-super-3"},{name:"Pasta sopa",id:"item-super-4"},{name:"Aceite vegetal",id:"item-super-5"},{name:"Aceite de oliva",id:"item-super-6"},{name:"Panela",id:"item-super-7"},{name:"Az\xfacar",id:"item-super-8"},{name:"Sal",id:"item-super-9"},{name:"Frijol",id:"item-super-10"},{name:"Lenteja",id:"item-super-11"},{name:"Arveja",id:"item-super-12"},{name:"Ma\xedz peto",id:"item-super-13"},{name:"Garbanzo",id:"item-super-14"},{name:"Chocolate",id:"item-super-15"},{name:"Pan tajado",id:"item-super-16"},{name:"Tostadas",id:"item-super-17"},{name:"Galletas de sal",id:"item-super-18"},{name:"Galletas dulces",id:"item-super-19"},{name:"Harina de trigo",id:"item-super-20"},{name:"Harina de arepas",id:"item-super-21"},{name:"Maizena",id:"item-super-22"},{name:"Avena en hojuelas",id:"item-super-23"},{name:"Canela",id:"item-super-24"},{name:"Color",id:"item-super-25"},{name:"Bicarbonato",id:"item-super-26"},{name:"Vinagreta",id:"item-super-27"},{name:"Uvas pasas",id:"item-super-28"},{name:"Bocadillo",id:"item-super-29"},{name:"Caf\xe9",id:"item-super-30"},{name:"Salsa de tomate",id:"item-super-31"},{name:"Durazno en lata",id:"item-super-32"},{name:"Salsa t\xe1rtara",id:"item-super-33"},{name:"Mayonesa",id:"item-super-34"},{name:"Galletas de mesa",id:"item-super-35"},{name:"Caf\xe9 en grano",id:"item-super-36"},{name:"Comino",id:"item-super-37"},{name:"Clavo",id:"item-super-38"},{name:"Canela en astilla",id:"item-super-39"},{name:"Canela en polvo",id:"item-super-40"},{name:"Avena en harina",id:"item-super-41"},{name:"Mermelada",id:"item-super-42"},{name:"Papas fritas de paquete",id:"item-super-43"}]),[k.CATEGORIES.MEAT]:Object.freeze([{name:"Pollo entero",id:"item-carnes-1"},{name:"Pollo molido",id:"item-carnes-2"},{name:"Pechuga de pollo",id:"item-carnes-3"},{name:"Pierna pernil",id:"item-carnes-4"},{name:"Carne molida",id:"item-carnes-5"},{name:"Carne de res",id:"item-carnes-6"},{name:"Carne de cerdo",id:"item-carnes-7"},{name:"Pescado",id:"item-carnes-8"},{name:"Salchichas",id:"item-carnes-9"}]),[k.CATEGORIES.DAIRY]:Object.freeze([{name:"Queso tajado",id:"item-lacteos-1"},{name:"Queso entero",id:"item-lacteos-2"},{name:"Yogurt",id:"item-lacteos-3"},{name:"Yogurt en vaso",id:"item-lacteos-4"},{name:"Yogurt en bolsa",id:"item-lacteos-5"},{name:"Leche",id:"item-lacteos-6"},{name:"Leche en polvo",id:"item-lacteos-7"},{name:"Huevos",id:"item-lacteos-8"},{name:"Crema de leche",id:"item-lacteos-9"},{name:"Leche condensada",id:"item-lacteos-10"},{name:"Mantequilla de mesa",id:"item-lacteos-11"},{name:"Mantequilla para cocina",id:"item-lacteos-12"}]),[k.CATEGORIES.PRODUCE]:Object.freeze([{name:"Tomates",id:"item-verfrutas-1"},{name:"Cebollas cabezonas",id:"item-verfrutas-2"},{name:"Papas",id:"item-verfrutas-3"},{name:"Manzanas",id:"item-verfrutas-4"},{name:"Ajos",id:"item-verfrutas-5"},{name:"Papaya",id:"item-verfrutas-6"},{name:"Lulo",id:"item-verfrutas-7"},{name:"Tomate de \xe1rbol",id:"item-verfrutas-8"},{name:"Limones",id:"item-verfrutas-9"},{name:"Ahuyama",id:"item-verfrutas-10"},{name:"Calabac\xedn",id:"item-verfrutas-11"},{name:"Naranjas",id:"item-verfrutas-12"},{name:"Mandarinas",id:"item-verfrutas-13"},{name:"Coliflor",id:"item-verfrutas-14"},{name:"Espinacas",id:"item-verfrutas-15"},{name:"Acelgas",id:"item-verfrutas-16"},{name:"Cebolla larga",id:"item-verfrutas-17"},{name:"Pi\xf1a",id:"item-verfrutas-18"},{name:"Pl\xe1tano verde",id:"item-verfrutas-19"},{name:"Pl\xe1tano maduro",id:"item-verfrutas-20"},{name:"Bananos",id:"item-verfrutas-21"},{name:"Cerezas",id:"item-verfrutas-22"}]),[k.CATEGORIES.HYGIENE]:Object.freeze([{name:"Jab\xf3n para manos",id:"item-aseo-1"},{name:"Jab\xf3n l\xedquido para ropa",id:"item-aseo-2"},{name:"Jab\xf3n l\xedquido para platos",id:"item-aseo-3"},{name:"Jab\xf3n lavavajillas",id:"item-aseo-4"},{name:"Jab\xf3n en pasta para ropa",id:"item-aseo-5"},{name:"Esponjas",id:"item-aseo-6"},{name:"Esponjillas",id:"item-aseo-7"},{name:"Tampones",id:"item-aseo-8"},{name:"Toallas higi\xe9nicas",id:"item-aseo-9"},{name:"Papel higi\xe9nico",id:"item-aseo-10"},{name:"Crema dental",id:"item-aseo-11"},{name:"Protectores",id:"item-aseo-12"},{name:"Cepillo de dientes",id:"item-aseo-13"},{name:"Guantes para ropa",id:"item-aseo-14"},{name:"Desodorante para dama",id:"item-aseo-15"},{name:"Desodorante para hombre",id:"item-aseo-16"},{name:"Shampoo para dama",id:"item-aseo-17"},{name:"Shampoo para hombre",id:"item-aseo-18"},{name:"Shampoo para ni\xf1os",id:"item-aseo-19"},{name:"Crema corporal",id:"item-aseo-20"},{name:"Cepillo de dientes para adulto",id:"item-aseo-21"},{name:"Cepillo de dientes para ni\xf1o",id:"item-aseo-22"},{name:"Crema corporal para hombre",id:"item-aseo-23"},{name:"Crema corporal para mujer",id:"item-aseo-24"},{name:"Crema dental para adulto",id:"item-aseo-25"},{name:"Crema dental para ni\xf1os",id:"item-aseo-26"},{name:"M\xe1quina de afeitar",id:"item-aseo-27"},{name:"Blanqueador",id:"item-aseo-28"},{name:"Suavizante para ropa",id:"item-aseo-29"},{name:"Bolsas de basura",id:"item-aseo-30"},{name:"Ambientador l\xedquido",id:"item-aseo-31"}])}),y=(()=>{const e=[];return Object.entries(x).forEach((a=>{let[r,t]=a;t.forEach((a=>{let{name:t,id:o}=a;e.push((e=>{let{id:a,name:r,category:t}=e;return Object.freeze((0,s.A)((0,s.A)({id:a,name:r,category:t},k.DEFAULT_ITEM_STATE),{},{createdAt:k.BASE_TIMESTAMP}))})({id:o,name:t,category:r}))}))})),Object.freeze(e)})(),E=Object.freeze(y.reduce(((e,a)=>(e[a.category]||(e[a.category]=[]),e[a.category].push(a),e)),{}));new Set(y.map((e=>e.id))),new Map(y.map((e=>[e.id,e]))),Object.freeze({TOTAL_ITEMS:y.length,CATEGORIES_COUNT:Object.keys(E).length,ITEMS_PER_CATEGORY:Object.freeze(Object.fromEntries(Object.entries(E).map((e=>{let[a,r]=e;return[a,r.length]}))))});var A=r(579);const C=["priceDisplay"],j=Object.freeze({ITEMS_KEY:"shoppingItems",SETTINGS_KEY:"shoppingListSettings",DEBOUNCE_DELAY:500}),v=Object.freeze({MIN_VALUE_FOR_FORMATTING:1e3,THOUSANDS_SEPARATOR:".",DECIMAL_SEPARATOR:",",DECIMAL_PLACES:0}),N={error:()=>{},warn:()=>{},info:()=>{}},O=e=>{let{showToast:a}=e;const[r,n]=(0,o.useState)([]),[k,x]=(0,o.useState)(""),[E,O]=(0,o.useState)("Supermercado"),[w,S]=(0,o.useState)(!0),[T,I]=(0,o.useState)(null),[M,R]=(0,o.useState)([]),[z,P]=(0,o.useState)(""),[_,L]=(0,o.useState)(""),[D,G]=(0,o.useState)(!1),[U,B]=(0,o.useState)(null),[H,Y]=(0,o.useState)(!1),[F,q]=(0,o.useState)(null),X=(0,o.useRef)(null),{formatPrice:K,parsePrice:V,formatWhileTyping:J}={formatPrice:(0,o.useCallback)((e=>{if(null===e||void 0===e||isNaN(e)||0===e)return"";const a=Number(e);return a>=v.MIN_VALUE_FOR_FORMATTING?a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,v.THOUSANDS_SEPARATOR):a.toString()}),[]),parsePrice:(0,o.useCallback)((e=>{if(!e||"string"!==typeof e)return 0;const a=e.replace(/[^\d]/g,""),r=parseInt(a,10);return isNaN(r)?0:r}),[]),formatWhileTyping:(0,o.useCallback)((e=>{const a=e.replace(/[^\d]/g,"");if(""===a)return"";const r=parseInt(a,10);return r>=v.MIN_VALUE_FOR_FORMATTING?r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,v.THOUSANDS_SEPARATOR):a}),[])},{getLocalShoppingItems:W,setLocalShoppingItems:Q,getLocalShoppingSettings:Z,setLocalShoppingSettings:$}={getLocalShoppingItems:(0,o.useCallback)((async()=>{try{const e=await(0,g.Ze)(j.ITEMS_KEY,[...y]);return Array.isArray(e)?e:[...y]}catch(e){return N.error("Error cargando items de localStorage:",e),[...y]}}),[]),setLocalShoppingItems:(0,o.useCallback)((async e=>{try{if(!Array.isArray(e))throw new Error("Items debe ser un array");await(0,g.iu)(j.ITEMS_KEY,e)}catch(a){throw N.error("Error guardando items en localStorage:",a),a}}),[]),getLocalShoppingSettings:(0,o.useCallback)((async()=>{try{const e=await(0,g.Ze)(j.SETTINGS_KEY,{customCategories:[],budget:""});return{customCategories:Array.isArray(e.customCategories)?e.customCategories:[],budget:e.budget||""}}catch(e){return N.error("Error cargando configuraciones de localStorage:",e),{customCategories:[],budget:""}}}),[]),setLocalShoppingSettings:(0,o.useCallback)((async e=>{try{await(0,g.iu)(j.SETTINGS_KEY,e)}catch(a){throw N.error("Error guardando configuraciones en localStorage:",a),a}}),[])};(0,o.useEffect)((()=>{(async()=>{S(!0);try{const e=await W(),a=await Z(),r=Array.isArray(e)?e:[];n(r),R(Array.isArray(a.customCategories)?a.customCategories:[]),L(a.budget?K(V(a.budget)):""),S(!1)}catch(e){N.error("Error cargando datos:",e),I(e),S(!1),n([]),R([]),L(""),a&&a("Error al cargar datos de la lista.","error")}})()}),[W,Z,a,K,V]);const ee=(0,o.useCallback)((async e=>{try{await $(e),R(Array.isArray(e.customCategories)?e.customCategories:[]),L(e.budget?K(V(e.budget)):"")}catch(r){N.error("Error actualizando configuraciones:",r),a&&a("Error al guardar configuraciones.","error")}}),[$,K,V,a]),ae=(0,o.useCallback)((e=>{const r=Array.isArray(e)?e:[];n([...r]),X.current&&clearTimeout(X.current),X.current=setTimeout((async()=>{try{await Q(r)}catch(e){N.error("Error guardando items:",e),a&&a("Error al guardar la lista.","error")}}),j.DEBOUNCE_DELAY)}),[Q,a]);(0,o.useEffect)((()=>()=>{X.current&&clearTimeout(X.current)}),[]);const re=(0,o.useMemo)((()=>[...[...h.ug],...M.filter((e=>!h.ug.includes(e))).sort(((e,a)=>e.localeCompare(a)))]),[M]);(0,o.useEffect)((()=>{re.length>0&&!re.includes(E)&&O(re[0])}),[re,E]);const te=(0,o.useCallback)((async()=>{if(!z.trim())return;const e=z.trim();if(re.map((e=>e.toLowerCase())).includes(e.toLowerCase()))a&&a("Esa categor\xeda ya existe.","warning");else try{const r=await Z();r.customCategories=[...Array.isArray(r.customCategories)?r.customCategories:[],e],await ee(r),P(""),a&&a("Categor\xeda a\xf1adida.","success")}catch(r){N.error("Error a\xf1adiendo categor\xeda:",r),a&&a("Error al a\xf1adir categor\xeda.","error")}}),[z,re,ee,a,Z]),se=(0,o.useCallback)((async e=>{if(h.ug.includes(e))a&&a("No puedes eliminar una categor\xeda por defecto.","error");else try{const r=await Z();r.customCategories=(Array.isArray(r.customCategories)?r.customCategories:[]).filter((a=>a!==e)),await ee(r);const t=await W(),o=(Array.isArray(t)?t:[]).map((a=>a.category===e?(0,s.A)((0,s.A)({},a),{},{category:"Otros"}):a));ae(o),a&&a('Categor\xeda "'.concat(e,'" eliminada. Items movidos a "Otros".'),"success")}catch(r){N.error("Error eliminando categor\xeda:",r),a&&a("Error al eliminar categor\xeda.","error")}}),[ee,ae,a,Z,W]),oe=(0,o.useCallback)((e=>{if(e.preventDefault(),""===k.trim())return;const t=[...Array.isArray(r)?r:[],{id:"item-".concat(Date.now(),"-").concat(Math.random()),name:k.trim(),checked:!1,price:null,quantity:1,custom:!0,category:E||"Supermercado",createdAt:(new Date).toISOString(),toBuy:!1}];ae(t),x(""),a&&a("Producto a\xf1adido.","success")}),[k,E,r,ae,a]),ie=(0,o.useMemo)((()=>{const e={},a=Array.isArray(r)?r:[];return re.forEach((r=>{const t=a.filter((e=>e.category===r)).sort(((e,a)=>(e.name||"").localeCompare(a.name||"")));t.length>0&&(e[r]=t)})),e}),[re,r]),de=V(_)||0,ne=(0,o.useMemo)((()=>(Array.isArray(r)?r:[]).reduce(((e,a)=>{const r=Number(a.price),t=Number(a.quantity)||1;if(!isNaN(r)&&r>0){return e+r*t}return e}),0)),[r]),le=de-ne,ce=(0,o.useCallback)(((e,a,t)=>{const o=(Array.isArray(r)?r:[]).map((r=>{if(r.id!==e)return r;const o=(0,s.A)({},r);if("price"===a){const e=V(t);o[a]=isNaN(e)?null:e}else if("quantity"===a){const e=parseInt(t,10);o[a]=isNaN(e)||e<1?1:e}else"checked"===a&&!0===t?(o.checked=!0,o.toBuy=!1):"toBuy"===a&&!0===t?(o.toBuy=!0,o.checked=!1):o[a]=t;return o}));ae(o)}),[r,ae,V]),me=(0,o.useCallback)((e=>{B(e),G(!0)}),[]),ue=(0,o.useCallback)((()=>{if(!U)return;G(!1),B(null);const e=(Array.isArray(r)?r:[]).filter((e=>e.id!==U));ae(e),a&&a("Producto eliminado.","success")}),[U,r,ae,a]),be=(0,o.useCallback)((()=>{const e=(Array.isArray(r)?r:[]).filter((e=>!e.checked)).map((e=>(0,s.A)((0,s.A)({},e),{},{toBuy:!1})));ae(e),a&&a("Lista limpiada.","success")}),[r,ae,a]),pe=(0,o.useCallback)((()=>{const e=(Array.isArray(r)?r:[]).map((e=>(0,s.A)((0,s.A)({},e),{},{checked:!1,toBuy:!1,quantity:1,price:null,priceDisplay:void 0})));ae(e),L(""),a&&a("Todo ha sido restablecido.","success")}),[r,ae,a]),fe=(0,o.useCallback)((()=>{q(le<0?"full":"partial"),Y(!0)}),[le]),ge=(0,o.useCallback)((()=>{"full"===F?pe():be(),Y(!1),q(null)}),[F,pe,be]),he=(0,o.useCallback)((e=>{const a=e.target.value,r=J(a);L(r)}),[J]),ke=(0,o.useCallback)((()=>{const e=V(_);L(isNaN(e)?"":K(e))}),[_,K,V]),xe=(0,o.useCallback)(((e,a)=>{const t=J(a),o=(Array.isArray(r)?r:[]).map((a=>{if(a.id!==e)return a;const r=V(t);return(0,s.A)((0,s.A)({},a),{},{price:isNaN(r)?null:r,priceDisplay:t})}));ae(o)}),[r,ae,J,V]),ye=(0,o.useCallback)((e=>{const a=(Array.isArray(r)?r:[]).map((a=>{if(a.id!==e)return a;const{priceDisplay:r}=a;return(0,t.A)(a,C)}));ae(a)}),[r,ae]);return w?(0,A.jsx)("div",{className:"text-center p-4",children:"Cargando lista de compras..."}):T?(0,A.jsxs)("div",{className:"text-center p-4 text-red-500",children:["Error al cargar la lista: ",T.message]}):(0,A.jsxs)("div",{className:"bg-white dark:bg-gradient-to-br dark:from-slate-900/80 dark:to-slate-800/60 p-3 sm:p-4 rounded-xl shadow-xl flex flex-col w-full backdrop-blur-sm border dark:border-slate-600/30",style:{height:"calc(100vh - 150px)"},children:[(0,A.jsxs)("h2",{className:"text-xl sm:text-2xl font-semibold text-emerald-700 dark:text-emerald-400 mb-3 flex items-center break-words",children:[(0,A.jsx)(i.A,{size:24,className:"mr-2"})," Mi Lista de Compras"]}),(0,A.jsxs)("div",{className:"flex-grow overflow-y-auto pr-0.5 custom-scrollbar",children:[" ",(0,A.jsxs)("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-green-50 dark:from-slate-700/50 dark:to-slate-600/50 rounded-xl border border-blue-200 dark:border-slate-600 shadow-sm",children:[(0,A.jsx)("label",{htmlFor:"budget",className:"block text-sm font-medium text-blue-700 dark:text-blue-300 mb-2",children:"\ud83d\udcb0 Mi Presupuesto"}),(0,A.jsxs)("div",{className:"flex items-center gap-3",children:[(0,A.jsx)("input",{type:"text",id:"budget",placeholder:"Ej: 500.000",value:_,onChange:he,onBlur:ke,className:"flex-1 p-3 rounded-lg border-2 border-blue-200 dark:border-blue-400/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 dark:focus:border-blue-400 dark:focus:ring-blue-400/50 transition-all duration-200 shadow-sm backdrop-blur-sm"}),(0,A.jsx)("button",{onClick:async()=>{try{const e=await Z();e.budget=_,await ee(e),a&&a("Presupuesto guardado.","success")}catch(e){N.error("Error guardando presupuesto:",e),a&&a("Error al guardar presupuesto.","error")}},className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 font-medium shadow-sm",children:"\ud83d\udcbe Guardar"})]})]})," ",(0,A.jsxs)("form",{onSubmit:oe,className:"mb-4 p-4 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-slate-700/50 dark:to-slate-600/50 rounded-xl border border-emerald-200 dark:border-slate-600 shadow-sm",children:[(0,A.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,A.jsxs)("div",{className:"sm:col-span-2",children:[(0,A.jsx)("label",{htmlFor:"newItemName",className:"block text-sm font-medium text-emerald-700 dark:text-emerald-300 mb-1",children:"\ud83d\uded2 Producto"}),(0,A.jsx)("input",{type:"text",id:"newItemName",placeholder:"Ej: Leche descremada",value:k,onChange:e=>x(e.target.value),className:"w-full p-3 rounded-lg border-2 border-emerald-200 dark:border-emerald-400/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/50 transition-all duration-200 shadow-sm backdrop-blur-sm"})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{htmlFor:"newItemCategory",className:"block text-sm font-medium text-emerald-700 dark:text-emerald-300 mb-1",children:"\ud83c\udff7\ufe0f Categor\xeda"}),(0,A.jsx)("select",{id:"newItemCategory",value:E,onChange:e=>O(e.target.value),className:"w-full p-3 rounded-lg border-2 border-emerald-200 dark:border-emerald-400/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/50 transition-all duration-200 shadow-sm backdrop-blur-sm",children:re.map((e=>(0,A.jsx)("option",{value:e,children:e},e)))})]})]}),(0,A.jsx)("div",{className:"flex justify-end mt-3",children:(0,A.jsxs)("button",{type:"submit",className:"px-6 py-2.5 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200 font-medium shadow-sm flex items-center",children:[(0,A.jsx)(d.A,{size:18,className:"mr-2"})," \u2705 A\xf1adir Producto"]})})]})," ",(0,A.jsxs)("div",{className:"mb-4 p-4 bg-gradient-to-r from-sky-50 to-indigo-50 dark:from-slate-700/50 dark:to-slate-600/50 rounded-xl border border-sky-200 dark:border-slate-600 shadow-sm",children:[(0,A.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,A.jsxs)("div",{className:"flex-1",children:[(0,A.jsx)("label",{className:"block text-sm font-medium text-sky-700 dark:text-sky-300 mb-1",children:"\ud83c\udff7\ufe0f Nueva Categor\xeda"}),(0,A.jsx)("input",{type:"text",placeholder:"Ej: Productos org\xe1nicos",value:z,onChange:e=>P(e.target.value),className:"w-full p-3 rounded-lg border-2 border-sky-200 dark:border-sky-400/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-sky-400 focus:border-sky-400 dark:focus:border-sky-400 dark:focus:ring-sky-400/50 transition-all duration-200 shadow-sm backdrop-blur-sm"})]}),(0,A.jsxs)("button",{onClick:te,className:"px-4 py-2.5 bg-sky-600 text-white rounded-lg hover:bg-sky-700 focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 transition-all duration-200 font-medium shadow-sm flex items-center self-end",children:[(0,A.jsx)(l,{size:16,className:"mr-1"})," \u2795 A\xf1adir"]})]})," ",M.filter((e=>!h.ug.includes(e))).length>0&&(0,A.jsxs)("div",{className:"border-t border-sky-200 dark:border-slate-600 pt-3",children:[(0,A.jsx)("span",{className:"text-sm font-medium text-sky-700 dark:text-sky-300 mb-2 block",children:"\ud83c\udff7\ufe0f Mis Categor\xedas Personalizadas:"}),(0,A.jsx)("div",{className:"flex flex-wrap gap-2",children:M.filter((e=>!h.ug.includes(e))).map((e=>(0,A.jsxs)("span",{className:"bg-sky-100 dark:bg-sky-800 border border-sky-200 dark:border-sky-600 px-3 py-1.5 rounded-full flex items-center text-sm text-sky-800 dark:text-sky-200 shadow-sm",children:[e,(0,A.jsx)("button",{onClick:()=>se(e),className:"ml-2 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-800 transition-colors",title:"Eliminar categor\xeda ".concat(e),children:(0,A.jsx)(c.A,{size:12})})]},e)))})]})]}),(0,A.jsx)("div",{className:"space-y-2 pb-4",children:Object.keys(ie).length>0?Object.entries(ie).map((e=>{let[a,r]=e;return r.length>0&&(0,A.jsxs)("div",{children:[(0,A.jsx)("h3",{className:"text-md font-semibold text-emerald-600 dark:text-emerald-400 mb-1.5 border-b pb-1 border-slate-200 dark:border-slate-700",children:a}),(0,A.jsx)("ul",{className:"space-y-1.5",children:r.map((e=>(0,A.jsxs)("li",{className:"flex items-center bg-gradient-to-r from-emerald-50 to-blue-50 dark:bg-gradient-to-br dark:from-slate-800/60 dark:to-slate-700/40 p-2 rounded-lg shadow-sm border-2 border-emerald-200 dark:border-emerald-400/30 transition-all duration-200 hover:shadow-md backdrop-blur-sm ".concat(e.checked?"opacity-60":""),children:[" ",(0,A.jsx)("input",{type:"checkbox",checked:e.toBuy||!1,onChange:a=>ce(e.id,"toBuy",a.target.checked),className:"h-5 w-5 rounded-md appearance-none border-2 border-blue-300 dark:border-blue-400/50 bg-gradient-to-br from-blue-50 to-white dark:from-slate-800/80 dark:to-slate-700/60 checked:bg-gradient-to-br checked:from-blue-500 checked:to-blue-600 dark:checked:from-blue-400 dark:checked:to-blue-500 checked:border-blue-600 dark:checked:border-blue-400 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400/50 focus:ring-offset-1 mr-2 flex-shrink-0 transition-all duration-200 cursor-pointer relative checked:after:content-['\u2713'] checked:after:absolute checked:after:inset-0 checked:after:flex checked:after:items-center checked:after:justify-center checked:after:text-white checked:after:text-sm checked:after:font-bold checked:after:drop-shadow-sm",title:"Seleccionar para comprar"}),(0,A.jsx)("span",{className:"flex-grow text-sm transition-colors font-semibold ".concat(e.checked?"line-through text-red-600 dark:text-red-400":"text-slate-700 dark:text-slate-100"),children:e.name}),(0,A.jsxs)("div",{className:"flex items-center space-x-1 ml-1.5 text-xs",children:[(0,A.jsx)("button",{onClick:()=>ce(e.id,"quantity",Math.max(1,(Number(e.quantity)||1)-1)),className:"p-0.5 text-slate-500 dark:text-white hover:text-red-500 dark:hover:text-red-400 rounded-full","aria-label":"Disminuir cantidad",children:(0,A.jsx)(m,{size:14})}),(0,A.jsx)("span",{className:"w-4 text-center text-slate-700 dark:text-white",children:e.quantity||1}),(0,A.jsx)("button",{onClick:()=>ce(e.id,"quantity",(Number(e.quantity)||1)+1),className:"p-0.5 text-slate-500 dark:text-white hover:text-green-500 dark:hover:text-green-400 rounded-full","aria-label":"Aumentar cantidad",children:(0,A.jsx)(u.A,{size:14})})," ",(0,A.jsx)("input",{type:"text",placeholder:"Precio",title:"Precio Unitario",value:void 0!==e.priceDisplay?e.priceDisplay:null!==e.price?K(e.price):"",onChange:a=>xe(e.id,a.target.value),onBlur:()=>ye(e.id),className:"w-16 p-1 rounded-md border-2 border-emerald-300 dark:border-emerald-400/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 text-right text-xs focus:ring-2 focus:ring-emerald-400 dark:focus:ring-emerald-400/50 transition-all duration-200 backdrop-blur-sm"}),(0,A.jsx)("input",{type:"text",readOnly:!0,value:e.price&&e.price>0?K((e.price||0)*(e.quantity||1)):"",className:"w-20 p-1 rounded-md border-2 border-blue-300 dark:border-blue-400/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 text-right text-xs focus:ring-2 focus:ring-blue-400 dark:focus:ring-blue-400/50 transition-all duration-200 backdrop-blur-sm",title:"Total Art\xedculo"})," ",(0,A.jsx)("input",{type:"checkbox",checked:e.checked||!1,onChange:a=>ce(e.id,"checked",a.target.checked),className:"h-5 w-5 rounded-md appearance-none border-2 border-emerald-300 dark:border-emerald-400/50 bg-gradient-to-br from-emerald-50 to-white dark:from-slate-800/80 dark:to-slate-700/60 checked:bg-gradient-to-br checked:from-emerald-500 checked:to-emerald-600 dark:checked:from-emerald-400 dark:checked:to-emerald-500 checked:border-emerald-600 dark:checked:border-emerald-400 focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400/50 focus:ring-offset-1 ml-2 flex-shrink-0 transition-all duration-200 cursor-pointer relative checked:after:content-['\u2713'] checked:after:absolute checked:after:inset-0 checked:after:flex checked:after:items-center checked:after:justify-center checked:after:text-white checked:after:text-sm checked:after:font-bold checked:after:drop-shadow-sm",title:"Marcar como comprado"}),(0,A.jsx)("button",{onClick:()=>me(e.id),className:"p-1 text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 rounded-full","aria-label":"Eliminar producto",children:(0,A.jsx)(b.A,{size:16})})]})]},e.id)))})]},a)})):(0,A.jsx)("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400 text-sm",children:"Tu lista est\xe1 vac\xeda."})})]}),(0,A.jsx)("div",{className:"mt-auto pt-3 border-t border-slate-200 dark:border-slate-600/50 bg-white dark:bg-gradient-to-r dark:from-slate-900/70 dark:to-slate-800/50 pb-1 rounded-b-xl backdrop-blur-sm",children:(0,A.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2",children:[(0,A.jsxs)("div",{className:"text-center sm:text-left",children:[(0,A.jsxs)("div",{className:"text-md sm:text-lg font-semibold text-emerald-800 dark:text-emerald-300",children:["Total Compra: $",ne>0?K(ne):"0"]}),de>0&&(0,A.jsxs)("div",{className:"text-xs font-medium ".concat(le<0?"text-red-500 dark:text-red-400":"text-green-600 dark:text-green-400"),children:["Presupuesto Restante: $",K(Math.abs(le)),le<0&&" (Excedido)"]})]})," ",(0,A.jsxs)("button",{onClick:fe,disabled:!(le<0)&&(!Array.isArray(r)||r.every((e=>!e.checked&&!e.toBuy))),className:"px-3 py-1.5 bg-orange-500 text-white rounded-lg shadow-md hover:bg-orange-600 disabled:opacity-50 flex items-center justify-center font-medium text-xs w-full sm:w-auto whitespace-nowrap",title:le<0?"Restablecer todo debido a presupuesto excedido":"Limpiar items marcados como comprados",children:[(0,A.jsx)(p.A,{size:14,className:"mr-1"}),le<0?"Restablecer Todo":"Restablecer"]})]})})," ",(0,A.jsx)(f.A,{isOpen:D,onClose:()=>G(!1),onConfirm:ue,title:"\ud83d\uddd1\ufe0f Confirmar Eliminaci\xf3n",message:"\xbfSeguro que quieres eliminar este producto de la lista de compras?"}),(0,A.jsx)(f.A,{isOpen:H,onClose:()=>{Y(!1),q(null)},onConfirm:ge,title:"full"===F?"\ud83d\udd04 Restablecer Todo":"\ud83d\udd04 Restablecer Lista",message:"full"===F?"\u26a0\ufe0f Presupuesto excedido detectado.\n\nEsta acci\xf3n restablecer\xe1 COMPLETAMENTE la lista:\n\u2022 Eliminar\xe1 todos los precios\n\u2022 Restablecer\xe1 cantidades a 1\n\u2022 Desmarcar\xe1 todos los productos\n\u2022 Limpiar\xe1 el presupuesto\n\n\xbfDeseas continuar?":"Esta acci\xf3n eliminar\xe1 todos los productos marcados como comprados y desmarcar\xe1 los productos seleccionados para comprar.\n\n\xbfDeseas continuar?"})]})},w=o.memo(O)},272:(e,a,r)=>{r.d(a,{R6:()=>d,ug:()=>o});const t=Object.freeze(["Desayuno \ud83e\udd50","Almuerzo \ud83e\udd57","Cena \ud83c\udf5d","Postre \ud83c\udf70","Snack \ud83c\udf7f","Bebida \ud83c\udf79","Otro \u2728"]),s=(Object.freeze(["lunes","martes","miercoles","jueves","viernes","sabado","domingo"]),Object.freeze({lunes:"Lunes",martes:"Martes",miercoles:"Mi\xe9rcoles",jueves:"Jueves",viernes:"Viernes",sabado:"S\xe1bado",domingo:"Domingo"})),o=Object.freeze(["Supermercado","L\xe1cteos","Carnes","Verduras y Frutas","Aseo","Otros"]),i=Object.freeze([Object.freeze({id:"directo-paladar",name:"Directo al Paladar",url:"https://www.directoalpaladar.com/recetas",icon:"\ud83c\udf72",description:"Blog gastron\xf3mico con recetas tradicionales y modernas"}),Object.freeze({id:"elpais-recetas",name:"Recetas de Cocina (El Pa\xeds)",url:"https://elpais.com/elpais/recetas/",icon:"\ud83d\udcf0",description:"Secci\xf3n de recetas del diario El Pa\xeds"}),Object.freeze({id:"gastronomia-cia",name:"Gastronom\xeda & C\xeda",url:"https://www.gastronomiaycia.com/recetas/",icon:"\ud83e\uddd1\u200d\ud83c\udf73",description:"Portal especializado en gastronom\xeda y t\xe9cnicas culinarias"}),Object.freeze({id:"bon-viveur",name:"Bon Viveur",url:"https://www.bonviveur.es/recetas",icon:"\ud83c\udf77",description:"Recetas gourmet y maridajes"}),Object.freeze({id:"divina-cocina",name:"Divina Cocina",url:"https://www.divinacocina.es/recetas/",icon:"\ud83c\udf1f",description:"Recetas caseras y tradicionales"}),Object.freeze({id:"recetas-gratis",name:"Recetas Gratis",url:"https://www.recetasgratis.net/",icon:"\ud83c\udd93",description:"Amplio cat\xe1logo de recetas gratuitas"})]),d=(Object.freeze({TOAST:Object.freeze({DURATION:2500,POSITION:"top-right",MAX_VISIBLE:3}),STORAGE:Object.freeze({PREFIX:"recetario_",VERSION:"v2.0",KEYS:Object.freeze({RECIPES:"recipes",SHOPPING_LIST:"shoppingList",WEEKLY_PLAN:"weeklyPlan",THEME:"theme",USER_CATEGORIES:"userCategories",SHOPPING_CATEGORIES:"shoppingCategories"})}),PERFORMANCE:Object.freeze({AUTO_SAVE_DELAY:500,DEBOUNCE_DELAY:300,SEARCH_DELAY:200,IMAGE_LAZY_THRESHOLD:"200px"}),LIMITS:Object.freeze({MAX_RECIPES:1e3,MAX_SHOPPING_ITEMS:500,MAX_CUSTOM_CATEGORIES:20,MAX_RECIPE_NAME_LENGTH:100,MAX_INGREDIENT_LENGTH:200,MAX_INSTRUCTION_LENGTH:500}),LOCALE:Object.freeze({DATE_FORMAT:"es-ES",DATE_OPTIONS:Object.freeze({weekday:"long",year:"numeric",month:"long",day:"numeric"}),TIME_FORMAT:"es-ES",TIME_OPTIONS:Object.freeze({hour:"2-digit",minute:"2-digit",hour12:!1}),CURRENCY_FORMAT:"es-ES",CURRENCY_OPTIONS:Object.freeze({style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0})})}),Object.freeze({SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info"}),Object.freeze({IDLE:"idle",LOADING:"loading",SUCCESS:"success",ERROR:"error"}),Object.freeze({LIGHT:"light",DARK:"dark",SYSTEM:"system"}),Object.freeze({RECIPE:Object.freeze({NAME:Object.freeze({MIN_LENGTH:2,MAX_LENGTH:100,REQUIRED:!0}),PREP_TIME:Object.freeze({MIN:1,MAX:1440,PATTERN:/^\d+\s?(min|mins|minutos?|h|hr|hrs|horas?)?$/i}),SERVINGS:Object.freeze({MIN:1,MAX:50})}),SHOPPING_ITEM:Object.freeze({NAME:Object.freeze({MIN_LENGTH:1,MAX_LENGTH:100,REQUIRED:!0}),QUANTITY:Object.freeze({MIN:1,MAX:999}),PRICE:Object.freeze({MIN:0,MAX:999999999})})}),Object.freeze({PLACEHOLDER_IMAGE:"https://placehold.co/600x300/E2E8F0/A0AEC0",GITHUB_REPO:"https://github.com/tu-usuario/recetario-app",DOCUMENTATION:"https://docs.recetario-app.com"}),Object.freeze({FAST:"150ms",NORMAL:"200ms",SLOW:"300ms",EASING:Object.freeze({EASE_IN_OUT:"cubic-bezier(0.4, 0, 0.2, 1)",EASE_OUT:"cubic-bezier(0, 0, 0.2, 1)",EASE_IN:"cubic-bezier(0.4, 0, 1, 1)"})}),new Map(Object.entries(s)),new Set(t),new Map(i.map((e=>[e.id,e]))),t)},360:(e,a,r)=>{r.d(a,{A:()=>t});const t=(0,r(784).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},625:(e,a,r)=>{r.d(a,{A:()=>d});var t=r(43),s=r(614),o=r(579);const i=e=>{let{isOpen:a,onClose:r,title:i,children:d,onKeyDown:n}=e;const l=(0,t.useCallback)((()=>{r&&r()}),[r]),c=(0,t.useCallback)((e=>{e.target===e.currentTarget&&l()}),[l]),m=(0,t.useCallback)((e=>{"Escape"===e.key&&l(),n&&n(e)}),[l,n]);return(0,t.useEffect)((()=>{if(a){const e=document.body.style.overflow;return document.body.style.overflow="hidden",document.addEventListener("keydown",m),()=>{document.body.style.overflow=e||"auto",document.removeEventListener("keydown",m)}}document.body.style.overflow="auto"}),[a,m]),a?(0,o.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex justify-center items-center z-50 p-4 animate-in fade-in duration-200",onClick:c,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-content",children:[" ",(0,o.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] min-h-0 flex flex-col animate-in zoom-in-95 duration-200 overflow-hidden",children:[(0,o.jsxs)("header",{className:"flex justify-between items-center p-6 pb-4 border-b border-slate-200 dark:border-slate-600 flex-shrink-0",children:[(0,o.jsx)("h2",{id:"modal-title",className:"text-2xl font-bold text-emerald-700 dark:text-emerald-400 pr-8",children:i}),(0,o.jsx)("button",{type:"button",onClick:l,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-all duration-200 p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 flex-shrink-0","aria-label":"Cerrar modal",children:(0,o.jsx)(s.A,{size:24})})]}),(0,o.jsx)("main",{id:"modal-content",className:"flex-1 min-h-0 p-6 pt-4 overflow-y-auto overflow-x-hidden custom-scrollbar focus:outline-none",tabIndex:-1,style:{maxHeight:"calc(90vh - 100px)",overflowY:"auto",WebkitOverflowScrolling:"touch"},children:d})]})]}):null},d=t.memo(i,((e,a)=>e.isOpen===a.isOpen&&e.title===a.title&&e.children===a.children))},652:(e,a,r)=>{r.d(a,{A:()=>n});var t=r(43),s=r(625),o=r(719),i=r(579);const d=e=>{let{isOpen:a,onClose:r,onConfirm:d,title:n="Confirmaci\xf3n",message:l="\xbfEst\xe1s seguro?",confirmButtonText:c="Confirmar",cancelButtonText:m="Cancelar",variant:u="danger"}=e;const b=(0,t.useMemo)((()=>{const e={danger:"bg-red-600 hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",info:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"};return{confirm:"px-4 py-2 text-sm font-medium text-white rounded-lg shadow-sm \n                flex items-center transition-all duration-200 \n                focus:outline-none focus:ring-2 focus:ring-offset-2 \n                ".concat(e[u]||e.danger),cancel:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 \n               hover:bg-slate-200 dark:bg-gradient-to-br dark:from-slate-800/70 dark:to-slate-700/50 dark:text-slate-200 \n               dark:hover:bg-slate-600 rounded-lg shadow-sm transition-all \n               duration-200 focus:outline-none focus:ring-2 focus:ring-slate-500 \n               focus:ring-offset-2 backdrop-blur-sm border dark:border-slate-600/30"}}),[u]),p=(0,t.useCallback)((()=>{d&&d()}),[d]),f=(0,t.useCallback)((()=>{r&&r()}),[r]),g=(0,t.useCallback)((e=>{"Enter"===e.key?p():"Escape"===e.key&&f()}),[p,f]);return a?(0,i.jsxs)(s.A,{isOpen:a,onClose:r,title:n,onKeyDown:g,children:[(0,i.jsx)("div",{className:"text-slate-700 dark:text-slate-300 mb-6",children:(0,i.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,i.jsx)("div",{className:"flex-shrink-0",children:(0,i.jsx)(o.A,{size:20,className:"".concat("danger"===u?"text-red-500":"warning"===u?"text-yellow-500":"text-blue-500"),"aria-hidden":"true"})}),(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)("p",{className:"text-sm leading-relaxed",children:l})})]})}),(0,i.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-slate-200 dark:border-slate-600",children:[(0,i.jsx)("button",{type:"button",onClick:f,className:b.cancel,"aria-label":"Cancelar acci\xf3n",children:m}),(0,i.jsxs)("button",{type:"button",onClick:p,className:b.confirm,"aria-label":"Confirmar: ".concat(l),autoFocus:!0,children:[(0,i.jsx)(o.A,{size:16,className:"mr-2","aria-hidden":"true"}),c]})]})]}):null},n=t.memo(d)},781:(e,a,r)=>{r.d(a,{A:()=>t});const t=(0,r(784).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},805:(e,a,r)=>{r.d(a,{A:()=>t});const t=(0,r(784).A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},855:(e,a,r)=>{r.d(a,{A:()=>t});const t=(0,r(784).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=250.bc8b54a2.chunk.js.map