{"version":3,"file":"static/js/103.6ee83d3e.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/upload.ts","../node_modules/lucide-react/src/icons/camera.ts","components/recipes/RecipeForm.js","../node_modules/lucide-react/src/icons/facebook.ts","../node_modules/lucide-react/src/icons/hash.ts","../node_modules/lucide-react/src/icons/message-circle.ts","../node_modules/lucide-react/src/icons/send.ts","../node_modules/lucide-react/src/icons/external-link.ts","../node_modules/lucide-react/src/icons/check.ts","../node_modules/lucide-react/src/icons/copy.ts","components/SocialShareModal.js","components/ui/IngredientsListModal.js","components/RecipesView.js","../node_modules/lucide-react/src/icons/users.ts","data/constants.js","../node_modules/lucide-react/src/icons/share-2.ts","../node_modules/lucide-react/src/icons/pen-line.ts","../node_modules/lucide-react/src/icons/grip-vertical.ts","components/recipes/RecipeCard.js","hooks/useMobileDetection.js","components/layout/Modal.js","components/ui/CustomConfirmModal.js","../node_modules/lucide-react/src/icons/circle-plus.ts","../node_modules/lucide-react/src/icons/trash-2.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Upload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxNyA4IDEyIDMgNyA4IiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMyIgeTI9IjE1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Upload = createLucideIcon('Upload', [\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['polyline', { points: '17 8 12 3 7 8', key: 't8dd8p' }],\n  ['line', { x1: '12', x2: '12', y1: '3', y2: '15', key: 'widbto' }],\n]);\n\nexport default Upload;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Camera\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNSA0aC01TDcgN0g0YTIgMiAwIDAgMC0yIDJ2OWEyIDIgMCAwIDAgMiAyaDE2YTIgMiAwIDAgMCAyLTJWOWEyIDIgMCAwIDAtMi0yaC0zbC0yLjUtM3oiIC8+CiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMyIgcj0iMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/camera\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Camera = createLucideIcon('Camera', [\n  [\n    'path',\n    {\n      d: 'M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z',\n      key: '1tc9qg',\n    },\n  ],\n  ['circle', { cx: '12', cy: '13', r: '3', key: '1vg3eu' }],\n]);\n\nexport default Camera;\n","import React, { useState, useEffect, useCallback, useMemo } from \"react\";\r\nimport { PlusCircle, Trash2, Camera, Upload, X } from \"lucide-react\";\r\nimport Modal from \"../layout/Modal\";\r\n\r\n/**\r\n * Categorías de recetas disponibles\r\n * Constante inmutable para evitar recreación en cada render\r\n */\r\nconst CATEGORIES = [\r\n  \"Desayuno 🥐\",\r\n  \"Almuerzo 🥗\",\r\n  \"Cena 🍝\",\r\n  \"Postre 🍰\",\r\n  \"Snack 🍿\",\r\n  \"Bebida 🍹\",\r\n  \"Otro ✨\",\r\n];\r\n\r\n/**\r\n * Estado inicial del formulario\r\n * Constante para evitar recreación y mejorar rendimiento\r\n */\r\nconst INITIAL_FORM_STATE = {\r\n  name: \"\",\r\n  ingredients: [{ text: \"\" }],\r\n  instructions: [{ text: \"\" }],\r\n  prepTime: \"\",\r\n  category: CATEGORIES[0],\r\n  imageUrl: \"\",\r\n  imageFile: null,\r\n  imagePreview: \"\",\r\n  imageSource: \"url\", // \"url\" o \"file\"\r\n  servings: \"\",\r\n};\r\n\r\n/**\r\n * Componente RecipeForm\r\n * Formulario optimizado para crear o editar recetas.\r\n * Se muestra dentro de un componente Modal con características avanzadas.\r\n *\r\n * Características:\r\n * - Gestión optimizada de estado con useCallback\r\n * - Campos dinámicos para ingredientes e instrucciones\r\n * - Validación en tiempo real\r\n * - Memoización para evitar re-renders innecesarios\r\n * - Responsive design con grid adaptativo\r\n *\r\n * @param {Object} props - Propiedades del componente\r\n * @param {boolean} props.isOpen - Si el formulario está abierto\r\n * @param {Function} props.onClose - Función para cerrar el formulario\r\n * @param {Function} props.onSave - Función para guardar la receta\r\n * @param {Object} [props.initialRecipe] - Receta inicial para modo edición\r\n * @returns {JSX.Element} Componente de formulario de receta\r\n */\r\nconst RecipeForm = ({ isOpen, onClose, onSave, initialRecipe }) => {\r\n  // Estados del formulario optimizados\r\n  const [formData, setFormData] = useState(INITIAL_FORM_STATE);\r\n  // Destructuración del estado para facilitar acceso\r\n  const {\r\n    name,\r\n    ingredients,\r\n    instructions,\r\n    prepTime,\r\n    category,\r\n    imageUrl,\r\n    // imageFile, // Comentado porque no se usa actualmente\r\n    imagePreview,\r\n    imageSource,\r\n    servings,\r\n  } = formData;\r\n  // Efecto para inicializar/resetear formulario optimizado\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      if (initialRecipe) {\r\n        // Modo edición: cargar datos existentes\r\n        const hasImageUrl =\r\n          initialRecipe.imageUrl && !initialRecipe.imageUrl.startsWith(\"data:\");\r\n        setFormData({\r\n          name: initialRecipe.name || \"\",\r\n          ingredients:\r\n            initialRecipe.ingredients?.length > 0\r\n              ? initialRecipe.ingredients.map(i => ({ text: i }))\r\n              : [{ text: \"\" }],\r\n          instructions:\r\n            initialRecipe.instructions?.length > 0\r\n              ? initialRecipe.instructions.map(i => ({ text: i }))\r\n              : [{ text: \"\" }],\r\n          prepTime: initialRecipe.prepTime || \"\",\r\n          category: initialRecipe.category || CATEGORIES[0],\r\n          imageUrl: hasImageUrl ? initialRecipe.imageUrl : \"\",\r\n          imageFile: null,\r\n          imagePreview:\r\n            !hasImageUrl && initialRecipe.imageUrl\r\n              ? initialRecipe.imageUrl\r\n              : \"\",\r\n          imageSource: hasImageUrl\r\n            ? \"url\"\r\n            : initialRecipe.imageUrl\r\n              ? \"file\"\r\n              : \"url\",\r\n          servings: initialRecipe.servings?.toString() || \"\",\r\n        });\r\n      } else {\r\n        // Modo creación: usar estado inicial\r\n        setFormData(INITIAL_FORM_STATE);\r\n      }\r\n    }\r\n  }, [initialRecipe, isOpen]);\r\n\r\n  // Función genérica optimizada para actualizar campos simples\r\n  const updateField = useCallback(\r\n    (field, value) => {\r\n      setFormData(prev => ({ ...prev, [field]: value }));\r\n    },\r\n    [setFormData]\r\n  );\r\n\r\n  // Función genérica optimizada para manejar arrays dinámicos\r\n  const handleArrayField = useCallback(\r\n    (field, action, index = null, value = null) => {\r\n      setFormData(prev => {\r\n        const currentArray = prev[field];\r\n        let newArray;\r\n\r\n        switch (action) {\r\n          case \"add\":\r\n            newArray = [...currentArray, { text: \"\" }];\r\n            break;\r\n          case \"remove\":\r\n            newArray = currentArray.filter((_, i) => i !== index);\r\n            // Mantener al menos un campo vacío\r\n            if (newArray.length === 0) {\r\n              newArray = [{ text: \"\" }];\r\n            }\r\n            break;\r\n          case \"update\":\r\n            newArray = currentArray.map((field, i) =>\r\n              i === index ? { text: value } : field\r\n            );\r\n            break;\r\n          default:\r\n            return prev;\r\n        }\r\n\r\n        return { ...prev, [field]: newArray };\r\n      });\r\n    },\r\n    [setFormData]\r\n  );\r\n\r\n  // Manejadores específicos memoizados\r\n  const handleNameChange = useCallback(\r\n    e => {\r\n      updateField(\"name\", e.target.value);\r\n    },\r\n    [updateField]\r\n  );\r\n\r\n  const handlePrepTimeChange = useCallback(\r\n    e => {\r\n      updateField(\"prepTime\", e.target.value);\r\n    },\r\n    [updateField]\r\n  );\r\n\r\n  const handleServingsChange = useCallback(\r\n    e => {\r\n      updateField(\"servings\", e.target.value);\r\n    },\r\n    [updateField]\r\n  );\r\n\r\n  const handleCategoryChange = useCallback(\r\n    e => {\r\n      updateField(\"category\", e.target.value);\r\n    },\r\n    [updateField]\r\n  );\r\n  const handleImageUrlChange = useCallback(\r\n    e => {\r\n      updateField(\"imageUrl\", e.target.value);\r\n      // Limpiar preview si se está usando URL\r\n      if (imageSource === \"url\") {\r\n        updateField(\"imagePreview\", \"\");\r\n        updateField(\"imageFile\", null);\r\n      }\r\n    },\r\n    [updateField, imageSource]\r\n  );\r\n\r\n  // Manejador para cambio de fuente de imagen\r\n  const handleImageSourceChange = useCallback(\r\n    source => {\r\n      updateField(\"imageSource\", source);\r\n      // Limpiar campos según la fuente\r\n      if (source === \"url\") {\r\n        updateField(\"imageFile\", null);\r\n        updateField(\"imagePreview\", \"\");\r\n      } else {\r\n        updateField(\"imageUrl\", \"\");\r\n      }\r\n    },\r\n    [updateField]\r\n  );\r\n\r\n  // Manejador para selección de archivo de imagen\r\n  const handleImageFileChange = useCallback(\r\n    e => {\r\n      const file = e.target.files[0];\r\n      if (file) {\r\n        // Validar tipo de archivo\r\n        if (!file.type.startsWith(\"image/\")) {\r\n          alert(\"Por favor selecciona un archivo de imagen válido\");\r\n          return;\r\n        }\r\n\r\n        // Validar tamaño (máximo 5MB)\r\n        if (file.size > 5 * 1024 * 1024) {\r\n          alert(\r\n            \"La imagen es muy grande. Por favor selecciona una imagen menor a 5MB\"\r\n          );\r\n          return;\r\n        }\r\n\r\n        // Crear preview de la imagen\r\n        const reader = new FileReader();\r\n        reader.onload = e => {\r\n          const base64 = e.target.result;\r\n          updateField(\"imageFile\", file);\r\n          updateField(\"imagePreview\", base64);\r\n          updateField(\"imageUrl\", base64); // Usar base64 como URL para compatibilidad\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    },\r\n    [updateField]\r\n  );\r\n\r\n  // Manejador para eliminar imagen\r\n  const handleRemoveImage = useCallback(() => {\r\n    updateField(\"imageFile\", null);\r\n    updateField(\"imagePreview\", \"\");\r\n    updateField(\"imageUrl\", \"\");\r\n  }, [updateField]);\r\n\r\n  // Manejador optimizado para envío del formulario\r\n  const handleSubmit = useCallback(\r\n    e => {\r\n      e.preventDefault();\r\n\r\n      // Procesar y limpiar datos antes de enviar\r\n      const cleanedData = {\r\n        name: name.trim(),\r\n        ingredients: ingredients\r\n          .map(i => i.text.trim())\r\n          .filter(i => i.length > 0),\r\n        instructions: instructions\r\n          .map(i => i.text.trim())\r\n          .filter(i => i.length > 0),\r\n        prepTime: prepTime.trim(),\r\n        category,\r\n        imageUrl: imageUrl.trim(),\r\n        servings: servings ? parseInt(servings, 10) : null,\r\n      };\r\n\r\n      // Validación básica\r\n      if (!cleanedData.name) {\r\n        alert(\"El nombre de la receta es obligatorio\");\r\n        return;\r\n      }\r\n\r\n      if (cleanedData.ingredients.length === 0) {\r\n        alert(\"Debe agregar al menos un ingrediente\");\r\n        return;\r\n      }\r\n\r\n      if (cleanedData.instructions.length === 0) {\r\n        alert(\"Debe agregar al menos una instrucción\");\r\n        return;\r\n      }\r\n\r\n      onSave(cleanedData);\r\n    },\r\n    [\r\n      name,\r\n      ingredients,\r\n      instructions,\r\n      prepTime,\r\n      category,\r\n      imageUrl,\r\n      servings,\r\n      onSave,\r\n    ]\r\n  );\r\n\r\n  // Componente memoizado para campos dinámicos\r\n  const DynamicFieldArray = useMemo(\r\n    () =>\r\n      ({ label, fieldName, placeholder, fields }) => (\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1.5\">\r\n            {label}\r\n          </label>\r\n          {fields.map((field, index) => (\r\n            <div\r\n              key={`${fieldName}-${index}`}\r\n              className=\"flex items-center mb-2 gap-2\"\r\n            >\r\n              {\" \"}\r\n              <input\r\n                type=\"text\"\r\n                placeholder={`${placeholder} ${index + 1}`}\r\n                value={field.text}\r\n                onChange={e =>\r\n                  handleArrayField(fieldName, \"update\", index, e.target.value)\r\n                }\r\n                className=\"flex-1 p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/50 transition-all duration-200 backdrop-blur-sm\"\r\n              />\r\n              {fields.length > 1 && (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => handleArrayField(fieldName, \"remove\", index)}\r\n                  className=\"p-2 text-red-500 hover:text-red-700 hover:bg-red-100 dark:hover:bg-red-800 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2\"\r\n                  aria-label={`Eliminar ${placeholder.toLowerCase()}`}\r\n                >\r\n                  <Trash2 size={18} />\r\n                </button>\r\n              )}\r\n            </div>\r\n          ))}\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => handleArrayField(fieldName, \"add\")}\r\n            className=\"mt-1 text-sm text-emerald-600 hover:text-emerald-800 dark:text-emerald-400 dark:hover:text-emerald-300 flex items-center font-medium transition-colors\"\r\n          >\r\n            <PlusCircle size={16} className=\"mr-1\" />\r\n            Añadir {placeholder.toLowerCase()}\r\n          </button>\r\n        </div>\r\n      ),\r\n    [handleArrayField]\r\n  );\r\n\r\n  // Título del modal memoizado\r\n  const modalTitle = useMemo(\r\n    () => (initialRecipe ? \"✏️ Editar Receta\" : \"✨ Crear Nueva Receta\"),\r\n    [initialRecipe]\r\n  );\r\n  // Texto del botón de submit memoizado\r\n  const submitButtonText = useMemo(\r\n    () => (initialRecipe ? \"Guardar Cambios\" : \"Guardar Receta\"),\r\n    [initialRecipe]\r\n  );\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} title={modalTitle}>\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        className=\"space-y-4 text-slate-800 dark:text-slate-200 text-sm sm:text-base\"\r\n        noValidate\r\n      >\r\n        {/* Campo: Nombre de la Receta */}\r\n        <div>\r\n          <label\r\n            htmlFor=\"recipe-name\"\r\n            className=\"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1\"\r\n          >\r\n            Nombre de la Receta *\r\n          </label>{\" \"}\r\n          <input\r\n            type=\"text\"\r\n            id=\"recipe-name\"\r\n            value={name}\r\n            onChange={handleNameChange}\r\n            required\r\n            className=\"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/50 transition-all duration-200 backdrop-blur-sm\"\r\n            placeholder=\"Ej: Pasta a la carbonara\"\r\n          />\r\n        </div>\r\n        {/* Campos dinámicos: Ingredientes */}\r\n        <DynamicFieldArray\r\n          label=\"Ingredientes 🥕 *\"\r\n          fieldName=\"ingredients\"\r\n          placeholder=\"Ingrediente\"\r\n          fields={ingredients}\r\n        />\r\n        {/* Campos dinámicos: Instrucciones */}\r\n        <DynamicFieldArray\r\n          label=\"Instrucciones 📝 *\"\r\n          fieldName=\"instructions\"\r\n          placeholder=\"Paso\"\r\n          fields={instructions}\r\n        />\r\n        {/* Campos: Tiempo de Preparación y Porciones */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div>\r\n            <label\r\n              htmlFor=\"prep-time\"\r\n              className=\"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1\"\r\n            >\r\n              ⏱️ Tiempo de Preparación\r\n            </label>{\" \"}\r\n            <input\r\n              type=\"text\"\r\n              id=\"prep-time\"\r\n              value={prepTime}\r\n              onChange={handlePrepTimeChange}\r\n              placeholder=\"Ej: 30 minutos\"\r\n              className=\"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 dark:focus:border-blue-400 dark:focus:ring-blue-400/50 transition-all duration-200 backdrop-blur-sm\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label\r\n              htmlFor=\"servings\"\r\n              className=\"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1\"\r\n            >\r\n              🍽️ Porciones\r\n            </label>{\" \"}\r\n            <input\r\n              type=\"number\"\r\n              id=\"servings\"\r\n              value={servings}\r\n              min=\"1\"\r\n              max=\"50\"\r\n              onChange={handleServingsChange}\r\n              placeholder=\"4\"\r\n              className=\"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 dark:focus:border-blue-400 dark:focus:ring-blue-400/50 transition-all duration-200 backdrop-blur-sm\"\r\n            />\r\n          </div>\r\n        </div>\r\n        {/* Campo: Categoría */}\r\n        <div>\r\n          <label\r\n            htmlFor=\"category\"\r\n            className=\"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1\"\r\n          >\r\n            🏷️ Categoría\r\n          </label>{\" \"}\r\n          <select\r\n            id=\"category\"\r\n            value={category}\r\n            onChange={handleCategoryChange}\r\n            className=\"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm focus:ring-2 focus:ring-purple-400 focus:border-purple-400 dark:focus:border-purple-400 dark:focus:ring-purple-400/50 transition-all duration-200 backdrop-blur-sm\"\r\n          >\r\n            {CATEGORIES.map(cat => (\r\n              <option key={cat} value={cat}>\r\n                {cat}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>{\" \"}\r\n        {/* Campo: Imagen de la Receta */}\r\n        <div className=\"space-y-4\">\r\n          <label className=\"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-3\">\r\n            🖼️ Imagen de la Receta (Opcional)\r\n          </label>\r\n\r\n          {/* Selector de tipo de imagen */}\r\n          <div className=\"flex gap-2 mb-4\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => handleImageSourceChange(\"url\")}\r\n              className={`flex-1 p-3 rounded-lg border-2 transition-all duration-200 ${\r\n                imageSource === \"url\"\r\n                  ? \"border-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300\"\r\n                  : \"border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:border-indigo-300\"\r\n              }`}\r\n            >\r\n              <div className=\"text-center\">\r\n                <div className=\"text-lg mb-1\">🔗</div>\r\n                <div className=\"text-sm font-medium\">URL</div>\r\n              </div>\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => handleImageSourceChange(\"file\")}\r\n              className={`flex-1 p-3 rounded-lg border-2 transition-all duration-200 ${\r\n                imageSource === \"file\"\r\n                  ? \"border-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300\"\r\n                  : \"border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:border-indigo-300\"\r\n              }`}\r\n            >\r\n              <div className=\"text-center\">\r\n                <Upload size={20} className=\"mx-auto mb-1\" />\r\n                <div className=\"text-sm font-medium\">Subir</div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          {/* Campo URL */}\r\n          {imageSource === \"url\" && (\r\n            <input\r\n              type=\"url\"\r\n              id=\"image-url\"\r\n              placeholder=\"https://ejemplo.com/imagen.jpg\"\r\n              value={imageUrl}\r\n              onChange={handleImageUrlChange}\r\n              className=\"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400/50 transition-all duration-200 backdrop-blur-sm\"\r\n            />\r\n          )}\r\n\r\n          {/* Campo de archivo */}\r\n          {imageSource === \"file\" && (\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex gap-2\">\r\n                <label className=\"flex-1 cursor-pointer\">\r\n                  <div className=\"flex items-center justify-center p-4 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg hover:border-indigo-400 transition-colors bg-slate-50 dark:bg-slate-700/50\">\r\n                    <div className=\"text-center\">\r\n                      <Upload\r\n                        size={24}\r\n                        className=\"mx-auto mb-2 text-slate-400\"\r\n                      />\r\n                      <div className=\"text-sm font-medium text-slate-600 dark:text-slate-300\">\r\n                        Seleccionar imagen\r\n                      </div>\r\n                      <div className=\"text-xs text-slate-400 mt-1\">\r\n                        JPG, PNG, GIF hasta 5MB\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleImageFileChange}\r\n                    className=\"hidden\"\r\n                  />\r\n                </label>\r\n                <label className=\"cursor-pointer\">\r\n                  <div className=\"flex items-center justify-center p-4 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg hover:border-indigo-400 transition-colors bg-slate-50 dark:bg-slate-700/50 w-20\">\r\n                    <div className=\"text-center\">\r\n                      <Camera size={20} className=\"mx-auto text-slate-400\" />\r\n                      <div className=\"text-xs text-slate-600 dark:text-slate-300 mt-1\">\r\n                        Cámara\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    capture=\"environment\"\r\n                    onChange={handleImageFileChange}\r\n                    className=\"hidden\"\r\n                  />\r\n                </label>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Preview de la imagen */}\r\n          {(imagePreview || (imageSource === \"url\" && imageUrl)) && (\r\n            <div className=\"relative\">\r\n              <div className=\"w-full h-32 bg-slate-100 dark:bg-slate-700 rounded-lg overflow-hidden flex items-center justify-center\">\r\n                <img\r\n                  src={imagePreview || imageUrl}\r\n                  alt=\"Preview\"\r\n                  className=\"max-w-full max-h-full object-contain\"\r\n                  onError={e => {\r\n                    e.target.style.display = \"none\";\r\n                  }}\r\n                />\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleRemoveImage}\r\n                className=\"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors\"\r\n                title=\"Eliminar imagen\"\r\n              >\r\n                <X size={14} />\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {/* Botones de acción del formulario */}\r\n        <div className=\"flex flex-col sm:flex-row justify-end gap-3 pt-6 border-t border-slate-200 dark:border-slate-600\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onClose}\r\n            className=\"px-5 py-2.5 text-sm font-medium rounded-lg shadow-sm bg-slate-200 hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2\"\r\n          >\r\n            Cancelar\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"px-5 py-2.5 text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg shadow-md flex items-center justify-center transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2\"\r\n          >\r\n            <PlusCircle size={20} className=\"mr-2\" />\r\n            {submitButtonText}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\n// Memoización con comparación personalizada para optimizar renders\r\nexport default React.memo(RecipeForm, (prevProps, nextProps) => {\r\n  return (\r\n    prevProps.isOpen === nextProps.isOpen &&\r\n    prevProps.initialRecipe === nextProps.initialRecipe\r\n  );\r\n});\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Facebook\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggMmgtM2E1IDUgMCAwIDAtNSA1djNIN3Y0aDN2OGg0di04aDNsMS00aC00VjdhMSAxIDAgMCAxIDEtMWgzeiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/facebook\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n * @deprecated Brand icons have been deprecated and are due to be removed, please refer to https://github.com/lucide-icons/lucide/issues/670. We recommend using https://simpleicons.org/?q=facebook instead. This icon will be removed in v1.0\n */\nconst Facebook = createLucideIcon('Facebook', [\n  [\n    'path',\n    { d: 'M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z', key: '1jg4f8' },\n  ],\n]);\n\nexport default Facebook;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Hash\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iNCIgeDI9IjIwIiB5MT0iOSIgeTI9IjkiIC8+CiAgPGxpbmUgeDE9IjQiIHgyPSIyMCIgeTE9IjE1IiB5Mj0iMTUiIC8+CiAgPGxpbmUgeDE9IjEwIiB4Mj0iOCIgeTE9IjMiIHkyPSIyMSIgLz4KICA8bGluZSB4MT0iMTYiIHgyPSIxNCIgeTE9IjMiIHkyPSIyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/hash\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Hash = createLucideIcon('Hash', [\n  ['line', { x1: '4', x2: '20', y1: '9', y2: '9', key: '4lhtct' }],\n  ['line', { x1: '4', x2: '20', y1: '15', y2: '15', key: 'vyu0kd' }],\n  ['line', { x1: '10', x2: '8', y1: '3', y2: '21', key: '1ggp8o' }],\n  ['line', { x1: '16', x2: '14', y1: '3', y2: '21', key: 'weycgp' }],\n]);\n\nexport default Hash;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name MessageCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNy45IDIwQTkgOSAwIDEgMCA0IDE2LjFMMiAyMloiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/message-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MessageCircle = createLucideIcon('MessageCircle', [\n  ['path', { d: 'M7.9 20A9 9 0 1 0 4 16.1L2 22Z', key: 'vv11sd' }],\n]);\n\nexport default MessageCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Send\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjIgMi03IDIwLTQtOS05LTRaIiAvPgogIDxwYXRoIGQ9Ik0yMiAyIDExIDEzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/send\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Send = createLucideIcon('Send', [\n  ['path', { d: 'm22 2-7 20-4-9-9-4Z', key: '1q3vgg' }],\n  ['path', { d: 'M22 2 11 13', key: 'nzbqef' }],\n]);\n\nexport default Send;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ExternalLink\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g2djYiIC8+CiAgPHBhdGggZD0iTTEwIDE0IDIxIDMiIC8+CiAgPHBhdGggZD0iTTE4IDEzdjZhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWOGEyIDIgMCAwIDEgMi0yaDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/external-link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ExternalLink = createLucideIcon('ExternalLink', [\n  ['path', { d: 'M15 3h6v6', key: '1q9fwt' }],\n  ['path', { d: 'M10 14 21 3', key: 'gplh6r' }],\n  ['path', { d: 'M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6', key: 'a6xqqp' }],\n]);\n\nexport default ExternalLink;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('Check', [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]]);\n\nexport default Check;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Copy\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHg9IjgiIHk9IjgiIHJ4PSIyIiByeT0iMiIgLz4KICA8cGF0aCBkPSJNNCAxNmMtMS4xIDAtMi0uOS0yLTJWNGMwLTEuMS45LTIgMi0yaDEwYzEuMSAwIDIgLjkgMiAyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/copy\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Copy = createLucideIcon('Copy', [\n  ['rect', { width: '14', height: '14', x: '8', y: '8', rx: '2', ry: '2', key: '17jyea' }],\n  ['path', { d: 'M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2', key: 'zix9uf' }],\n]);\n\nexport default Copy;\n","import React, { useState, useCallback, useMemo, useRef } from \"react\";\r\nimport {\r\n  Copy,\r\n  Check,\r\n  Share2,\r\n  ExternalLink,\r\n  Facebook,\r\n  Hash,\r\n  MessageCircle,\r\n  Send,\r\n  Smartphone,\r\n} from \"lucide-react\";\r\nimport Modal from \"./layout/Modal\";\r\n\r\n/**\r\n * @fileoverview Componente SocialShareModal para compartir recetas en redes sociales\r\n * Modal optimizado con botones para compartir en múltiples plataformas\r\n * @author Sistema de gestión de recetas\r\n * @version 2.0.0\r\n */\r\n\r\n/**\r\n * SocialShareModal\r\n * Componente avanzado para compartir recetas en redes sociales y apps de mensajería.\r\n * Incluye botones específicos para cada plataforma con URLs optimizadas.\r\n *\r\n * Características:\r\n * - Compartir en Facebook, Twitter, WhatsApp, Telegram\r\n * - Copia optimizada al portapapeles\r\n * - Texto personalizado para cada plataforma\r\n * - Diseño responsive y accesible\r\n * - Feedback visual inmediato\r\n * - URLs con parámetros UTM para tracking\r\n *\r\n * @param {Object} props - Propiedades del componente\r\n * @param {boolean} props.isOpen - Si el modal está abierto\r\n * @param {Function} props.onClose - Función para cerrar el modal\r\n * @param {Object} props.recipe - Objeto de la receta a compartir\r\n * @param {string} props.shareUrl - URL base para compartir\r\n * @param {Function} [props.showToast] - Función para mostrar notificaciones\r\n * @returns {JSX.Element} Componente de modal para compartir en redes sociales\r\n */\r\nconst SocialShareModal = ({ isOpen, onClose, recipe, shareUrl, showToast }) => {\r\n  // Estado para feedback visual del botón de copia\r\n  const [isCopied, setIsCopied] = useState(false);\r\n  const timeoutRef = useRef(null);\r\n\r\n  // Función helper para fallback de copia\r\n  const copyTextFallback = useCallback(text => {\r\n    return new Promise((resolve, reject) => {\r\n      const textArea = document.createElement(\"textarea\");\r\n      textArea.value = text;\r\n      textArea.style.position = \"fixed\";\r\n      textArea.style.left = \"-999999px\";\r\n      textArea.style.top = \"-999999px\";\r\n      textArea.setAttribute(\"readonly\", \"\");\r\n\r\n      document.body.appendChild(textArea);\r\n\r\n      try {\r\n        textArea.select();\r\n        textArea.setSelectionRange(0, text.length);\r\n        const successful = document.execCommand(\"copy\");\r\n        if (!successful) throw new Error(\"execCommand falló\");\r\n        resolve();\r\n      } catch (error) {\r\n        reject(error);\r\n      } finally {\r\n        document.body.removeChild(textArea);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  // Función optimizada para copiar al portapapeles\r\n  const handleCopyToClipboard = useCallback(async () => {\r\n    if (!shareUrl?.trim()) {\r\n      showToast?.(\"No hay contenido para copiar\", \"warning\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (navigator.clipboard && window.isSecureContext) {\r\n        await navigator.clipboard.writeText(shareUrl);\r\n      } else {\r\n        await copyTextFallback(shareUrl);\r\n      }\r\n\r\n      setIsCopied(true);\r\n      showToast?.(\"¡Enlace copiado al portapapeles!\", \"success\");\r\n\r\n      if (timeoutRef.current) clearTimeout(timeoutRef.current);\r\n      timeoutRef.current = setTimeout(() => {\r\n        setIsCopied(false);\r\n        timeoutRef.current = null;\r\n      }, 2000);\r\n    } catch (error) {\r\n      // Error handling sin console\r\n      showToast?.(\"No se pudo copiar el enlace\", \"error\");\r\n    }\r\n  }, [shareUrl, showToast, copyTextFallback]);\r\n\r\n  // Generar URLs y textos optimizados para cada plataforma\r\n  const socialPlatforms = useMemo(() => {\r\n    if (!recipe || !shareUrl) return [];\r\n    const recipeTitle = recipe.name || \"Receta deliciosa\";\r\n    const recipeDescription = `${recipeTitle} - Preparación: ${recipe.prepTime || \"N/A\"} | Porciones: ${recipe.servings || \"N/A\"}`;\r\n    const encodedDescription = encodeURIComponent(recipeDescription);\r\n    const encodedUrl = encodeURIComponent(shareUrl);\r\n\r\n    return [\r\n      {\r\n        name: \"Facebook\",\r\n        icon: Facebook,\r\n        color: \"bg-blue-600 hover:bg-blue-700\",\r\n        url: `https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}&quote=${encodedDescription}`,\r\n        description: \"Compartir en Facebook\",\r\n      },\r\n      {\r\n        name: \"X (Twitter)\",\r\n        icon: Hash,\r\n        color: \"bg-black hover:bg-gray-800\",\r\n        url: `https://x.com/intent/tweet?text=${encodedDescription}&url=${encodedUrl}&hashtags=receta,cocina,RecetarioMagico`,\r\n        description: \"Compartir en X\",\r\n      },\r\n      {\r\n        name: \"WhatsApp\",\r\n        icon: MessageCircle,\r\n        color: \"bg-green-600 hover:bg-green-700\",\r\n        url: `https://wa.me/?text=${encodeURIComponent(`¡Mira esta receta de ${recipeTitle}! ${shareUrl} #receta #cocina #RecetarioMagico`)}`,\r\n        description: \"Compartir en WhatsApp\",\r\n      },\r\n      {\r\n        name: \"Telegram\",\r\n        icon: Send,\r\n        color: \"bg-blue-500 hover:bg-blue-600\",\r\n        url: `https://t.me/share/url?url=${encodedUrl}&text=${encodedDescription}`,\r\n        description: \"Compartir en Telegram\",\r\n      },\r\n    ];\r\n  }, [recipe, shareUrl]);\r\n\r\n  // Función para abrir plataforma social\r\n  const handleSocialShare = useCallback(\r\n    platform => {\r\n      if (platform.url) {\r\n        window.open(\r\n          platform.url,\r\n          \"_blank\",\r\n          \"noopener,noreferrer,width=600,height=400\"\r\n        );\r\n        showToast?.(`Compartiendo en ${platform.name}...`, \"info\");\r\n      }\r\n    },\r\n    [showToast]\r\n  );\r\n\r\n  // Función para compartir nativo (Web Share API)\r\n  const handleNativeShare = useCallback(async () => {\r\n    if (!navigator.share) {\r\n      showToast?.(\"Compartir nativo no disponible\", \"warning\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await navigator.share({\r\n        title: recipe?.name || \"Receta del Recetario Mágico\",\r\n        text: `¡Mira esta deliciosa receta de ${recipe?.name || \"cocina\"}! Preparación: ${recipe?.prepTime || \"N/A\"} | Porciones: ${recipe?.servings || \"N/A\"}`,\r\n        url: shareUrl,\r\n      });\r\n      showToast?.(\"¡Receta compartida exitosamente!\", \"success\");\r\n    } catch (error) {\r\n      if (error.name !== \"AbortError\") {\r\n        // Error handling sin console\r\n        showToast?.(\"Error al compartir\", \"error\");\r\n      }\r\n    }\r\n  }, [recipe, shareUrl, showToast]);\r\n\r\n  // Verificar si Web Share API está disponible\r\n  const hasNativeShare = useMemo(() => {\r\n    return (\r\n      navigator.share &&\r\n      /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n        navigator.userAgent\r\n      )\r\n    );\r\n  }, []);\r\n\r\n  // Limpiar timeout al desmontar\r\n  React.useEffect(() => {\r\n    return () => {\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  if (!recipe) return null;\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} title=\"Compartir Receta\">\r\n      <div className=\"space-y-6\">\r\n        {/* Header con información de la receta */}\r\n        <div className=\"text-center\">\r\n          <div className=\"flex items-center justify-center mb-3\">\r\n            <Share2 size={24} className=\"text-emerald-500 mr-2\" />\r\n            <h3 className=\"text-lg font-semibold text-slate-800 dark:text-slate-200\">\r\n              {recipe.name}\r\n            </h3>\r\n          </div>{\" \"}\r\n          <p className=\"text-sm text-slate-600 dark:text-slate-400\">\r\n            Comparte esta deliciosa receta - se abrirá en el Recetario Mágico\r\n          </p>\r\n        </div>\r\n        {/* Botones de redes sociales */}\r\n        <div className=\"space-y-4\">\r\n          <h4 className=\"text-sm font-medium text-slate-700 dark:text-slate-300 text-center\">\r\n            Compartir en redes sociales\r\n          </h4>\r\n\r\n          <div className=\"grid grid-cols-2 gap-3\">\r\n            {socialPlatforms.map(platform => (\r\n              <button\r\n                key={platform.name}\r\n                onClick={() => handleSocialShare(platform)}\r\n                className={`${platform.color} text-white p-3 rounded-lg font-medium text-sm transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-800 flex items-center justify-center gap-2 shadow-md`}\r\n                aria-label={platform.description}\r\n              >\r\n                <platform.icon size={18} />\r\n                <span>{platform.name}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Botón de compartir nativo para móviles */}\r\n          {hasNativeShare && (\r\n            <button\r\n              onClick={handleNativeShare}\r\n              className=\"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white p-3 rounded-lg font-medium text-sm transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 flex items-center justify-center gap-2 shadow-md\"\r\n            >\r\n              <Smartphone size={18} />\r\n              <span>Compartir (Nativo)</span>\r\n            </button>\r\n          )}\r\n        </div>\r\n        {/* Área de enlace directo */}\r\n        <div className=\"space-y-3\">\r\n          <h4 className=\"text-sm font-medium text-slate-700 dark:text-slate-300 text-center\">\r\n            O copia el enlace directo\r\n          </h4>\r\n\r\n          <div className=\"bg-gradient-to-br from-slate-50 to-emerald-50 dark:from-slate-800/60 dark:to-slate-700/40 border border-slate-200 dark:border-emerald-400/30 rounded-lg p-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"flex-1 min-w-0\">\r\n                <p className=\"font-mono text-xs text-slate-700 dark:text-slate-300 break-all leading-relaxed\">\r\n                  {shareUrl}\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2 flex-shrink-0\">\r\n                <button\r\n                  onClick={() => window.open(shareUrl, \"_blank\")}\r\n                  className=\"p-2 text-slate-600 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-slate-500\"\r\n                  title=\"Abrir enlace\"\r\n                >\r\n                  <ExternalLink size={16} />\r\n                </button>\r\n\r\n                <button\r\n                  onClick={handleCopyToClipboard}\r\n                  className={`flex items-center gap-2 px-3 py-2 rounded-md font-medium text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ${\r\n                    isCopied\r\n                      ? \"bg-green-100 text-green-700 hover:bg-green-200 focus:ring-green-500\"\r\n                      : \"bg-emerald-500 text-white hover:bg-emerald-600 focus:ring-emerald-500\"\r\n                  }`}\r\n                  disabled={isCopied}\r\n                >\r\n                  {isCopied ? (\r\n                    <Check size={16} className=\"text-green-600\" />\r\n                  ) : (\r\n                    <Copy size={16} />\r\n                  )}\r\n                  <span>{isCopied ? \"¡Copiado!\" : \"Copiar\"}</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* Información adicional */}{\" \"}\r\n        <div className=\"text-xs text-slate-500 dark:text-slate-400 text-center bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3\">\r\n          <p className=\"flex items-center justify-center\">\r\n            <span className=\"mr-2\">🔗</span>\r\n            El enlace abrirá el Recetario Mágico y mostrará automáticamente esta\r\n            receta\r\n          </p>\r\n        </div>\r\n        {/* Botones de acción */}\r\n        <div className=\"flex justify-end pt-4 border-t border-slate-200 dark:border-slate-600\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-5 py-2.5 text-sm font-medium rounded-lg shadow-sm bg-slate-200 hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2\"\r\n          >\r\n            Cerrar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default React.memo(SocialShareModal);\r\n","/**\r\n * @fileoverview Modal para mostrar lista simplificada de ingredientes\r\n * Diseño atractivo que combina estética con funcionalidad de copia fácil\r\n * @author Sistema de gestión de recetas\r\n * @version 2.0.0\r\n */\r\n\r\nimport React, { memo } from \"react\";\r\nimport { X, Copy, Check, ChefHat, ShoppingCart } from \"lucide-react\";\r\n\r\n/**\r\n * Modal que muestra una lista de ingredientes con diseño atractivo y funcional\r\n * @param {Object} props - Propiedades del componente\r\n * @param {boolean} props.isOpen - Si el modal está abierto\r\n * @param {Function} props.onClose - Función para cerrar el modal\r\n * @param {Object} props.recipe - Receta con los ingredientes\r\n */\r\nconst IngredientsListModal = memo(({ isOpen, onClose, recipe }) => {\r\n  const [copied, setCopied] = React.useState(false);\r\n\r\n  if (!isOpen || !recipe) return null;\r\n\r\n  // Crear texto simple de ingredientes para copiar\r\n  const ingredientsText =\r\n    recipe.ingredients && recipe.ingredients.length > 0\r\n      ? recipe.ingredients.join(\"\\n\")\r\n      : \"No hay ingredientes disponibles\";\r\n\r\n  const handleCopyIngredients = async () => {\r\n    try {\r\n      await navigator.clipboard.writeText(ingredientsText);\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 2000);\r\n    } catch (err) {\r\n      // Fallback para navegadores que no soportan clipboard API\r\n      const textArea = document.createElement(\"textarea\");\r\n      textArea.value = ingredientsText;\r\n      document.body.appendChild(textArea);\r\n      textArea.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(textArea);\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 2000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-sm\">\r\n      <div className=\"bg-white dark:bg-slate-800 rounded-2xl max-w-lg w-full max-h-[85vh] overflow-hidden shadow-2xl border dark:border-slate-600 transform transition-all\">\r\n        {/* Header con gradiente y diseño atractivo */}\r\n        <div className=\"bg-gradient-to-r from-emerald-500 to-green-600 dark:from-emerald-600 dark:to-green-700 p-6 relative overflow-hidden\">\r\n          {/* Decoración de fondo */}\r\n          <div className=\"absolute inset-0 bg-white/10 rounded-full -top-10 -right-10 w-32 h-32\"></div>\r\n          <div className=\"absolute inset-0 bg-white/5 rounded-full -bottom-8 -left-8 w-24 h-24\"></div>\r\n\r\n          <div className=\"flex items-center justify-between relative z-10\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-white/20 rounded-xl backdrop-blur-sm\">\r\n                <ShoppingCart className=\"h-6 w-6 text-white\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"text-xl font-bold text-white\">\r\n                  Lista de Ingredientes\r\n                </h3>\r\n                <p className=\"text-emerald-100 text-sm font-medium\">\r\n                  {recipe.name}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"p-2 hover:bg-white/20 rounded-xl transition-colors backdrop-blur-sm\"\r\n              aria-label=\"Cerrar modal\"\r\n            >\r\n              <X className=\"h-5 w-5 text-white\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Información de porciones */}\r\n        {recipe.servings && (\r\n          <div className=\"px-6 py-3 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-slate-700 dark:to-slate-600 border-b dark:border-slate-600\">\r\n            <div className=\"flex items-center justify-center gap-2\">\r\n              <ChefHat className=\"h-4 w-4 text-emerald-600 dark:text-emerald-400\" />\r\n              <span className=\"text-sm font-medium text-emerald-700 dark:text-emerald-300\">\r\n                Para {recipe.servings} porciones\r\n              </span>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Lista de ingredientes con diseño mejorado */}\r\n        <div className=\"p-6 overflow-y-auto max-h-96\">\r\n          {recipe.ingredients && recipe.ingredients.length > 0 ? (\r\n            <div className=\"space-y-4\">\r\n              {/* Vista visual de ingredientes */}\r\n              <div className=\"grid gap-2 mb-6\">\r\n                {recipe.ingredients.map((ingredient, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className=\"flex items-start gap-3 p-3 bg-gradient-to-r from-slate-50 to-emerald-50 dark:from-slate-700 dark:to-slate-600 rounded-lg border border-emerald-100 dark:border-slate-600 hover:shadow-md transition-all\"\r\n                  >\r\n                    <span className=\"flex-shrink-0 w-7 h-7 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center text-xs font-bold shadow-sm\">\r\n                      {index + 1}\r\n                    </span>\r\n                    <span className=\"text-slate-700 dark:text-slate-200 flex-1 font-medium leading-relaxed\">\r\n                      {ingredient}\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              {/* Área de texto para copiar */}\r\n              <div className=\"bg-gradient-to-br from-slate-50 to-emerald-50 dark:from-slate-800 dark:to-slate-700 rounded-xl p-4 border border-emerald-200 dark:border-slate-600\">\r\n                <div className=\"flex items-center gap-2 mb-3\">\r\n                  <Copy className=\"h-4 w-4 text-emerald-600 dark:text-emerald-400\" />\r\n                  <span className=\"text-sm font-semibold text-emerald-700 dark:text-emerald-300\">\r\n                    Texto para copiar:\r\n                  </span>\r\n                </div>\r\n                <div className=\"bg-white dark:bg-slate-800 rounded-lg p-3 border border-emerald-100 dark:border-slate-600 max-h-32 overflow-y-auto\">\r\n                  <pre className=\"whitespace-pre-wrap text-sm text-slate-700 dark:text-slate-200 select-all font-mono leading-relaxed\">\r\n                    {ingredientsText}\r\n                  </pre>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-12\">\r\n              <div className=\"p-4 bg-slate-100 dark:bg-slate-700 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center\">\r\n                <ChefHat className=\"h-10 w-10 text-slate-400 dark:text-slate-500\" />\r\n              </div>\r\n              <p className=\"text-slate-500 dark:text-slate-400 text-lg font-medium\">\r\n                No hay ingredientes disponibles\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer con botones mejorados */}\r\n        <div className=\"p-6 border-t border-slate-200 dark:border-slate-600 bg-gradient-to-r from-slate-50 to-emerald-50 dark:from-slate-800 dark:to-slate-700\">\r\n          <div className=\"flex gap-3\">\r\n            <button\r\n              onClick={handleCopyIngredients}\r\n              className=\"flex-1 flex items-center justify-center gap-2 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white font-semibold py-3 px-6 rounded-xl transition-all transform hover:scale-105 shadow-lg hover:shadow-xl\"\r\n            >\r\n              {copied ? (\r\n                <>\r\n                  <Check className=\"h-5 w-5\" />\r\n                  ¡Copiado!\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Copy className=\"h-5 w-5\" />\r\n                  Copiar Lista\r\n                </>\r\n              )}\r\n            </button>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-6 bg-slate-600 hover:bg-slate-700 dark:bg-slate-600 dark:hover:bg-slate-500 text-white font-semibold py-3 rounded-xl transition-all shadow-lg hover:shadow-xl\"\r\n            >\r\n              Cerrar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nIngredientsListModal.displayName = \"IngredientsListModal\";\r\n\r\nexport default IngredientsListModal;\r\n","import React, { useState, useEffect, useCallback, useMemo } from \"react\";\r\nimport RecipeCard from \"./recipes/RecipeCard\"; // Corregido: Se movió a la subcarpeta recipes\r\nimport RecipeForm from \"./recipes/RecipeForm\"; // Corregido: Se movió a la subcarpeta recipes\r\nimport Modal from \"./layout/Modal\"; // Corregido: Se movió a la subcarpeta layout\r\nimport CustomConfirmModal from \"./ui/CustomConfirmModal\"; // Corregido: Se movió a la subcarpeta ui\r\nimport SocialShareModal from \"./SocialShareModal\";\r\nimport IngredientsListModal from \"./ui/IngredientsListModal\"; // NUEVO: Modal para mostrar solo ingredientes\r\nimport { saveData, loadData } from \"../data/localStorageHelpers\";\r\nimport { DEFAULT_RECIPES } from \"../data/defaultRecipes\";\r\nimport { PlusCircle, ClockIcon, Users, ShoppingCart } from \"lucide-react\";\r\nimport { CATEGORIES } from \"../data/constants\";\r\nimport { trackRecipeEvent } from \"../utils/analytics\";\r\n\r\n/**\r\n * Constantes del componente\r\n * Definidas fuera del componente para evitar recreación\r\n */\r\nconst LOCAL_STORAGE_RECIPES_KEY = \"recipes\";\r\nconst PLACEHOLDER_IMAGE_BASE =\r\n  \"https://placehold.co/600x300/E2E8F0/A0AEC0?text=\";\r\nconst ALL_CATEGORIES = \"Todas las categorías\";\r\n\r\n/**\r\n * Helpers optimizados para localStorage\r\n * Memoizados para evitar recreación en cada render\r\n */\r\nconst recipesStorageHelpers = {\r\n  get: async () =>\r\n    await loadData(LOCAL_STORAGE_RECIPES_KEY, [...DEFAULT_RECIPES]),\r\n  set: async recipes => await saveData(LOCAL_STORAGE_RECIPES_KEY, recipes),\r\n};\r\n\r\n/**\r\n * RecipesView\r\n * Componente principal para gestionar y visualizar recetas.\r\n * Incluye funcionalidades de crear, editar, eliminar, filtrar y compartir recetas.\r\n *\r\n * Características:\r\n * - Gestión optimizada de estado con useCallback y useMemo\r\n * - Filtrado en tiempo real por nombre y categoría\r\n * - Modal de detalles de receta con información completa\r\n * - Sistema de compartir con enlace generado\r\n * - Responsive design con grid adaptativo\r\n * - Persistencia en localStorage\r\n *\r\n * @param {Object} props - Propiedades del componente\r\n * @param {Function} [props.showToast] - Función para mostrar notificaciones\r\n * @param {Function} [props.setUserRecipes] - Función para actualizar recetas globales\r\n * @returns {JSX.Element} Componente de vista de recetas\r\n */\r\nconst RecipesView = ({ showToast, setUserRecipes }) => {\r\n  // Estados principales del componente\r\n  const [recipes, setRecipes] = useState([]);\r\n  const [isFormOpen, setIsFormOpen] = useState(false);\r\n  const [editingRecipe, setEditingRecipe] = useState(null);\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [category, setCategory] = useState(ALL_CATEGORIES);\r\n  const [selectedRecipe, setSelectedRecipe] = useState(null);\r\n  const [isConfirmDeleteModalOpen, setIsConfirmDeleteModalOpen] =\r\n    useState(false);\r\n  const [recipeToDelete, setRecipeToDelete] = useState(null);\r\n  const [isShareModalOpen, setIsShareModalOpen] = useState(false);\r\n  const [recipeLinkToShare, setRecipeLinkToShare] = useState(\"\");\r\n  const [recipeToShare, setRecipeToShare] = useState(null);\r\n\r\n  // NUEVO: Estados para el modal de ingredientes\r\n  const [isIngredientsModalOpen, setIsIngredientsModalOpen] = useState(false);\r\n  const [recipeForIngredients, setRecipeForIngredients] = useState(null);\r\n  // Cargar recetas al montar el componente\r\n  useEffect(() => {\r\n    const loadRecipes = async () => {\r\n      try {\r\n        const loadedRecipes = await recipesStorageHelpers.get();\r\n        // Asegurar que loadedRecipes es un array\r\n        const recipesArray = Array.isArray(loadedRecipes)\r\n          ? loadedRecipes\r\n          : [...DEFAULT_RECIPES];\r\n        setRecipes(recipesArray);\r\n      } catch (error) {\r\n        console.error(\"Error cargando recetas:\", error); // eslint-disable-line no-console\r\n        setRecipes([...DEFAULT_RECIPES]);\r\n        showToast?.(\r\n          \"Error cargando recetas, usando valores por defecto\",\r\n          \"warning\"\r\n        );\r\n      }\r\n    };\r\n\r\n    loadRecipes();\r\n  }, [showToast]);\r\n  // Función optimizada para guardar recetas\r\n  const saveRecipes = useCallback(\r\n    async newRecipes => {\r\n      try {\r\n        // Asegurar que newRecipes es un array válido\r\n        const recipesArray = Array.isArray(newRecipes) ? newRecipes : [];\r\n        await recipesStorageHelpers.set(recipesArray);\r\n        setRecipes(recipesArray);\r\n        setUserRecipes?.(recipesArray);\r\n      } catch (error) {\r\n        console.error(\"Error guardando recetas:\", error); // eslint-disable-line no-console\r\n        showToast?.(\"Error guardando recetas\", \"error\");\r\n      }\r\n    },\r\n    [setUserRecipes, showToast]\r\n  );\r\n\r\n  // Generar ID único optimizado\r\n  const generateRecipeId = useCallback(() => {\r\n    return `receta-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n  }, []); // Manejador optimizado para guardar/editar receta\r\n  const handleSaveRecipe = useCallback(\r\n    async recipeData => {\r\n      let newRecipes;\r\n\r\n      if (editingRecipe) {\r\n        // Modo edición\r\n        newRecipes = recipes.map(recipe =>\r\n          recipe.id === editingRecipe.id\r\n            ? {\r\n                ...editingRecipe,\r\n                ...recipeData,\r\n                updatedAt: new Date().toISOString(),\r\n              }\r\n            : recipe\r\n        );\r\n\r\n        // Track recipe edit event\r\n        trackRecipeEvent.edit(editingRecipe.id, {\r\n          name: recipeData.name,\r\n          category: recipeData.category,\r\n          time: recipeData.time,\r\n          servings: recipeData.servings,\r\n        });\r\n\r\n        showToast?.(\"Receta actualizada exitosamente\", \"success\");\r\n      } else {\r\n        // Modo creación\r\n        const newRecipe = {\r\n          ...recipeData,\r\n          id: generateRecipeId(),\r\n          createdAt: new Date().toISOString(),\r\n        };\r\n\r\n        newRecipes = [...recipes, newRecipe];\r\n\r\n        // Track recipe creation event\r\n        trackRecipeEvent.create(newRecipe.id, {\r\n          name: recipeData.name,\r\n          category: recipeData.category,\r\n          time: recipeData.time,\r\n          servings: recipeData.servings,\r\n        });\r\n\r\n        showToast?.(\"Receta creada exitosamente\", \"success\");\r\n      }\r\n\r\n      await saveRecipes(newRecipes);\r\n      setIsFormOpen(false);\r\n      setEditingRecipe(null);\r\n    },\r\n    [editingRecipe, recipes, saveRecipes, showToast, generateRecipeId]\r\n  );\r\n\r\n  // Manejador para solicitud de eliminación (abre modal)\r\n  const handleDeleteRecipeRequest = useCallback(id => {\r\n    setRecipeToDelete(id);\r\n    setIsConfirmDeleteModalOpen(true);\r\n  }, []); // Manejador para confirmar eliminación\r\n  const handleDeleteRecipe = useCallback(async () => {\r\n    if (!recipeToDelete) return;\r\n\r\n    // Find recipe to track before deletion\r\n    const recipeToDeleteData = recipes.find(\r\n      recipe => recipe.id === recipeToDelete\r\n    );\r\n\r\n    const newRecipes = recipes.filter(recipe => recipe.id !== recipeToDelete);\r\n    await saveRecipes(newRecipes);\r\n\r\n    // Track recipe deletion event\r\n    if (recipeToDeleteData) {\r\n      trackRecipeEvent.delete(recipeToDelete, {\r\n        name: recipeToDeleteData.name,\r\n        category: recipeToDeleteData.category,\r\n      });\r\n    }\r\n\r\n    showToast?.(\"Receta eliminada exitosamente\", \"success\");\r\n\r\n    // Resetear estado del modal\r\n    setIsConfirmDeleteModalOpen(false);\r\n    setRecipeToDelete(null);\r\n  }, [recipeToDelete, recipes, saveRecipes, showToast]);\r\n\r\n  // Manejador para cancelar eliminación\r\n  const handleCancelDelete = useCallback(() => {\r\n    setIsConfirmDeleteModalOpen(false);\r\n    setRecipeToDelete(null);\r\n  }, []); // Manejador optimizado para compartir receta\r\n  const handleShareRecipe = useCallback(\r\n    recipe => {\r\n      // Crear una URL que apunte a la aplicación principal con información de la receta\r\n      const shareLink = `${window.location.origin}${window.location.pathname}?recipe=${encodeURIComponent(recipe.name)}&id=${recipe.id}`;\r\n      setRecipeLinkToShare(shareLink);\r\n      setRecipeToShare(recipe);\r\n      setIsShareModalOpen(true);\r\n\r\n      // Track recipe share event\r\n      trackRecipeEvent.share(recipe.id, {\r\n        name: recipe.name,\r\n        category: recipe.category,\r\n        shareMethod: \"modal\",\r\n      });\r\n\r\n      showToast?.(\"¡Comparte esta deliciosa receta!\", \"info\");\r\n    },\r\n    [showToast]\r\n  );\r\n  // Manejador para toggle del formulario de nueva receta\r\n  const handleToggleNewRecipe = useCallback(() => {\r\n    if (isFormOpen) {\r\n      // Si el formulario está abierto, cerrarlo\r\n      setIsFormOpen(false);\r\n      setEditingRecipe(null);\r\n    } else {\r\n      // Si el formulario está cerrado, abrirlo para nueva receta\r\n      setEditingRecipe(null);\r\n      setIsFormOpen(true);\r\n    }\r\n  }, [isFormOpen]);\r\n  // Manejador para editar receta\r\n  const handleEditRecipe = useCallback(recipe => {\r\n    setEditingRecipe(recipe);\r\n    setIsFormOpen(true);\r\n  }, []);\r\n\r\n  // Manejador para cerrar formulario\r\n  const handleCloseForm = useCallback(() => {\r\n    setIsFormOpen(false);\r\n    setEditingRecipe(null);\r\n  }, []);\r\n\r\n  // NUEVO: Manejadores para el modal de ingredientes\r\n  const handleShowIngredients = useCallback(\r\n    recipe => {\r\n      setRecipeForIngredients(recipe);\r\n      setIsIngredientsModalOpen(true);\r\n\r\n      // Track ingredients view event\r\n      trackRecipeEvent.viewIngredients?.(recipe.id, {\r\n        name: recipe.name,\r\n        category: recipe.category,\r\n        ingredientsCount: recipe.ingredients?.length || 0,\r\n      });\r\n\r\n      showToast?.(\"📝 Lista de ingredientes lista para usar\", \"info\");\r\n    },\r\n    [showToast]\r\n  );\r\n\r\n  const handleCloseIngredientsModal = useCallback(() => {\r\n    setIsIngredientsModalOpen(false);\r\n    setRecipeForIngredients(null);\r\n  }, []);\r\n\r\n  // Recetas filtradas memoizadas\r\n  const filteredRecipes = useMemo(() => {\r\n    return recipes.filter(recipe => {\r\n      const matchName = recipe.name\r\n        .toLowerCase()\r\n        .includes(filter.toLowerCase());\r\n      const matchCategory =\r\n        category === ALL_CATEGORIES || recipe.category === category;\r\n      return matchName && matchCategory;\r\n    });\r\n  }, [recipes, filter, category]);\r\n\r\n  // Componente memoizado para imagen placeholder\r\n  const getPlaceholderImage = useCallback(recipeName => {\r\n    return `${PLACEHOLDER_IMAGE_BASE}${encodeURIComponent(\r\n      recipeName || \"Receta\"\r\n    )}`;\r\n  }, []);\r\n  // Componente de detalles de receta memoizado\r\n  const RecipeDetailsModal = useMemo(\r\n    () =>\r\n      ({ recipe, onClose }) => {\r\n        if (!recipe) return null;\r\n\r\n        const placeholderImage = getPlaceholderImage(recipe.name);\r\n\r\n        return (\r\n          <Modal isOpen={!!recipe} onClose={onClose} title=\"\">\r\n            <div className=\"flex flex-col items-center\">\r\n              {/* Encabezado de la receta */}\r\n              <h2 className=\"text-2xl font-extrabold text-emerald-700 dark:text-emerald-300 tracking-tight mb-2 text-center\">\r\n                {recipe.name}\r\n              </h2>\r\n              {/* Categoría */}\r\n              {recipe.category && (\r\n                <span className=\"inline-block bg-amber-200 text-amber-800 text-xs font-bold px-3 py-1 rounded-full mb-3 tracking-wide\">\r\n                  {recipe.category}\r\n                </span>\r\n              )}{\" \"}\r\n              {/* Imagen de la receta */}\r\n              <div className=\"w-full h-48 bg-slate-100 dark:bg-slate-700 rounded-xl mb-4 flex items-center justify-center overflow-hidden\">\r\n                <img\r\n                  src={recipe.imageUrl || placeholderImage}\r\n                  alt={`Imagen de ${recipe.name}`}\r\n                  className=\"w-full h-48 object-contain\"\r\n                  style={{ objectPosition: \"center\" }}\r\n                  loading=\"lazy\"\r\n                  decoding=\"async\"\r\n                  onError={e => {\r\n                    e.target.onerror = null;\r\n                    e.target.src = placeholderImage;\r\n                  }}\r\n                />\r\n              </div>\r\n              {/* Información de tiempo y porciones */}{\" \"}\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full mb-4\">\r\n                {\" \"}\r\n                <div className=\"bg-gradient-to-br from-slate-50 to-emerald-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 flex items-center gap-2 border dark:border-emerald-400/20 backdrop-blur-sm\">\r\n                  <ClockIcon\r\n                    size={18}\r\n                    className=\"text-emerald-500 dark:text-slate-300 flex-shrink-0\"\r\n                    aria-hidden=\"true\"\r\n                  />\r\n                  <span className=\"font-semibold\">Tiempo:</span>\r\n                  <span className=\"truncate\">\r\n                    {recipe.prepTime || \"No especificado\"}\r\n                  </span>\r\n                </div>{\" \"}\r\n                <div className=\"bg-gradient-to-br from-slate-50 to-blue-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 flex items-center gap-2 border dark:border-blue-400/20 backdrop-blur-sm\">\r\n                  <Users\r\n                    size={18}\r\n                    className=\"text-emerald-500 dark:text-slate-300 flex-shrink-0\"\r\n                    aria-hidden=\"true\"\r\n                  />\r\n                  <span className=\"font-semibold\">Porciones:</span>\r\n                  <span className=\"truncate\">\r\n                    {recipe.servings\r\n                      ? `${recipe.servings} personas`\r\n                      : \"No especificado\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              {/* NUEVO: Botón para ver solo ingredientes */}\r\n              <div className=\"w-full mb-4\">\r\n                <button\r\n                  onClick={() => handleShowIngredients(recipe)}\r\n                  className=\"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105\"\r\n                >\r\n                  <ShoppingCart size={20} />\r\n                  Ver Solo Lista de Ingredientes\r\n                </button>\r\n              </div>\r\n              {/* Ingredientes */}\r\n              <div className=\"w-full mb-4\">\r\n                <h3 className=\"text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-2 flex items-center\">\r\n                  <span className=\"mr-2\" aria-hidden=\"true\">\r\n                    📝\r\n                  </span>\r\n                  Ingredientes\r\n                </h3>\r\n                <ul className=\"list-disc list-inside text-left space-y-1 bg-gradient-to-br from-emerald-50 to-slate-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 border dark:border-emerald-400/20 backdrop-blur-sm\">\r\n                  {\" \"}\r\n                  {recipe.ingredients?.length > 0 ? (\r\n                    recipe.ingredients.map((ingredient, idx) => (\r\n                      <li\r\n                        key={`${recipe.id}-ingredient-${idx}-${ingredient.slice(0, 10)}`}\r\n                        className=\"text-slate-700 dark:text-slate-200\"\r\n                      >\r\n                        {ingredient}\r\n                      </li>\r\n                    ))\r\n                  ) : (\r\n                    <li className=\"text-slate-400 italic\">\r\n                      Sin ingredientes especificados\r\n                    </li>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n              {/* Instrucciones */}\r\n              <div className=\"w-full mb-2\">\r\n                <h3 className=\"text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-2 flex items-center\">\r\n                  <span className=\"mr-2\" aria-hidden=\"true\">\r\n                    👨‍🍳\r\n                  </span>\r\n                  Instrucciones\r\n                </h3>\r\n                <ol className=\"list-decimal list-inside text-left space-y-2 bg-gradient-to-br from-blue-50 to-slate-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 border dark:border-blue-400/20 backdrop-blur-sm\">\r\n                  {\" \"}\r\n                  {recipe.instructions?.length > 0 ? (\r\n                    recipe.instructions.map((step, idx) => (\r\n                      <li\r\n                        key={`${recipe.id}-instruction-${idx}-${step.slice(0, 10)}`}\r\n                        className=\"text-slate-700 dark:text-slate-200\"\r\n                      >\r\n                        {step}\r\n                      </li>\r\n                    ))\r\n                  ) : (\r\n                    <li className=\"text-slate-400 italic\">\r\n                      Sin instrucciones especificadas\r\n                    </li>\r\n                  )}\r\n                </ol>\r\n              </div>\r\n            </div>\r\n          </Modal>\r\n        );\r\n      },\r\n    [getPlaceholderImage, handleShowIngredients]\r\n  );\r\n  // Mensaje de recetas vacías memoizado\r\n  const EmptyState = useMemo(\r\n    () => (\r\n      <div className=\"col-span-full text-center text-slate-500 py-8 sm:py-10\">\r\n        <div className=\"text-base sm:text-lg mb-4\">\r\n          {filter || category !== ALL_CATEGORIES\r\n            ? \"No hay recetas que coincidan con tu búsqueda.\"\r\n            : \"No tienes recetas guardadas aún.\"}\r\n        </div>{\" \"}\r\n        {!filter && category === ALL_CATEGORIES && (\r\n          <button\r\n            onClick={handleToggleNewRecipe}\r\n            className=\"inline-flex items-center px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-medium transition-colors recipe-action-button\"\r\n          >\r\n            <PlusCircle size={18} className=\"mr-2\" />\r\n            Crear tu primera receta\r\n          </button>\r\n        )}\r\n      </div>\r\n    ),\r\n    [filter, category, handleToggleNewRecipe]\r\n  );\r\n\r\n  // Detectar y manejar parámetros de URL para recetas compartidas\r\n  useEffect(() => {\r\n    const checkSharedRecipe = () => {\r\n      const urlParams = new URLSearchParams(window.location.search);\r\n      const sharedRecipeId = urlParams.get(\"id\");\r\n      const sharedRecipeName = urlParams.get(\"recipe\");\r\n\r\n      if (sharedRecipeId && recipes.length > 0) {\r\n        // Buscar la receta por ID\r\n        const sharedRecipe = recipes.find(\r\n          recipe => recipe.id === sharedRecipeId\r\n        );\r\n\r\n        if (sharedRecipe) {\r\n          // Mostrar la receta automáticamente\r\n          setSelectedRecipe(sharedRecipe);\r\n          showToast?.(`¡Receta \"${sharedRecipe.name}\" encontrada!`, \"success\");\r\n\r\n          // Limpiar la URL sin recargar la página\r\n          const url = new URL(window.location);\r\n          url.searchParams.delete(\"id\");\r\n          url.searchParams.delete(\"recipe\");\r\n          window.history.replaceState({}, \"\", url);\r\n        } else if (sharedRecipeName) {\r\n          // Si no se encuentra por ID, buscar por nombre\r\n          const recipeByName = recipes.find(recipe =>\r\n            recipe.name\r\n              .toLowerCase()\r\n              .includes(decodeURIComponent(sharedRecipeName).toLowerCase())\r\n          );\r\n\r\n          if (recipeByName) {\r\n            setSelectedRecipe(recipeByName);\r\n            showToast?.(\r\n              `¡Receta \"${recipeByName.name}\" encontrada!`,\r\n              \"success\"\r\n            );\r\n          } else {\r\n            showToast?.(\r\n              `No se encontró la receta \"${decodeURIComponent(sharedRecipeName)}\"`,\r\n              \"warning\"\r\n            );\r\n          }\r\n\r\n          // Limpiar la URL\r\n          const url = new URL(window.location);\r\n          url.searchParams.delete(\"id\");\r\n          url.searchParams.delete(\"recipe\");\r\n          window.history.replaceState({}, \"\", url);\r\n        }\r\n      }\r\n    };\r\n\r\n    // Verificar después de que las recetas se hayan cargado\r\n    if (recipes.length > 0) {\r\n      checkSharedRecipe();\r\n    }\r\n  }, [recipes, showToast]);\r\n  return (\r\n    <div className=\"w-full px-1 sm:px-2 md:px-4 pb-2\">\r\n      {/* Sección de búsqueda y filtros */}\r\n      <div className=\"px-1 sm:px-0\">\r\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2\">\r\n          <div className=\"w-full flex flex-col sm:flex-row gap-2 sm:gap-3 justify-center\">\r\n            {/* Campo de búsqueda */}\r\n            <div className=\"flex-1 min-w-0\">\r\n              {\" \"}\r\n              <div className=\"bg-white dark:bg-slate-800 rounded-xl shadow p-1.5 flex items-center\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Buscar recetas por nombre...\"\r\n                  value={filter}\r\n                  onChange={e => setFilter(e.target.value)}\r\n                  className=\"w-full p-1.5 rounded-md border border-emerald-200 dark:border-emerald-400/30 focus:border-emerald-700 dark:focus:border-emerald-400 focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400/50 focus:ring-offset-2 text-sm bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 transition-all duration-200 outline-none backdrop-blur-sm\"\r\n                  aria-label=\"Buscar recetas por nombre\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Selector de categoría */}\r\n            <div className=\"flex-shrink-0 min-w-[160px]\">\r\n              <div className=\"bg-white dark:bg-slate-800 rounded-xl shadow p-1.5 flex items-center\">\r\n                <select\r\n                  value={category}\r\n                  onChange={e => setCategory(e.target.value)}\r\n                  className=\"w-full p-1.5 rounded-md border border-emerald-200 dark:border-emerald-400/30 focus:border-emerald-700 dark:focus:border-emerald-400 focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400/50 focus:ring-offset-2 text-sm bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 transition-all duration-200 outline-none backdrop-blur-sm\"\r\n                  aria-label=\"Filtrar por categoría\"\r\n                >\r\n                  <option value={ALL_CATEGORIES}>{ALL_CATEGORIES}</option>\r\n                  {CATEGORIES.map(cat => (\r\n                    <option key={cat} value={cat}>\r\n                      {cat}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>{\" \"}\r\n      {/* Grid de recetas */}\r\n      <div className=\"mt-3 sm:mt-4\">\r\n        <div className=\"w-full px-1 sm:px-3\">\r\n          <div className=\"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-x-2 gap-y-3 sm:gap-x-3 sm:gap-y-4\">\r\n            {filteredRecipes.length > 0\r\n              ? filteredRecipes.map(recipe => (\r\n                  <RecipeCard\r\n                    key={recipe.id}\r\n                    recipe={recipe}\r\n                    onEdit={() => handleEditRecipe(recipe)}\r\n                    onDelete={handleDeleteRecipeRequest}\r\n                    onShowDetails={() => setSelectedRecipe(recipe)}\r\n                    onShare={() => handleShareRecipe(recipe)}\r\n                  />\r\n                ))\r\n              : EmptyState}{\" \"}\r\n            {/* Botón de nueva receta integrado en el grid */}\r\n            {filteredRecipes.length > 0 && (\r\n              <button\r\n                onClick={handleToggleNewRecipe}\r\n                className=\"flex items-center justify-center px-4 py-8 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl text-base font-semibold shadow-lg transition-all hover:shadow-xl hover:-translate-y-1 border-2 border-dashed border-emerald-400 hover:border-emerald-300 recipe-action-button\"\r\n                aria-label=\"Crear nueva receta\"\r\n              >\r\n                <div className=\"text-center\">\r\n                  <PlusCircle size={24} className=\"mx-auto mb-2\" />\r\n                  <span>Nueva Receta</span>\r\n                </div>\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Modales del componente */}\r\n      {/* Modal para crear/editar receta */}\r\n      <RecipeForm\r\n        isOpen={isFormOpen}\r\n        onClose={handleCloseForm}\r\n        onSave={handleSaveRecipe}\r\n        initialRecipe={editingRecipe}\r\n      />\r\n      {/* Modal de detalles de receta */}\r\n      <RecipeDetailsModal\r\n        recipe={selectedRecipe}\r\n        onClose={() => setSelectedRecipe(null)}\r\n      />\r\n      {/* Modal de confirmación para eliminar receta */}\r\n      <CustomConfirmModal\r\n        isOpen={isConfirmDeleteModalOpen}\r\n        onClose={handleCancelDelete}\r\n        onConfirm={handleDeleteRecipe}\r\n        title=\"🗑️ Confirmar Eliminación\"\r\n        message=\"¿Estás seguro de que quieres eliminar esta receta? También se quitará del planificador y esta acción no se puede deshacer.\"\r\n        confirmButtonText=\"Eliminar\"\r\n        cancelButtonText=\"Cancelar\"\r\n        variant=\"danger\"\r\n      />{\" \"}\r\n      {/* Modal para compartir receta */}\r\n      <SocialShareModal\r\n        isOpen={isShareModalOpen}\r\n        onClose={() => {\r\n          setIsShareModalOpen(false);\r\n          setRecipeToShare(null);\r\n          setRecipeLinkToShare(\"\");\r\n        }}\r\n        recipe={recipeToShare}\r\n        shareUrl={recipeLinkToShare}\r\n        showToast={showToast}\r\n      />{\" \"}\r\n      {/* NUEVO: Modal para mostrar solo ingredientes */}\r\n      <IngredientsListModal\r\n        isOpen={isIngredientsModalOpen}\r\n        onClose={handleCloseIngredientsModal}\r\n        recipe={recipeForIngredients}\r\n        showToast={showToast}\r\n      />{\" \"}\r\n      {/* Botón flotante para crear receta */}\r\n      <div className=\"fixed bottom-16 sm:bottom-20 right-4 sm:right-8 z-50\">\r\n        {/* Efecto de resplandor exterior para estado cerrado */}\r\n        {!isFormOpen && (\r\n          <div className=\"absolute inset-0 -m-2 rounded-full bg-gradient-to-r from-emerald-400/30 via-green-400/30 to-teal-400/30 blur-lg animate-pulse\"></div>\r\n        )}\r\n\r\n        <button\r\n          onClick={handleToggleNewRecipe}\r\n          className={`group relative text-white rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center transition-all duration-500 focus:outline-none focus:ring-4 focus:ring-offset-2 recipe-action-button ${\r\n            isFormOpen\r\n              ? \"bg-gradient-to-br from-red-500 via-red-600 to-red-700 hover:from-red-600 hover:via-red-700 hover:to-red-800 focus:ring-red-500/50 animate-none shadow-xl hover:shadow-2xl hover:scale-110\"\r\n              : \"bg-gradient-to-br from-emerald-400 via-emerald-500 to-emerald-600 hover:from-emerald-500 hover:via-emerald-600 hover:to-emerald-700 focus:ring-emerald-400/60 shadow-lg shadow-emerald-500/50 hover:shadow-xl hover:shadow-emerald-400/60 hover:scale-125 transform hover:-translate-y-1\"\r\n          }`}\r\n          title={isFormOpen ? \"Cerrar formulario\" : \"Crear nueva receta\"}\r\n          aria-label={isFormOpen ? \"Cerrar formulario\" : \"Crear nueva receta\"}\r\n        >\r\n          {/* Efecto de brillo interno mejorado para estado cerrado */}\r\n          <div\r\n            className={`absolute inset-0 rounded-full transition-all duration-500 ${\r\n              isFormOpen\r\n                ? \"bg-gradient-to-t from-transparent via-white/20 to-white/30 opacity-0 group-hover:opacity-100\"\r\n                : \"bg-gradient-to-tr from-transparent via-white/30 to-white/40 opacity-50 group-hover:opacity-80\"\r\n            }`}\r\n          ></div>\r\n          {/* Anillo brillante para estado cerrado */}\r\n          {!isFormOpen && (\r\n            <div className=\"absolute inset-0 rounded-full border-2 border-white/20 group-hover:border-white/40 transition-all duration-300\"></div>\r\n          )}{\" \"}\r\n          {/* Ícono principal - cambia según el estado */}\r\n          {isFormOpen ? (\r\n            /* Ícono X para cerrar */\r\n            <>\r\n              <div className=\"sm:hidden relative z-10 drop-shadow-sm w-6 h-6 flex items-center justify-center\">\r\n                <div className=\"absolute w-4 h-0.5 bg-white rounded-full rotate-45\"></div>\r\n                <div className=\"absolute w-4 h-0.5 bg-white rounded-full -rotate-45\"></div>\r\n              </div>\r\n              <div className=\"hidden sm:flex relative z-10 drop-shadow-sm w-7 h-7 items-center justify-center\">\r\n                <div className=\"absolute w-5 h-0.5 bg-white rounded-full rotate-45\"></div>\r\n                <div className=\"absolute w-5 h-0.5 bg-white rounded-full -rotate-45\"></div>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            /* Ícono + mejorado para crear */\r\n            <>\r\n              {/* Versión móvil */}\r\n              <div className=\"sm:hidden relative z-10 w-7 h-7 flex items-center justify-center group-hover:scale-110 transition-transform duration-300\">\r\n                <div className=\"absolute w-5 h-0.5 bg-white rounded-full drop-shadow-lg group-hover:w-6 transition-all duration-300\"></div>\r\n                <div className=\"absolute w-0.5 h-5 bg-white rounded-full drop-shadow-lg group-hover:h-6 transition-all duration-300\"></div>\r\n                {/* Resplandor del ícono */}\r\n                <div className=\"absolute w-5 h-0.5 bg-white/60 rounded-full blur-sm\"></div>\r\n                <div className=\"absolute w-0.5 h-5 bg-white/60 rounded-full blur-sm\"></div>\r\n              </div>\r\n\r\n              {/* Versión desktop */}\r\n              <div className=\"hidden sm:flex relative z-10 w-8 h-8 items-center justify-center group-hover:scale-110 transition-transform duration-300\">\r\n                <div className=\"absolute w-6 h-0.5 bg-white rounded-full drop-shadow-lg group-hover:w-7 transition-all duration-300\"></div>\r\n                <div className=\"absolute w-0.5 h-6 bg-white rounded-full drop-shadow-lg group-hover:h-7 transition-all duration-300\"></div>\r\n                {/* Resplandor del ícono */}\r\n                <div className=\"absolute w-6 h-0.5 bg-white/60 rounded-full blur-sm\"></div>\r\n                <div className=\"absolute w-0.5 h-6 bg-white/60 rounded-full blur-sm\"></div>\r\n              </div>\r\n            </>\r\n          )}\r\n          {/* Círculo de pulso animado mejorado - solo cuando está cerrado */}\r\n          {!isFormOpen && (\r\n            <>\r\n              <div className=\"absolute inset-0 rounded-full bg-emerald-300/40 animate-ping\"></div>\r\n              <div className=\"absolute inset-0 rounded-full bg-gradient-to-r from-emerald-300/20 via-green-300/30 to-teal-300/20 animate-pulse\"></div>\r\n            </>\r\n          )}{\" \"}\r\n          {/* Borde brillante mejorado */}\r\n          <div\r\n            className={`absolute inset-0 rounded-full border transition-all duration-500 ${\r\n              isFormOpen\r\n                ? \"border-red-300/50 group-hover:border-red-200/70\"\r\n                : \"border-emerald-200/60 group-hover:border-white/80 group-hover:shadow-[0_0_20px_rgba(16,185,129,0.5)]\"\r\n            }`}\r\n          ></div>\r\n          {/* Efecto de partículas flotantes para estado cerrado */}\r\n          {!isFormOpen && (\r\n            <>\r\n              <div className=\"absolute -top-1 -right-1 w-1 h-1 bg-white/80 rounded-full animate-bounce delay-100\"></div>\r\n              <div className=\"absolute -top-2 right-2 w-0.5 h-0.5 bg-emerald-200/90 rounded-full animate-pulse delay-300\"></div>\r\n              <div className=\"absolute top-1 -right-2 w-0.5 h-0.5 bg-white/70 rounded-full animate-bounce delay-500\"></div>\r\n            </>\r\n          )}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Memoización con comparación personalizada para optimizar renders\r\nexport default React.memo(RecipesView, (prevProps, nextProps) => {\r\n  return (\r\n    prevProps.showToast === nextProps.showToast &&\r\n    prevProps.setUserRecipes === nextProps.setUserRecipes\r\n  );\r\n});\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Users\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8cGF0aCBkPSJNMjIgMjF2LTJhNCA0IDAgMCAwLTMtMy44NyIgLz4KICA8cGF0aCBkPSJNMTYgMy4xM2E0IDQgMCAwIDEgMCA3Ljc1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/users\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Users = createLucideIcon('Users', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['path', { d: 'M22 21v-2a4 4 0 0 0-3-3.87', key: 'kshegd' }],\n  ['path', { d: 'M16 3.13a4 4 0 0 1 0 7.75', key: '1da9ce' }],\n]);\n\nexport default Users;\n","/**\r\n * @fileoverview Constantes centralizadas para la aplicación Recetario Mágico\r\n * Define categorías, traducciones, configuraciones y datos por defecto\r\n * Optimizado para rendimiento y mantenibilidad\r\n * @author Sistema de gestión de recetas\r\n * @version 2.0.0\r\n */\r\n\r\n/**\r\n * Categorías de recetas disponibles en la aplicación\r\n * Incluyen emojis para mejor representación visual y UX\r\n * Frozen para prevenir mutaciones accidentales y mejorar rendimiento\r\n */\r\nexport const RECIPE_CATEGORIES = Object.freeze([\r\n  \"Desayuno 🥐\",\r\n  \"Almuerzo 🥗\",\r\n  \"Cena 🍝\",\r\n  \"Postre 🍰\",\r\n  \"Snack 🍿\",\r\n  \"Bebida 🍹\",\r\n  \"Otro ✨\",\r\n]);\r\n\r\n/**\r\n * Configuración de días de la semana\r\n * Utilizados para el planificador semanal\r\n * Frozen para prevenir mutaciones y mejorar rendimiento\r\n */\r\nexport const DAYS_OF_WEEK = Object.freeze([\r\n  \"lunes\",\r\n  \"martes\",\r\n  \"miercoles\",\r\n  \"jueves\",\r\n  \"viernes\",\r\n  \"sabado\",\r\n  \"domingo\",\r\n]);\r\n\r\n/**\r\n * Traducciones de días de la semana con acentuación correcta\r\n * Mapea claves internas a nombres mostrados al usuario\r\n * Frozen para prevenir mutaciones y optimizar acceso\r\n */\r\nexport const DAY_TRANSLATIONS = Object.freeze({\r\n  lunes: \"Lunes\",\r\n  martes: \"Martes\",\r\n  miercoles: \"Miércoles\",\r\n  jueves: \"Jueves\",\r\n  viernes: \"Viernes\",\r\n  sabado: \"Sábado\",\r\n  domingo: \"Domingo\",\r\n});\r\n\r\n/**\r\n * Categorías por defecto para la lista de compras\r\n * Organizadas por tipo de producto/sección del supermercado\r\n * Frozen para prevenir mutaciones accidentales\r\n */\r\nexport const DEFAULT_SHOPPING_CATEGORIES = Object.freeze([\r\n  \"Supermercado\",\r\n  \"Lácteos\",\r\n  \"Carnes\",\r\n  \"Verduras y Frutas\",\r\n  \"Aseo\",\r\n  \"Otros\",\r\n]);\r\n\r\n/**\r\n * Enlaces optimizados a sitios web de recetas online\r\n * Incluye sitios populares en español con iconos representativos\r\n * Frozen para prevenir mutaciones y mejorar rendimiento de rendering\r\n */\r\nexport const ONLINE_RECIPE_LINKS = Object.freeze([\r\n  Object.freeze({\r\n    id: \"directo-paladar\",\r\n    name: \"Directo al Paladar\",\r\n    url: \"https://www.directoalpaladar.com/recetas\",\r\n    icon: \"🍲\",\r\n    description: \"Blog gastronómico con recetas tradicionales y modernas\",\r\n  }),\r\n  Object.freeze({\r\n    id: \"elpais-recetas\",\r\n    name: \"Recetas de Cocina (El País)\",\r\n    url: \"https://elpais.com/elpais/recetas/\",\r\n    icon: \"📰\",\r\n    description: \"Sección de recetas del diario El País\",\r\n  }),\r\n  Object.freeze({\r\n    id: \"gastronomia-cia\",\r\n    name: \"Gastronomía & Cía\",\r\n    url: \"https://www.gastronomiaycia.com/recetas/\",\r\n    icon: \"🧑‍🍳\",\r\n    description: \"Portal especializado en gastronomía y técnicas culinarias\",\r\n  }),\r\n  Object.freeze({\r\n    id: \"bon-viveur\",\r\n    name: \"Bon Viveur\",\r\n    url: \"https://www.bonviveur.es/recetas\",\r\n    icon: \"🍷\",\r\n    description: \"Recetas gourmet y maridajes\",\r\n  }),\r\n  Object.freeze({\r\n    id: \"divina-cocina\",\r\n    name: \"Divina Cocina\",\r\n    url: \"https://www.divinacocina.es/recetas/\",\r\n    icon: \"🌟\",\r\n    description: \"Recetas caseras y tradicionales\",\r\n  }),\r\n  Object.freeze({\r\n    id: \"recetas-gratis\",\r\n    name: \"Recetas Gratis\",\r\n    url: \"https://www.recetasgratis.net/\",\r\n    icon: \"🆓\",\r\n    description: \"Amplio catálogo de recetas gratuitas\",\r\n  }),\r\n]);\r\n\r\n/**\r\n * Configuración centralizada de la aplicación\r\n * Valores por defecto y configuraciones globales optimizadas\r\n * Frozen para prevenir mutaciones accidentales\r\n */\r\nexport const APP_CONFIG = Object.freeze({\r\n  // Configuración de notificaciones\r\n  TOAST: Object.freeze({\r\n    DURATION: 2500,\r\n    POSITION: \"top-right\",\r\n    MAX_VISIBLE: 3,\r\n  }),\r\n\r\n  // Configuración de localStorage optimizada\r\n  STORAGE: Object.freeze({\r\n    PREFIX: \"recetario_\",\r\n    VERSION: \"v2.0\",\r\n    KEYS: Object.freeze({\r\n      RECIPES: \"recipes\",\r\n      SHOPPING_LIST: \"shoppingList\",\r\n      WEEKLY_PLAN: \"weeklyPlan\",\r\n      THEME: \"theme\",\r\n      USER_CATEGORIES: \"userCategories\",\r\n      SHOPPING_CATEGORIES: \"shoppingCategories\",\r\n    }),\r\n  }),\r\n\r\n  // Configuración de rendimiento\r\n  PERFORMANCE: Object.freeze({\r\n    AUTO_SAVE_DELAY: 500,\r\n    DEBOUNCE_DELAY: 300,\r\n    SEARCH_DELAY: 200,\r\n    IMAGE_LAZY_THRESHOLD: \"200px\",\r\n  }),\r\n\r\n  // Límites de la aplicación para prevenir problemas de memoria\r\n  LIMITS: Object.freeze({\r\n    MAX_RECIPES: 1000,\r\n    MAX_SHOPPING_ITEMS: 500,\r\n    MAX_CUSTOM_CATEGORIES: 20,\r\n    MAX_RECIPE_NAME_LENGTH: 100,\r\n    MAX_INGREDIENT_LENGTH: 200,\r\n    MAX_INSTRUCTION_LENGTH: 500,\r\n  }),\r\n\r\n  // Configuración de formato de fecha y tiempo optimizada\r\n  LOCALE: Object.freeze({\r\n    DATE_FORMAT: \"es-ES\",\r\n    DATE_OPTIONS: Object.freeze({\r\n      weekday: \"long\",\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n    }),\r\n    TIME_FORMAT: \"es-ES\",\r\n    TIME_OPTIONS: Object.freeze({\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n      hour12: false,\r\n    }),\r\n    CURRENCY_FORMAT: \"es-ES\",\r\n    CURRENCY_OPTIONS: Object.freeze({\r\n      style: \"currency\",\r\n      currency: \"COP\",\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0,\r\n    }),\r\n  }),\r\n});\r\n\r\n/**\r\n * Tipos de notificaciones disponibles\r\n * Enum-like object para type safety y autocompletado\r\n */\r\nexport const TOAST_TYPES = Object.freeze({\r\n  SUCCESS: \"success\",\r\n  ERROR: \"error\",\r\n  WARNING: \"warning\",\r\n  INFO: \"info\",\r\n});\r\n\r\n/**\r\n * Estados de carga de la aplicación\r\n * Enum-like object para consistencia en manejo de estados\r\n */\r\nexport const LOADING_STATES = Object.freeze({\r\n  IDLE: \"idle\",\r\n  LOADING: \"loading\",\r\n  SUCCESS: \"success\",\r\n  ERROR: \"error\",\r\n});\r\n\r\n/**\r\n * Temas disponibles para la aplicación\r\n * Enum-like object para consistencia en manejo de temas\r\n */\r\nexport const THEMES = Object.freeze({\r\n  LIGHT: \"light\",\r\n  DARK: \"dark\",\r\n  SYSTEM: \"system\",\r\n});\r\n\r\n/**\r\n * Configuración de validaciones para formularios\r\n * Reglas centralizadas para validación de datos\r\n */\r\nexport const VALIDATION_RULES = Object.freeze({\r\n  RECIPE: Object.freeze({\r\n    NAME: Object.freeze({\r\n      MIN_LENGTH: 2,\r\n      MAX_LENGTH: 100,\r\n      REQUIRED: true,\r\n    }),\r\n    PREP_TIME: Object.freeze({\r\n      MIN: 1,\r\n      MAX: 1440, // 24 horas en minutos\r\n      PATTERN: /^\\d+\\s?(min|mins|minutos?|h|hr|hrs|horas?)?$/i,\r\n    }),\r\n    SERVINGS: Object.freeze({\r\n      MIN: 1,\r\n      MAX: 50,\r\n    }),\r\n  }),\r\n  SHOPPING_ITEM: Object.freeze({\r\n    NAME: Object.freeze({\r\n      MIN_LENGTH: 1,\r\n      MAX_LENGTH: 100,\r\n      REQUIRED: true,\r\n    }),\r\n    QUANTITY: Object.freeze({\r\n      MIN: 1,\r\n      MAX: 999,\r\n    }),\r\n    PRICE: Object.freeze({\r\n      MIN: 0,\r\n      MAX: 999999999,\r\n    }),\r\n  }),\r\n});\r\n\r\n/**\r\n * Configuración de URLs y endpoints\r\n * Centralizadas para fácil mantenimiento\r\n */\r\nexport const URLS = Object.freeze({\r\n  PLACEHOLDER_IMAGE: \"https://placehold.co/600x300/E2E8F0/A0AEC0\",\r\n  GITHUB_REPO: \"https://github.com/tu-usuario/recetario-app\",\r\n  DOCUMENTATION: \"https://docs.recetario-app.com\",\r\n});\r\n\r\n/**\r\n * Configuración de animaciones CSS\r\n * Duraciones estándar para consistencia visual\r\n */\r\nexport const ANIMATIONS = Object.freeze({\r\n  FAST: \"150ms\",\r\n  NORMAL: \"200ms\",\r\n  SLOW: \"300ms\",\r\n  EASING: Object.freeze({\r\n    EASE_IN_OUT: \"cubic-bezier(0.4, 0, 0.2, 1)\",\r\n    EASE_OUT: \"cubic-bezier(0, 0, 0.2, 1)\",\r\n    EASE_IN: \"cubic-bezier(0.4, 0, 1, 1)\",\r\n  }),\r\n});\r\n\r\n// =============================================================================\r\n// COMPUTED CONSTANTS - Valores derivados para optimización\r\n// =============================================================================\r\n\r\n/**\r\n * Map optimizado de traducciones de días para acceso O(1)\r\n * Utiliza Map para mejor rendimiento en búsquedas frecuentes\r\n */\r\nexport const DAY_TRANSLATIONS_MAP = new Map(Object.entries(DAY_TRANSLATIONS));\r\n\r\n/**\r\n * Set optimizado de categorías de recetas para validación O(1)\r\n * Útil para verificar si una categoría es válida\r\n */\r\nexport const RECIPE_CATEGORIES_SET = new Set(RECIPE_CATEGORIES);\r\n\r\n/**\r\n * Map optimizado de enlaces de recetas por ID para acceso directo\r\n * Evita búsquedas lineales en el array\r\n */\r\nexport const RECIPE_LINKS_MAP = new Map(\r\n  ONLINE_RECIPE_LINKS.map((link) => [link.id, link])\r\n);\r\n\r\n// =============================================================================\r\n// DEPRECATED - Mantenidos para compatibilidad hacia atrás\r\n// =============================================================================\r\n\r\n/**\r\n * @deprecated Usar RECIPE_CATEGORIES en su lugar\r\n * Mantenido para compatibilidad con código existente\r\n */\r\nexport const CATEGORIES = RECIPE_CATEGORIES;\r\n\r\n/**\r\n * @deprecated Usar DEFAULT_SHOPPING_CATEGORIES en su lugar\r\n * Mantenido para compatibilidad con código existente\r\n */\r\nexport const SHOPPING_CATEGORIES = DEFAULT_SHOPPING_CATEGORIES;\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Share2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjUiIHI9IjMiIC8+CiAgPGNpcmNsZSBjeD0iNiIgY3k9IjEyIiByPSIzIiAvPgogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTkiIHI9IjMiIC8+CiAgPGxpbmUgeDE9IjguNTkiIHgyPSIxNS40MiIgeTE9IjEzLjUxIiB5Mj0iMTcuNDkiIC8+CiAgPGxpbmUgeDE9IjE1LjQxIiB4Mj0iOC41OSIgeTE9IjYuNTEiIHkyPSIxMC40OSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/share-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Share2 = createLucideIcon('Share2', [\n  ['circle', { cx: '18', cy: '5', r: '3', key: 'gq8acd' }],\n  ['circle', { cx: '6', cy: '12', r: '3', key: 'w7nqdw' }],\n  ['circle', { cx: '18', cy: '19', r: '3', key: '1xt0gg' }],\n  ['line', { x1: '8.59', x2: '15.42', y1: '13.51', y2: '17.49', key: '47mynk' }],\n  ['line', { x1: '15.41', x2: '8.59', y1: '6.51', y2: '10.49', key: '1n3mei' }],\n]);\n\nexport default Share2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PenLine\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjBoOSIgLz4KICA8cGF0aCBkPSJNMTYuMzc2IDMuNjIyYTEgMSAwIDAgMSAzLjAwMiAzLjAwMkw3LjM2OCAxOC42MzVhMiAyIDAgMCAxLS44NTUuNTA2bC0yLjg3Mi44MzhhLjUuNSAwIDAgMS0uNjItLjYybC44MzgtMi44NzJhMiAyIDAgMCAxIC41MDYtLjg1NHoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/pen-line\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenLine = createLucideIcon('PenLine', [\n  ['path', { d: 'M12 20h9', key: 't2du7b' }],\n  [\n    'path',\n    {\n      d: 'M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z',\n      key: '1ykcvy',\n    },\n  ],\n]);\n\nexport default PenLine;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name GripVertical\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iMTIiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iOSIgY3k9IjUiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iOSIgY3k9IjE5IiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTIiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iMTUiIGN5PSI1IiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTkiIHI9IjEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/grip-vertical\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst GripVertical = createLucideIcon('GripVertical', [\n  ['circle', { cx: '9', cy: '12', r: '1', key: '1vctgf' }],\n  ['circle', { cx: '9', cy: '5', r: '1', key: 'hp0tcf' }],\n  ['circle', { cx: '9', cy: '19', r: '1', key: 'fkjjf6' }],\n  ['circle', { cx: '15', cy: '12', r: '1', key: '1tmaij' }],\n  ['circle', { cx: '15', cy: '5', r: '1', key: '19l28e' }],\n  ['circle', { cx: '15', cy: '19', r: '1', key: 'f4zoj3' }],\n]);\n\nexport default GripVertical;\n","import React, { memo, useCallback, useMemo } from \"react\";\r\nimport {\r\n  ClockIcon,\r\n  Users,\r\n  Edit3,\r\n  Trash2,\r\n  Share2,\r\n  X,\r\n  GripVertical,\r\n} from \"lucide-react\";\r\nimport { useMobileDetection } from \"../../hooks/useMobileDetection\";\r\nimport { useMobileInteraction } from \"../../contexts/MobileInteractionContext\";\r\n\r\n/**\r\n * Componente RecipeCard\r\n * Muestra una tarjeta compacta de una receta con sus detalles principales\r\n * y opciones de interacción optimizada para rendimiento.\r\n *\r\n * Características:\r\n * - Drag & Drop optimizado para planificador\r\n * - Lazy loading de imágenes con fallback\r\n * - Estados de selección visual\r\n * - Acciones contextuales (editar, eliminar, compartir)\r\n * - Responsive design con truncado de texto\r\n * - Memoización para evitar re-renders innecesarios\r\n *\r\n * @param {Object} props - Propiedades del componente\r\n * @param {Object} props.recipe - Objeto de la receta a mostrar\r\n * @param {Function} [props.onEdit] - Función para editar la receta (opcional)\r\n * @param {Function} [props.onDelete] - Función para eliminar la receta (opcional)\r\n * @param {Function} [props.onShare] - Función para compartir la receta (opcional)\r\n * @param {Function} [props.onSelect] - Función para seleccionar la receta (opcional)\r\n * @param {Function} [props.onShowDetails] - Función para mostrar detalles completos\r\n * @param {boolean} [props.isSelected] - Indica si la tarjeta está seleccionada\r\n * @param {boolean} [props.isDraggable] - Indica si la tarjeta es arrastrable\r\n * @param {boolean} [props.showDeleteButton] - Muestra botón de eliminar pequeño\r\n * @returns {JSX.Element} Componente de tarjeta de receta\r\n */\r\nconst RecipeCard = memo(\r\n  ({\r\n    recipe,\r\n    onEdit,\r\n    onDelete,\r\n    onShare,\r\n    onSelect,\r\n    onShowDetails,\r\n    isSelected = false,\r\n    isDraggable = false,\r\n    showDeleteButton = false,\r\n  }) => {\r\n    // Detectar dispositivo móvil y obtener contexto de interacción móvil\r\n    const { isTouchDevice } = useMobileDetection();\r\n    const { selectedRecipeForMobile, isAddingToDay, selectRecipeForMobile } =\r\n      useMobileInteraction();\r\n\r\n    // Verificar si esta receta está seleccionada para móvil\r\n    const isSelectedForMobile = selectedRecipeForMobile?.id === recipe.id;\r\n    // URL de imagen placeholder memoizada para evitar recreación\r\n    const placeholderImage = useMemo(() => {\r\n      const recipeName = recipe.name || \"Receta\";\r\n      return `https://placehold.co/600x300/E2E8F0/A0AEC0?text=${encodeURIComponent(\r\n        recipeName\r\n      )}`;\r\n    }, [recipe.name]);\r\n\r\n    // Manejador optimizado para inicio de arrastre\r\n    const handleDragStart = useCallback(\r\n      e => {\r\n        if (isDraggable) {\r\n          e.dataTransfer.setData(\"recipeId\", recipe.id);\r\n          e.dataTransfer.effectAllowed = \"move\";\r\n        }\r\n      },\r\n      [isDraggable, recipe.id]\r\n    ); // Manejador optimizado para clic en tarjeta\r\n    const handleCardClick = useCallback(\r\n      e => {\r\n        // Evita propagación si se hace clic en botones\r\n        if (e.target.closest(\"button\")) return;\r\n\r\n        // En dispositivos móviles y modo arrastrable, seleccionar para táctil\r\n        if (isTouchDevice && isDraggable && !isAddingToDay) {\r\n          selectRecipeForMobile(recipe);\r\n          return;\r\n        }\r\n\r\n        if (onShowDetails) {\r\n          onShowDetails(recipe);\r\n        } else if (onSelect && !isDraggable) {\r\n          onSelect(recipe);\r\n        }\r\n      },\r\n      [\r\n        onShowDetails,\r\n        onSelect,\r\n        isDraggable,\r\n        recipe,\r\n        isTouchDevice,\r\n        isAddingToDay,\r\n        selectRecipeForMobile,\r\n      ]\r\n    );\r\n\r\n    // Manejador optimizado para error de imagen\r\n    const handleImageError = useCallback(\r\n      e => {\r\n        e.target.onerror = null;\r\n        e.target.src = placeholderImage;\r\n      },\r\n      [placeholderImage]\r\n    );\r\n\r\n    // Manejadores de acciones memoizados para evitar recreación\r\n    const handleShare = useCallback(\r\n      e => {\r\n        e.stopPropagation();\r\n        onShare?.(recipe);\r\n      },\r\n      [onShare, recipe]\r\n    );\r\n\r\n    const handleEdit = useCallback(\r\n      e => {\r\n        e.stopPropagation();\r\n        onEdit?.(recipe);\r\n      },\r\n      [onEdit, recipe]\r\n    );\r\n\r\n    const handleDelete = useCallback(\r\n      e => {\r\n        e.stopPropagation();\r\n        onDelete?.(recipe.id);\r\n      },\r\n      [onDelete, recipe.id]\r\n    ); // Clases CSS memoizadas para la tarjeta\r\n    const cardClasses = useMemo(() => {\r\n      const baseClasses =\r\n        \"bg-white dark:bg-gradient-to-br dark:from-slate-800/90 dark:to-slate-700/70 rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 backdrop-blur-sm border dark:border-slate-600/30\";\r\n      const selectedClasses =\r\n        isSelected || isSelectedForMobile ? \"ring-2 ring-emerald-500\" : \"\";\r\n      const cursorClasses = isDraggable\r\n        ? isTouchDevice\r\n          ? \"cursor-pointer\"\r\n          : \"cursor-grab\"\r\n        : \"cursor-pointer\";\r\n      const mobileSelectedClasses = isSelectedForMobile\r\n        ? \"bg-emerald-50 dark:bg-emerald-900/20\"\r\n        : \"\";\r\n\r\n      return `${baseClasses} ${selectedClasses} ${cursorClasses} ${mobileSelectedClasses}`;\r\n    }, [isSelected, isDraggable, isTouchDevice, isSelectedForMobile]);\r\n\r\n    // Información de tiempo y porciones memoizada\r\n    const recipeInfo = useMemo(\r\n      () => (\r\n        <div className=\"flex items-center text-xs text-slate-600 dark:text-slate-300 mb-2 space-x-2\">\r\n          {recipe.prepTime && (\r\n            <div className=\"flex items-center recipe-action-button\">\r\n              <ClockIcon\r\n                size={12}\r\n                className=\"mr-1\"\r\n                aria-hidden=\"true\"\r\n                style={{\r\n                  color: \"#059669\",\r\n                  stroke: \"#059669\",\r\n                  strokeWidth: 1.5,\r\n                }}\r\n              />\r\n              <span>{recipe.prepTime}</span>\r\n            </div>\r\n          )}\r\n          {recipe.servings && (\r\n            <div className=\"flex items-center recipe-action-button\">\r\n              <Users\r\n                size={12}\r\n                className=\"mr-1\"\r\n                aria-hidden=\"true\"\r\n                style={{\r\n                  color: \"#059669\",\r\n                  stroke: \"#059669\",\r\n                  strokeWidth: 1.5,\r\n                }}\r\n              />\r\n              <span>{recipe.servings} porc.</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ),\r\n      [recipe.prepTime, recipe.servings]\r\n    ); // Botones de acción memoizados\r\n    const actionButtons = useMemo(() => {\r\n      if (showDeleteButton || (!onEdit && !onDelete && !onShare)) return null;\r\n\r\n      return (\r\n        <div className=\"mt-3 pt-2 border-t dark:border-slate-600 flex justify-end space-x-1.5\">\r\n          {\" \"}\r\n          {onShare && (\r\n            <button\r\n              onClick={handleShare}\r\n              className=\"recipe-action-button p-1.5 rounded-full hover:bg-blue-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors\"\r\n              title=\"Compartir Receta\"\r\n              aria-label={`Compartir receta ${recipe.name}`}\r\n            >\r\n              <Share2\r\n                size={16}\r\n                style={{ color: \"#2563eb\", stroke: \"#2563eb\", strokeWidth: 2 }}\r\n              />\r\n            </button>\r\n          )}\r\n          {onEdit && (\r\n            <button\r\n              onClick={handleEdit}\r\n              className=\"recipe-action-button p-1.5 rounded-full hover:bg-emerald-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors\"\r\n              title=\"Editar Receta\"\r\n              aria-label={`Editar receta ${recipe.name}`}\r\n            >\r\n              <Edit3\r\n                size={16}\r\n                style={{ color: \"#16a34a\", stroke: \"#16a34a\", strokeWidth: 2 }}\r\n              />\r\n            </button>\r\n          )}\r\n          {onDelete && (\r\n            <button\r\n              onClick={handleDelete}\r\n              className=\"recipe-action-button p-1.5 rounded-full hover:bg-red-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors\"\r\n              title=\"Eliminar Receta\"\r\n              aria-label={`Eliminar receta ${recipe.name}`}\r\n            >\r\n              <Trash2\r\n                size={16}\r\n                style={{ color: \"#dc2626\", stroke: \"#dc2626\", strokeWidth: 2 }}\r\n              />\r\n            </button>\r\n          )}\r\n        </div>\r\n      );\r\n    }, [\r\n      showDeleteButton,\r\n      onEdit,\r\n      onDelete,\r\n      onShare,\r\n      handleShare,\r\n      handleEdit,\r\n      handleDelete,\r\n      recipe.name,\r\n    ]);\r\n\r\n    return (\r\n      <article\r\n        className={cardClasses}\r\n        onClick={handleCardClick}\r\n        draggable={isDraggable}\r\n        onDragStart={handleDragStart}\r\n        role={onSelect ? \"button\" : undefined}\r\n        tabIndex={onSelect ? 0 : undefined}\r\n        aria-selected={isSelected}\r\n        aria-label={`Receta: ${recipe.name}`}\r\n      >\r\n        {\" \"}\r\n        {/* Imagen de la receta con optimizaciones */}\r\n        <div className=\"relative bg-slate-100 dark:bg-slate-700 h-32 flex items-center justify-center pt-2\">\r\n          <img\r\n            className=\"w-full h-28 object-contain\"\r\n            src={recipe.imageUrl || placeholderImage}\r\n            alt={`Imagen de ${recipe.name}`}\r\n            loading=\"lazy\"\r\n            decoding=\"async\"\r\n            onError={handleImageError}\r\n          />{\" \"}\r\n          {/* Ícono de arrastre si la tarjeta es arrastrable */}\r\n          {isDraggable && !isTouchDevice && (\r\n            <GripVertical\r\n              size={16}\r\n              className=\"absolute top-2 right-2 text-white bg-black bg-opacity-50 rounded p-0.5\"\r\n              aria-hidden=\"true\"\r\n            />\r\n          )}\r\n          {/* Indicador táctil para móviles */}\r\n          {isDraggable && isTouchDevice && (\r\n            <div className=\"absolute top-2 right-2 bg-emerald-500 text-white text-xs px-2 py-1 rounded-full font-bold\">\r\n              TOCA\r\n            </div>\r\n          )}\r\n          {/* Indicador de selección para móviles */}\r\n          {isSelectedForMobile && (\r\n            <div className=\"absolute top-2 left-2 bg-emerald-500 text-white text-xs px-2 py-1 rounded-full font-bold\">\r\n              ✓ SELECCIONADA\r\n            </div>\r\n          )}\r\n          {/* Botón de eliminar específico para el planificador */}\r\n          {showDeleteButton && onDelete && (\r\n            <button\r\n              onClick={handleDelete}\r\n              className=\"absolute top-1.5 right-1.5 p-1 bg-red-100 text-red-500 rounded-full hover:bg-red-200 dark:bg-red-800 dark:text-red-300 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors\"\r\n              title=\"Quitar receta del día\"\r\n              aria-label={`Quitar ${recipe.name} del día`}\r\n            >\r\n              <X size={14} />\r\n            </button>\r\n          )}\r\n        </div>\r\n        {/* Contenido de la tarjeta */}\r\n        <div className=\"p-3\">\r\n          {/* Nombre de la receta */}\r\n          <h3\r\n            className=\"text-base sm:text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-1 truncate tracking-tight\"\r\n            title={recipe.name}\r\n          >\r\n            {recipe.name}\r\n          </h3>\r\n\r\n          {/* Categoría de la receta */}\r\n          {recipe.category && (\r\n            <span className=\"inline-block bg-amber-200 text-amber-800 text-xs font-bold px-2 py-0.5 rounded-full mb-2 tracking-wide truncate max-w-full\">\r\n              {recipe.category}\r\n            </span>\r\n          )}\r\n\r\n          {/* Información adicional: tiempo y porciones */}\r\n          {recipeInfo}\r\n\r\n          {/* Botones de acción */}\r\n          {actionButtons}\r\n        </div>\r\n      </article>\r\n    );\r\n  }\r\n);\r\n\r\n// Nombre para debugging\r\nRecipeCard.displayName = \"RecipeCard\";\r\n\r\n// Exporta el componente memoizado con comparación personalizada\r\nexport default RecipeCard;\r\n","import { useState, useEffect } from \"react\";\r\n\r\n/**\r\n * Hook personalizado para detectar dispositivos móviles y táctiles\r\n * @returns {Object} Objeto con información del dispositivo\r\n */\r\nexport const useMobileDetection = () => {\r\n  const [deviceInfo, setDeviceInfo] = useState({\r\n    isMobile: false,\r\n    isTouchDevice: false,\r\n    screenWidth: 0,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const checkDevice = () => {\r\n      const isTouchDevice =\r\n        \"ontouchstart\" in window || navigator.maxTouchPoints > 0;\r\n      const screenWidth = window.innerWidth;\r\n      const isMobile = screenWidth <= 768 || isTouchDevice;\r\n\r\n      setDeviceInfo({\r\n        isMobile,\r\n        isTouchDevice,\r\n        screenWidth,\r\n      });\r\n    };\r\n\r\n    // Verificar al montar\r\n    checkDevice();\r\n\r\n    // Escuchar cambios de tamaño de ventana\r\n    window.addEventListener(\"resize\", checkDevice);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", checkDevice);\r\n    };\r\n  }, []);\r\n\r\n  return deviceInfo;\r\n};\r\n","import React, { useCallback, useEffect } from \"react\";\r\nimport { X } from \"lucide-react\";\r\n\r\n/**\r\n * Modal\r\n * Componente modal genérico y reutilizable optimizado.\r\n * Muestra contenido en una ventana emergente centrada con funcionalidades avanzadas.\r\n *\r\n * Características:\r\n * - Renderizado condicional optimizado\r\n * - Manejo de teclado (Escape para cerrar)\r\n * - Prevención de scroll del body cuando está abierto\r\n * - Cierre al hacer clic en el overlay\r\n * - Accesibilidad mejorada con ARIA\r\n * - Animaciones suaves\r\n *\r\n * @param {Object} props - Propiedades del componente\r\n * @param {boolean} props.isOpen - Controla la visibilidad del modal\r\n * @param {Function} props.onClose - Función para cerrar el modal\r\n * @param {string} props.title - Título mostrado en el encabezado\r\n * @param {React.ReactNode} props.children - Contenido del modal\r\n * @param {Function} [props.onKeyDown] - Manejador adicional de teclas (opcional)\r\n * @returns {JSX.Element|null} El componente modal o null si está cerrado\r\n */\r\nconst Modal = ({ isOpen, onClose, title, children, onKeyDown }) => {\r\n  // Manejador optimizado para cerrar el modal\r\n  const handleClose = useCallback(() => {\r\n    if (onClose) {\r\n      onClose();\r\n    }\r\n  }, [onClose]);\r\n\r\n  // Manejador para cerrar al hacer clic en el overlay\r\n  const handleOverlayClick = useCallback(\r\n    event => {\r\n      // Solo cierra si se hace clic directamente en el overlay, no en el contenido\r\n      if (event.target === event.currentTarget) {\r\n        handleClose();\r\n      }\r\n    },\r\n    [handleClose]\r\n  );\r\n\r\n  // Manejador de teclado para accesibilidad\r\n  const handleKeyDown = useCallback(\r\n    event => {\r\n      // Maneja la tecla Escape para cerrar el modal\r\n      if (event.key === \"Escape\") {\r\n        handleClose();\r\n      }\r\n\r\n      // Ejecuta manejador adicional si se proporciona\r\n      if (onKeyDown) {\r\n        onKeyDown(event);\r\n      }\r\n    },\r\n    [handleClose, onKeyDown]\r\n  );\r\n  // Efecto para manejar el scroll del body y eventos de teclado\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      // Guarda el estado actual del overflow del body\r\n      const originalOverflow = document.body.style.overflow;\r\n\r\n      // Previene el scroll del body cuando el modal está abierto\r\n      document.body.style.overflow = \"hidden\";\r\n\r\n      // Añade listener para el teclado\r\n      document.addEventListener(\"keydown\", handleKeyDown);\r\n\r\n      // Función de limpieza que restaura el estado original\r\n      return () => {\r\n        document.body.style.overflow = originalOverflow || \"auto\";\r\n        document.removeEventListener(\"keydown\", handleKeyDown);\r\n      };\r\n    } else {\r\n      // Asegura que el scroll esté habilitado cuando el modal no está abierto\r\n      document.body.style.overflow = \"auto\";\r\n    }\r\n  }, [isOpen, handleKeyDown]);\r\n\r\n  // Renderizado condicional optimizado\r\n  if (!isOpen) return null;\r\n  return (\r\n    // Overlay principal con backdrop blur y centrado\r\n    <div\r\n      className=\"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex justify-center items-center z-50 p-4 animate-in fade-in duration-200\"\r\n      onClick={handleOverlayClick}\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      aria-labelledby=\"modal-title\"\r\n      aria-describedby=\"modal-content\"\r\n    >\r\n      {\" \"}\r\n      {/* Contenedor del modal con animación de entrada y scroll mejorado */}\r\n      <div className=\"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] min-h-0 flex flex-col animate-in zoom-in-95 duration-200 overflow-hidden\">\r\n        {/* Encabezado del modal - fijo en la parte superior */}\r\n        <header className=\"flex justify-between items-center p-6 pb-4 border-b border-slate-200 dark:border-slate-600 flex-shrink-0\">\r\n          <h2\r\n            id=\"modal-title\"\r\n            className=\"text-2xl font-bold text-emerald-700 dark:text-emerald-400 pr-8\"\r\n          >\r\n            {title}\r\n          </h2>\r\n\r\n          {/* Botón de cierre optimizado */}\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleClose}\r\n            className=\"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-all duration-200 p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 flex-shrink-0\"\r\n            aria-label=\"Cerrar modal\"\r\n          >\r\n            <X size={24} />\r\n          </button>\r\n        </header>\r\n\r\n        {/* Contenido principal del modal - con scroll independiente mejorado */}\r\n        <main\r\n          id=\"modal-content\"\r\n          className=\"flex-1 min-h-0 p-6 pt-4 overflow-y-auto overflow-x-hidden custom-scrollbar focus:outline-none\"\r\n          tabIndex={-1}\r\n          style={{\r\n            maxHeight: \"calc(90vh - 100px)\",\r\n            overflowY: \"auto\",\r\n            WebkitOverflowScrolling: \"touch\",\r\n          }}\r\n        >\r\n          {children}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Exporta el componente memoizado con comparación personalizada\r\nexport default React.memo(Modal, (prevProps, nextProps) => {\r\n  // Comparación optimizada para evitar re-renders innecesarios\r\n  return (\r\n    prevProps.isOpen === nextProps.isOpen &&\r\n    prevProps.title === nextProps.title &&\r\n    prevProps.children === nextProps.children\r\n  );\r\n});\r\n","import React, { useCallback, useMemo } from \"react\";\r\nimport Modal from \"../layout/Modal\"; // Corregido: Ruta actualizada para acceder a la carpeta layout\r\nimport { AlertTriangle } from \"lucide-react\";\r\n\r\n/**\r\n * CustomConfirmModal\r\n * Modal de confirmación reutilizable para acciones críticas.\r\n * Permite al usuario confirmar o cancelar una acción peligrosa.\r\n * Utiliza el componente Modal como contenedor base.\r\n *\r\n * @param {Object} props - Propiedades del componente\r\n * @param {boolean} props.isOpen - Controla la visibilidad del modal\r\n * @param {Function} props.onClose - Función que cierra el modal (cancelar)\r\n * @param {Function} props.onConfirm - Función que ejecuta la acción de confirmación\r\n * @param {string} [props.title=\"Confirmación\"] - Título del modal (opcional)\r\n * @param {string} [props.message=\"¿Estás seguro?\"] - Mensaje de confirmación (opcional)\r\n * @param {string} [props.confirmButtonText=\"Confirmar\"] - Texto del botón de confirmación (opcional)\r\n * @param {string} [props.cancelButtonText=\"Cancelar\"] - Texto del botón de cancelar (opcional)\r\n * @param {string} [props.variant=\"danger\"] - Variante del modal (danger, warning, info)\r\n * @returns {JSX.Element|null} El modal de confirmación o null si no está abierto\r\n */\r\nconst CustomConfirmModal = ({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  title = \"Confirmación\",\r\n  message = \"¿Estás seguro?\",\r\n  confirmButtonText = \"Confirmar\",\r\n  cancelButtonText = \"Cancelar\",\r\n  variant = \"danger\",\r\n}) => {\r\n  // Estilos memoizados basados en la variante del modal\r\n  const buttonStyles = useMemo(() => {\r\n    const variants = {\r\n      danger: \"bg-red-600 hover:bg-red-700 focus:ring-red-500\",\r\n      warning: \"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500\",\r\n      info: \"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500\",\r\n    };\r\n\r\n    return {\r\n      confirm: `px-4 py-2 text-sm font-medium text-white rounded-lg shadow-sm \r\n                flex items-center transition-all duration-200 \r\n                focus:outline-none focus:ring-2 focus:ring-offset-2 \r\n                ${variants[variant] || variants.danger}`,\r\n      cancel: `px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 \r\n               hover:bg-slate-200 dark:bg-gradient-to-br dark:from-slate-800/70 dark:to-slate-700/50 dark:text-slate-200 \r\n               dark:hover:bg-slate-600 rounded-lg shadow-sm transition-all \r\n               duration-200 focus:outline-none focus:ring-2 focus:ring-slate-500 \r\n               focus:ring-offset-2 backdrop-blur-sm border dark:border-slate-600/30`,\r\n    };\r\n  }, [variant]);\r\n\r\n  // Manejadores de eventos optimizados con useCallback\r\n  const handleConfirm = useCallback(() => {\r\n    if (onConfirm) {\r\n      onConfirm();\r\n    }\r\n  }, [onConfirm]);\r\n\r\n  const handleCancel = useCallback(() => {\r\n    if (onClose) {\r\n      onClose();\r\n    }\r\n  }, [onClose]);\r\n\r\n  // Manejo de teclas para accesibilidad\r\n  const handleKeyDown = useCallback(\r\n    event => {\r\n      if (event.key === \"Enter\") {\r\n        handleConfirm();\r\n      } else if (event.key === \"Escape\") {\r\n        handleCancel();\r\n      }\r\n    },\r\n    [handleConfirm, handleCancel]\r\n  );\r\n\r\n  // Renderizado condicional optimizado\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      title={title}\r\n      onKeyDown={handleKeyDown}\r\n    >\r\n      {/* Contenedor del mensaje de confirmación con mejor estructura semántica */}\r\n      <div className=\"text-slate-700 dark:text-slate-300 mb-6\">\r\n        <div className=\"flex items-start space-x-3\">\r\n          {/* Ícono de advertencia según la variante */}\r\n          <div className=\"flex-shrink-0\">\r\n            <AlertTriangle\r\n              size={20}\r\n              className={`${\r\n                variant === \"danger\"\r\n                  ? \"text-red-500\"\r\n                  : variant === \"warning\"\r\n                    ? \"text-yellow-500\"\r\n                    : \"text-blue-500\"\r\n              }`}\r\n              aria-hidden=\"true\"\r\n            />\r\n          </div>\r\n          {/* Mensaje principal */}\r\n          <div className=\"flex-1\">\r\n            <p className=\"text-sm leading-relaxed\">{message}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Contenedor de botones de acción con mejor accesibilidad */}\r\n      <div className=\"flex justify-end space-x-3 pt-4 border-t border-slate-200 dark:border-slate-600\">\r\n        {/* Botón Cancelar */}\r\n        <button\r\n          type=\"button\"\r\n          onClick={handleCancel}\r\n          className={buttonStyles.cancel}\r\n          aria-label=\"Cancelar acción\"\r\n        >\r\n          {cancelButtonText}\r\n        </button>\r\n\r\n        {/* Botón Confirmar */}\r\n        <button\r\n          type=\"button\"\r\n          onClick={handleConfirm}\r\n          className={buttonStyles.confirm}\r\n          aria-label={`Confirmar: ${message}`}\r\n          autoFocus\r\n        >\r\n          <AlertTriangle size={16} className=\"mr-2\" aria-hidden=\"true\" />\r\n          {confirmButtonText}\r\n        </button>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\n// Exporta el componente memoizado con comparación profunda para optimizar renders\r\nexport default React.memo(CustomConfirmModal);\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CirclePlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNOCAxMmg4IiAvPgogIDxwYXRoIGQ9Ik0xMiA4djgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CirclePlus = createLucideIcon('CirclePlus', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M8 12h8', key: '1wcyev' }],\n  ['path', { d: 'M12 8v8', key: 'napkw2' }],\n]);\n\nexport default CirclePlus;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('Trash2', [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n]);\n\nexport default Trash2;\n"],"names":["Upload","createLucideIcon","d","key","points","x1","x2","y1","y2","Camera","cx","cy","r","CATEGORIES","INITIAL_FORM_STATE","name","ingredients","text","instructions","prepTime","category","imageUrl","imageFile","imagePreview","imageSource","servings","RecipeForm","_ref","isOpen","onClose","onSave","initialRecipe","formData","setFormData","useState","useEffect","_initialRecipe$ingred","_initialRecipe$instru","_initialRecipe$servin","hasImageUrl","startsWith","length","map","i","toString","updateField","useCallback","field","value","prev","_objectSpread","handleArrayField","action","index","arguments","undefined","currentArray","newArray","filter","_","handleNameChange","e","target","handlePrepTimeChange","handleServingsChange","handleCategoryChange","handleImageUrlChange","handleImageSourceChange","source","handleImageFileChange","file","files","type","alert","size","reader","FileReader","onload","base64","result","readAsDataURL","handleRemoveImage","handleSubmit","preventDefault","cleanedData","trim","parseInt","DynamicFieldArray","useMemo","_ref2","label","fieldName","placeholder","fields","_jsxs","className","children","_jsx","concat","onChange","onClick","toLowerCase","Trash2","PlusCircle","modalTitle","submitButtonText","Modal","title","onSubmit","noValidate","htmlFor","id","required","min","max","cat","accept","capture","src","alt","onError","style","display","X","React","prevProps","nextProps","Facebook","Hash","MessageCircle","Send","ExternalLink","Check","Copy","width","height","x","y","rx","ry","SocialShareModal","recipe","shareUrl","showToast","isCopied","setIsCopied","timeoutRef","useRef","copyTextFallback","Promise","resolve","reject","textArea","document","createElement","position","left","top","setAttribute","body","appendChild","select","setSelectionRange","execCommand","Error","error","removeChild","handleCopyToClipboard","async","navigator","clipboard","window","isSecureContext","writeText","current","clearTimeout","setTimeout","socialPlatforms","recipeTitle","recipeDescription","encodedDescription","encodeURIComponent","encodedUrl","icon","color","url","description","handleSocialShare","platform","open","handleNativeShare","share","hasNativeShare","test","userAgent","Share2","Smartphone","disabled","IngredientsListModal","memo","copied","setCopied","ingredientsText","join","ShoppingCart","ChefHat","ingredient","err","_Fragment","displayName","LOCAL_STORAGE_RECIPES_KEY","ALL_CATEGORIES","recipesStorageHelpers","loadData","DEFAULT_RECIPES","saveData","recipes","RecipesView","setUserRecipes","setRecipes","isFormOpen","setIsFormOpen","editingRecipe","setEditingRecipe","setFilter","setCategory","selectedRecipe","setSelectedRecipe","isConfirmDeleteModalOpen","setIsConfirmDeleteModalOpen","recipeToDelete","setRecipeToDelete","isShareModalOpen","setIsShareModalOpen","recipeLinkToShare","setRecipeLinkToShare","recipeToShare","setRecipeToShare","isIngredientsModalOpen","setIsIngredientsModalOpen","recipeForIngredients","setRecipeForIngredients","loadedRecipes","recipesArray","Array","isArray","console","loadRecipes","saveRecipes","newRecipes","generateRecipeId","Date","now","Math","random","substr","handleSaveRecipe","recipeData","updatedAt","toISOString","trackRecipeEvent","edit","time","newRecipe","createdAt","create","handleDeleteRecipeRequest","handleDeleteRecipe","recipeToDeleteData","find","delete","handleCancelDelete","handleShareRecipe","shareLink","location","origin","pathname","shareMethod","handleToggleNewRecipe","handleEditRecipe","handleCloseForm","handleShowIngredients","_trackRecipeEvent$vie","_recipe$ingredients","viewIngredients","call","ingredientsCount","handleCloseIngredientsModal","filteredRecipes","matchName","includes","matchCategory","getPlaceholderImage","recipeName","RecipeDetailsModal","_recipe$ingredients2","_recipe$instructions","placeholderImage","objectPosition","loading","decoding","onerror","ClockIcon","Users","idx","slice","step","EmptyState","checkSharedRecipe","urlParams","URLSearchParams","search","sharedRecipeId","get","sharedRecipeName","sharedRecipe","URL","searchParams","history","replaceState","recipeByName","decodeURIComponent","RecipeCard","onEdit","onDelete","onShowDetails","onShare","CustomConfirmModal","onConfirm","message","confirmButtonText","cancelButtonText","variant","RECIPE_CATEGORIES","Object","freeze","DAY_TRANSLATIONS","lunes","martes","miercoles","jueves","viernes","sabado","domingo","DEFAULT_SHOPPING_CATEGORIES","ONLINE_RECIPE_LINKS","TOAST","DURATION","POSITION","MAX_VISIBLE","STORAGE","PREFIX","VERSION","KEYS","RECIPES","SHOPPING_LIST","WEEKLY_PLAN","THEME","USER_CATEGORIES","SHOPPING_CATEGORIES","PERFORMANCE","AUTO_SAVE_DELAY","DEBOUNCE_DELAY","SEARCH_DELAY","IMAGE_LAZY_THRESHOLD","LIMITS","MAX_RECIPES","MAX_SHOPPING_ITEMS","MAX_CUSTOM_CATEGORIES","MAX_RECIPE_NAME_LENGTH","MAX_INGREDIENT_LENGTH","MAX_INSTRUCTION_LENGTH","LOCALE","DATE_FORMAT","DATE_OPTIONS","weekday","year","month","day","TIME_FORMAT","TIME_OPTIONS","hour","minute","hour12","CURRENCY_FORMAT","CURRENCY_OPTIONS","currency","minimumFractionDigits","maximumFractionDigits","SUCCESS","ERROR","WARNING","INFO","IDLE","LOADING","LIGHT","DARK","SYSTEM","RECIPE","NAME","MIN_LENGTH","MAX_LENGTH","REQUIRED","PREP_TIME","MIN","MAX","PATTERN","SERVINGS","SHOPPING_ITEM","QUANTITY","PRICE","PLACEHOLDER_IMAGE","GITHUB_REPO","DOCUMENTATION","FAST","NORMAL","SLOW","EASING","EASE_IN_OUT","EASE_OUT","EASE_IN","Map","entries","Set","link","PenLine","GripVertical","onSelect","isSelected","isDraggable","showDeleteButton","isTouchDevice","useMobileDetection","selectedRecipeForMobile","isAddingToDay","selectRecipeForMobile","useMobileInteraction","isSelectedForMobile","handleDragStart","dataTransfer","setData","effectAllowed","handleCardClick","closest","handleImageError","handleShare","stopPropagation","handleEdit","handleDelete","cardClasses","selectedClasses","cursorClasses","mobileSelectedClasses","recipeInfo","stroke","strokeWidth","actionButtons","Edit3","draggable","onDragStart","role","tabIndex","deviceInfo","setDeviceInfo","isMobile","screenWidth","checkDevice","maxTouchPoints","innerWidth","addEventListener","removeEventListener","onKeyDown","handleClose","handleOverlayClick","event","currentTarget","handleKeyDown","originalOverflow","overflow","maxHeight","overflowY","WebkitOverflowScrolling","buttonStyles","variants","danger","warning","info","confirm","cancel","handleConfirm","handleCancel","AlertTriangle","autoFocus","CirclePlus"],"sourceRoot":""}