/*! For license information please see 116.2f4f388e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkrecetario_magico=self.webpackChunkrecetario_magico||[]).push([[116],{116:(e,a,t)=>{t.r(a),t.d(a,{default:()=>y});var s=t(555),l=t(43),r=t(805),o=t(719);const n=(0,t(784).A)("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);var c=t(88),i=t(118),d=t(504),m=t(625),x=t(212),u=t(579);const h=["lunes","martes","miercoles","jueves","viernes","sabado","domingo"],b={lunes:"Lunes",martes:"Martes",miercoles:"Mi\xe9rcoles",jueves:"Jueves",viernes:"Viernes",sabado:"S\xe1bado",domingo:"Domingo"},p="weeklyPlan",g=()=>(0,x.Ze)(p,(()=>{const e={};return h.forEach((a=>{e[a]=[]})),e})()),f=l.memo((e=>{let{day:a,recipesForThisDay:t,allUserRecipes:s,onDropRecipe:c,onDragOverDay:i,onRemoveRecipeFromDay:m,onRotateRecipeForDay:x,onShowRecipeDetails:h}=e;const p=a.toLowerCase(),g=(0,l.useCallback)((e=>{e.preventDefault();const a=e.dataTransfer.getData("recipeId");a&&c(p,a)}),[p,c]),f=(0,l.useCallback)((()=>{x(p)}),[p,x]),k=(0,l.useMemo)((()=>b[p]),[p]);return(0,u.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-xl shadow-md min-h-[250px] flex flex-col border dark:border-slate-700 hover:shadow-lg transition-shadow duration-200",onDrop:g,onDragOver:i,children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-4 pb-2 border-b-2 border-emerald-200 dark:border-emerald-700",children:[(0,u.jsx)("h3",{className:"text-xl font-semibold text-emerald-700 dark:text-emerald-400",children:k}),(0,u.jsx)("button",{onClick:f,title:"Rotar receta para ".concat(k),className:"p-1.5 text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 rounded-full hover:bg-indigo-100 dark:hover:bg-slate-700 transition-colors duration-150",disabled:0===s.length,type:"button",children:(0,u.jsx)(r.A,{size:18})})]}),(0,u.jsx)("div",{className:"space-y-3 flex-grow custom-scrollbar overflow-y-auto max-h-[400px] p-1 -m-1",children:t.length>0?t.map((e=>{const a=s.find((a=>a.id===e));return a?(0,u.jsx)(d.A,{recipe:a,onShowDetails:h,isDraggable:!1,showDeleteButton:!0,onDelete:()=>m(p,e)},e):(0,u.jsxs)("div",{className:"text-xs text-red-500 p-2 bg-red-50 dark:bg-red-900/50 rounded-md flex items-center",children:[(0,u.jsx)(o.A,{size:16,className:"mr-2 flex-shrink-0"}),(0,u.jsxs)("span",{children:["ID de receta no encontrado: ",e.substring(0,8),"..."]})]},e)})):(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center py-8",children:[(0,u.jsx)(n,{size:32,className:"text-slate-400 dark:text-slate-500 mb-2"}),(0,u.jsx)("p",{className:"text-sm text-slate-400 dark:text-slate-500",children:"Arrastra recetas aqu\xed"})]})})]})})),k=l.memo((e=>{let{recipe:a,onClose:t}=e;const s=(0,l.useCallback)((e=>"https://placehold.co/600x300/E2E8F0/A0AEC0?text=".concat(encodeURIComponent(e||"Receta"))),[]),r=(0,l.useMemo)((()=>a?s(a.name):""),[a,s]),o=(0,l.useCallback)((e=>{e.target.onerror=null,e.target.src=r}),[r]);return a?(0,u.jsx)(m.A,{isOpen:!!a,onClose:t,title:"",children:(0,u.jsxs)("div",{className:"flex flex-col items-center",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-emerald-700 dark:text-emerald-300 mb-2 text-center",children:a.name}),(0,u.jsx)("span",{className:"inline-block bg-amber-200 dark:bg-amber-800 text-amber-800 dark:text-amber-200 text-xs font-semibold px-3 py-1 rounded-full mb-3",children:a.category})," ",(0,u.jsx)("div",{className:"w-full h-48 bg-slate-100 dark:bg-slate-700 rounded-xl mb-4 flex items-center justify-center overflow-hidden",children:(0,u.jsx)("img",{src:a.imageUrl||r,alt:a.name,className:"w-full h-48 object-contain",style:{objectPosition:"center"},loading:"lazy",decoding:"async",onError:o})})," ",(0,u.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full mb-4",children:[(0,u.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-emerald-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 flex items-center gap-2 border dark:border-emerald-400/20 backdrop-blur-sm",children:[(0,u.jsx)(c.A,{size:18,className:"text-emerald-500 flex-shrink-0"}),(0,u.jsx)("span",{className:"font-semibold",children:"Tiempo:"}),(0,u.jsx)("span",{className:"text-sm",children:a.prepTime||"\u2014"})]}),(0,u.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 flex items-center gap-2 border dark:border-blue-400/20 backdrop-blur-sm",children:[(0,u.jsx)(i.A,{size:18,className:"text-emerald-500 flex-shrink-0"}),(0,u.jsx)("span",{className:"font-semibold",children:"Porciones:"}),(0,u.jsx)("span",{className:"text-sm",children:a.servings?"".concat(a.servings," personas"):"\u2014"})]})]}),(0,u.jsxs)("div",{className:"w-full mb-4",children:[(0,u.jsxs)("h3",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-2 flex items-center",children:[(0,u.jsx)("span",{className:"mr-2",children:"\ud83d\udcdd"}),(0,u.jsx)("span",{children:"Ingredientes"})]}),(0,u.jsx)("ul",{className:"list-disc list-inside text-left space-y-1",children:a.ingredients&&a.ingredients.length>0?a.ingredients.map(((e,a)=>(0,u.jsx)("li",{className:"text-slate-700 dark:text-slate-200 text-sm",children:e},a))):(0,u.jsx)("li",{className:"text-slate-400 italic",children:"Sin ingredientes"})})]}),(0,u.jsxs)("div",{className:"w-full mb-2",children:[(0,u.jsxs)("h3",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-2 flex items-center",children:[(0,u.jsx)("span",{className:"mr-2",children:"\ud83d\udc68\u200d\ud83c\udf73"}),(0,u.jsx)("span",{children:"Instrucciones"})]}),(0,u.jsx)("ol",{className:"list-decimal list-inside text-left space-y-2",children:a.instructions&&a.instructions.length>0?a.instructions.map(((e,a)=>(0,u.jsx)("li",{className:"text-slate-700 dark:text-slate-200 text-sm leading-relaxed",children:e},a))):(0,u.jsx)("li",{className:"text-slate-400 italic",children:"Sin instrucciones"})})]})]})}):null})),v=e=>{let{allUserRecipes:a,recipes:t,showToast:r,onShowRecipeDetails:o}=e;const[n,c]=(0,l.useState)(g),[i,m]=(0,l.useState)(null);(0,l.useEffect)((()=>{c(g())}),[]);const b=(0,l.useCallback)((e=>{var a;a=e,(0,x.iu)(p,a),c((0,s.A)({},e))}),[]),v=(0,l.useCallback)((e=>{e.preventDefault()}),[]),y=(0,l.useCallback)(((e,a)=>{if(!a)return;const t=(0,s.A)({},n);t[e]||(t[e]=[]),t[e].includes(a)||(t[e].push(a),b(t),null===r||void 0===r||r("Receta a\xf1adida al planificador.","success"))}),[n,b,r]),j=(0,l.useCallback)(((e,a)=>{const t=(0,s.A)({},n);t[e]&&(t[e]=t[e].filter((e=>e!==a)),b(t),null===r||void 0===r||r("Receta eliminada del planificador.","success"))}),[n,b,r]),w=(0,l.useCallback)((e=>{if(!a||0===a.length)return;const t=a.map((e=>e.id)),l=t[Math.floor(Math.random()*t.length)],o=(0,s.A)({},n);o[e]=[l],b(o),null===r||void 0===r||r("Receta rotada para el d\xeda.","success")}),[a,n,b,r]),N=(0,l.useCallback)((()=>{m(null)}),[]),C=(0,l.useMemo)((()=>[...t].sort(((e,a)=>(e.name||"").localeCompare(a.name||"")))),[t]);return(0,u.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 pb-12",children:[(0,u.jsxs)("div",{className:"lg:w-3/5 xl:w-2/3",children:[(0,u.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-emerald-700 dark:text-emerald-400 mb-6 break-words",children:"\ud83d\uddd3\ufe0f Plan Semanal"}),(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:h.map((e=>(0,u.jsx)(f,{day:e,recipesForThisDay:n[e.toLowerCase()]||[],allUserRecipes:a,onDropRecipe:y,onDragOverDay:v,onRemoveRecipeFromDay:j,onRotateRecipeForDay:w,onShowRecipeDetails:m},e)))})]})," ",(0,u.jsxs)("div",{className:"lg:w-2/5 xl:w-1/3 space-y-4 p-5 bg-white dark:bg-slate-800 rounded-xl shadow-xl border dark:border-slate-700",children:[(0,u.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-emerald-700 dark:text-emerald-400 mb-3 break-words",children:"\ud83d\udcda Recetas Disponibles"}),(0,u.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Arrastra una receta a un d\xeda."}),(0,u.jsx)("div",{className:"max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar grid grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 2xl:grid-cols-3 gap-4 pb-8",children:C.length>0?C.map((e=>(0,u.jsx)(d.A,{recipe:e,onShowDetails:m,isDraggable:!0,showDeleteButton:!1},e.id))):(0,u.jsx)("p",{className:"text-sm py-8 text-center col-span-full text-slate-500 dark:text-slate-400",children:"\ud83c\udf72 No hay recetas. \xa1Crea algunas!"})})]}),(0,u.jsx)(k,{recipe:i,onClose:N})]})},y=l.memo(v,((e,a)=>e.allUserRecipes===a.allUserRecipes&&e.recipes===a.recipes&&e.showToast===a.showToast&&e.onShowRecipeDetails===a.onShowRecipeDetails))},118:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(784).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},306:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(784).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},504:(e,a,t)=>{t.d(a,{A:()=>h});var s=t(43),l=t(88),r=t(118),o=t(306),n=t(784);const c=(0,n.A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);var i=t(855);const d=(0,n.A)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var m=t(614),x=t(579);const u=(0,s.memo)((e=>{let{recipe:a,onEdit:t,onDelete:n,onShare:u,onSelect:h,onShowDetails:b,isSelected:p=!1,isDraggable:g=!1,showDeleteButton:f=!1}=e;const k=(0,s.useMemo)((()=>{const e=a.name||"Receta";return"https://placehold.co/600x300/E2E8F0/A0AEC0?text=".concat(encodeURIComponent(e))}),[a.name]),v=(0,s.useCallback)((e=>{g&&(e.dataTransfer.setData("recipeId",a.id),e.dataTransfer.effectAllowed="move")}),[g,a.id]),y=(0,s.useCallback)((e=>{e.target.closest("button")||(b?b(a):h&&!g&&h(a))}),[b,h,g,a]),j=(0,s.useCallback)((e=>{e.target.onerror=null,e.target.src=k}),[k]),w=(0,s.useCallback)((e=>{e.stopPropagation(),null===u||void 0===u||u(a)}),[u,a]),N=(0,s.useCallback)((e=>{e.stopPropagation(),null===t||void 0===t||t(a)}),[t,a]),C=(0,s.useCallback)((e=>{e.stopPropagation(),null===n||void 0===n||n(a.id)}),[n,a.id]),D=(0,s.useMemo)((()=>{const e=p?"ring-2 ring-emerald-500":"",a=g?"cursor-grab":"cursor-pointer";return"".concat("bg-white dark:bg-gradient-to-br dark:from-slate-800/90 dark:to-slate-700/70 rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 backdrop-blur-sm border dark:border-slate-600/30"," ").concat(e," ").concat(a)}),[p,g]),A=(0,s.useMemo)((()=>(0,x.jsxs)("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-300 mb-2 space-x-2",children:[a.prepTime&&(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(l.A,{size:12,className:"mr-1 text-emerald-500","aria-hidden":"true"}),(0,x.jsx)("span",{children:a.prepTime})]}),a.servings&&(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(r.A,{size:12,className:"mr-1 text-emerald-500","aria-hidden":"true"}),(0,x.jsxs)("span",{children:[a.servings," porc."]})]})]})),[a.prepTime,a.servings]),R=(0,s.useMemo)((()=>f||!t&&!n&&!u?null:(0,x.jsxs)("div",{className:"mt-3 pt-2 border-t dark:border-slate-600 flex justify-end space-x-1.5",children:[u&&(0,x.jsx)("button",{onClick:w,className:"p-1.5 rounded-full hover:bg-blue-100 dark:hover:bg-slate-600 text-blue-500 dark:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors",title:"Compartir Receta","aria-label":"Compartir receta ".concat(a.name),children:(0,x.jsx)(o.A,{size:16})}),t&&(0,x.jsx)("button",{onClick:N,className:"p-1.5 rounded-full hover:bg-emerald-100 dark:hover:bg-slate-600 text-emerald-600 dark:text-slate-300 focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors",title:"Editar Receta","aria-label":"Editar receta ".concat(a.name),children:(0,x.jsx)(c,{size:16})}),n&&(0,x.jsx)("button",{onClick:C,className:"p-1.5 rounded-full hover:bg-red-100 dark:hover:bg-slate-600 text-red-500 dark:text-slate-300 focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors",title:"Eliminar Receta","aria-label":"Eliminar receta ".concat(a.name),children:(0,x.jsx)(i.A,{size:16})})]})),[f,t,n,u,w,N,C,a.name]);return(0,x.jsxs)("article",{className:D,onClick:y,draggable:g,onDragStart:v,role:h?"button":void 0,tabIndex:h?0:void 0,"aria-selected":p,"aria-label":"Receta: ".concat(a.name),children:[" ",(0,x.jsxs)("div",{className:"relative bg-slate-100 dark:bg-slate-700 h-32 flex items-center justify-center pt-2",children:[(0,x.jsx)("img",{className:"w-full h-28 object-contain",src:a.imageUrl||k,alt:"Imagen de ".concat(a.name),loading:"lazy",decoding:"async",onError:j}),g&&(0,x.jsx)(d,{size:16,className:"absolute top-2 right-2 text-white bg-black bg-opacity-50 rounded p-0.5","aria-hidden":"true"}),f&&n&&(0,x.jsx)("button",{onClick:C,className:"absolute top-1.5 right-1.5 p-1 bg-red-100 text-red-500 rounded-full hover:bg-red-200 dark:bg-red-800 dark:text-red-300 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors",title:"Quitar receta del d\xeda","aria-label":"Quitar ".concat(a.name," del d\xeda"),children:(0,x.jsx)(m.A,{size:14})})]}),(0,x.jsxs)("div",{className:"p-3",children:[(0,x.jsx)("h3",{className:"text-base sm:text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-1 truncate tracking-tight",title:a.name,children:a.name}),a.category&&(0,x.jsx)("span",{className:"inline-block bg-amber-200 text-amber-800 text-xs font-bold px-2 py-0.5 rounded-full mb-2 tracking-wide truncate max-w-full",children:a.category}),A,R]})]})}));u.displayName="RecipeCard";const h=u},625:(e,a,t)=>{t.d(a,{A:()=>n});var s=t(43),l=t(614),r=t(579);const o=e=>{let{isOpen:a,onClose:t,title:o,children:n,onKeyDown:c}=e;const i=(0,s.useCallback)((()=>{t&&t()}),[t]),d=(0,s.useCallback)((e=>{e.target===e.currentTarget&&i()}),[i]),m=(0,s.useCallback)((e=>{"Escape"===e.key&&i(),c&&c(e)}),[i,c]);return(0,s.useEffect)((()=>{if(a){const e=document.body.style.overflow;return document.body.style.overflow="hidden",document.addEventListener("keydown",m),()=>{document.body.style.overflow=e||"auto",document.removeEventListener("keydown",m)}}document.body.style.overflow="auto"}),[a,m]),a?(0,r.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex justify-center items-center z-50 p-4 animate-in fade-in duration-200",onClick:d,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-content",children:[" ",(0,r.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] min-h-0 flex flex-col animate-in zoom-in-95 duration-200 overflow-hidden",children:[(0,r.jsxs)("header",{className:"flex justify-between items-center p-6 pb-4 border-b border-slate-200 dark:border-slate-600 flex-shrink-0",children:[(0,r.jsx)("h2",{id:"modal-title",className:"text-2xl font-bold text-emerald-700 dark:text-emerald-400 pr-8",children:o}),(0,r.jsx)("button",{type:"button",onClick:i,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-all duration-200 p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 flex-shrink-0","aria-label":"Cerrar modal",children:(0,r.jsx)(l.A,{size:24})})]}),(0,r.jsx)("main",{id:"modal-content",className:"flex-1 min-h-0 p-6 pt-4 overflow-y-auto overflow-x-hidden custom-scrollbar focus:outline-none",tabIndex:-1,style:{maxHeight:"calc(90vh - 100px)",overflowY:"auto",WebkitOverflowScrolling:"touch"},children:n})]})]}):null},n=s.memo(o,((e,a)=>e.isOpen===a.isOpen&&e.title===a.title&&e.children===a.children))},805:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(784).A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},855:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(784).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=116.2f4f388e.chunk.js.map