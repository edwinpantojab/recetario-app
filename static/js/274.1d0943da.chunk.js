/*! For license information please see 274.1d0943da.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkrecetario_magico=self.webpackChunkrecetario_magico||[]).push([[274],{118:(e,a,r)=>{r.d(a,{A:()=>t});const t=(0,r(784).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},272:(e,a,r)=>{r.d(a,{R6:()=>n,ug:()=>l});const t=Object.freeze(["Desayuno \ud83e\udd50","Almuerzo \ud83e\udd57","Cena \ud83c\udf5d","Postre \ud83c\udf70","Snack \ud83c\udf7f","Bebida \ud83c\udf79","Otro \u2728"]),s=(Object.freeze(["lunes","martes","miercoles","jueves","viernes","sabado","domingo"]),Object.freeze({lunes:"Lunes",martes:"Martes",miercoles:"Mi\xe9rcoles",jueves:"Jueves",viernes:"Viernes",sabado:"S\xe1bado",domingo:"Domingo"})),l=Object.freeze(["Supermercado","L\xe1cteos","Carnes","Verduras y Frutas","Aseo","Otros"]),i=Object.freeze([Object.freeze({id:"directo-paladar",name:"Directo al Paladar",url:"https://www.directoalpaladar.com/recetas",icon:"\ud83c\udf72",description:"Blog gastron\xf3mico con recetas tradicionales y modernas"}),Object.freeze({id:"elpais-recetas",name:"Recetas de Cocina (El Pa\xeds)",url:"https://elpais.com/elpais/recetas/",icon:"\ud83d\udcf0",description:"Secci\xf3n de recetas del diario El Pa\xeds"}),Object.freeze({id:"gastronomia-cia",name:"Gastronom\xeda & C\xeda",url:"https://www.gastronomiaycia.com/recetas/",icon:"\ud83e\uddd1\u200d\ud83c\udf73",description:"Portal especializado en gastronom\xeda y t\xe9cnicas culinarias"}),Object.freeze({id:"bon-viveur",name:"Bon Viveur",url:"https://www.bonviveur.es/recetas",icon:"\ud83c\udf77",description:"Recetas gourmet y maridajes"}),Object.freeze({id:"divina-cocina",name:"Divina Cocina",url:"https://www.divinacocina.es/recetas/",icon:"\ud83c\udf1f",description:"Recetas caseras y tradicionales"}),Object.freeze({id:"recetas-gratis",name:"Recetas Gratis",url:"https://www.recetasgratis.net/",icon:"\ud83c\udd93",description:"Amplio cat\xe1logo de recetas gratuitas"})]),n=(Object.freeze({TOAST:Object.freeze({DURATION:2500,POSITION:"top-right",MAX_VISIBLE:3}),STORAGE:Object.freeze({PREFIX:"recetario_",VERSION:"v2.0",KEYS:Object.freeze({RECIPES:"recipes",SHOPPING_LIST:"shoppingList",WEEKLY_PLAN:"weeklyPlan",THEME:"theme",USER_CATEGORIES:"userCategories",SHOPPING_CATEGORIES:"shoppingCategories"})}),PERFORMANCE:Object.freeze({AUTO_SAVE_DELAY:500,DEBOUNCE_DELAY:300,SEARCH_DELAY:200,IMAGE_LAZY_THRESHOLD:"200px"}),LIMITS:Object.freeze({MAX_RECIPES:1e3,MAX_SHOPPING_ITEMS:500,MAX_CUSTOM_CATEGORIES:20,MAX_RECIPE_NAME_LENGTH:100,MAX_INGREDIENT_LENGTH:200,MAX_INSTRUCTION_LENGTH:500}),LOCALE:Object.freeze({DATE_FORMAT:"es-ES",DATE_OPTIONS:Object.freeze({weekday:"long",year:"numeric",month:"long",day:"numeric"}),TIME_FORMAT:"es-ES",TIME_OPTIONS:Object.freeze({hour:"2-digit",minute:"2-digit",hour12:!1}),CURRENCY_FORMAT:"es-ES",CURRENCY_OPTIONS:Object.freeze({style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0})})}),Object.freeze({SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info"}),Object.freeze({IDLE:"idle",LOADING:"loading",SUCCESS:"success",ERROR:"error"}),Object.freeze({LIGHT:"light",DARK:"dark",SYSTEM:"system"}),Object.freeze({RECIPE:Object.freeze({NAME:Object.freeze({MIN_LENGTH:2,MAX_LENGTH:100,REQUIRED:!0}),PREP_TIME:Object.freeze({MIN:1,MAX:1440,PATTERN:/^\d+\s?(min|mins|minutos?|h|hr|hrs|horas?)?$/i}),SERVINGS:Object.freeze({MIN:1,MAX:50})}),SHOPPING_ITEM:Object.freeze({NAME:Object.freeze({MIN_LENGTH:1,MAX_LENGTH:100,REQUIRED:!0}),QUANTITY:Object.freeze({MIN:1,MAX:999}),PRICE:Object.freeze({MIN:0,MAX:999999999})})}),Object.freeze({PLACEHOLDER_IMAGE:"https://placehold.co/600x300/E2E8F0/A0AEC0",GITHUB_REPO:"https://github.com/tu-usuario/recetario-app",DOCUMENTATION:"https://docs.recetario-app.com"}),Object.freeze({FAST:"150ms",NORMAL:"200ms",SLOW:"300ms",EASING:Object.freeze({EASE_IN_OUT:"cubic-bezier(0.4, 0, 0.2, 1)",EASE_OUT:"cubic-bezier(0, 0, 0.2, 1)",EASE_IN:"cubic-bezier(0.4, 0, 1, 1)"})}),new Map(Object.entries(s)),new Set(t),new Map(i.map((e=>[e.id,e]))),t)},274:(e,a,r)=>{r.r(a),r.d(a,{default:()=>U});var t=r(555),s=r(43),l=r(504),i=r(855),n=r(781),o=r(784);const c=(0,o.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),d=(0,o.A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var m=r(614),u=r(625),x=r(579);const b=["Desayuno \ud83e\udd50","Almuerzo \ud83e\udd57","Cena \ud83c\udf5d","Postre \ud83c\udf70","Snack \ud83c\udf7f","Bebida \ud83c\udf79","Otro \u2728"],g={name:"",ingredients:[{text:""}],instructions:[{text:""}],prepTime:"",category:b[0],imageUrl:"",imageFile:null,imagePreview:"",imageSource:"url",servings:""},h=e=>{let{isOpen:a,onClose:r,onSave:l,initialRecipe:o}=e;const[h,f]=(0,s.useState)(g),{name:p,ingredients:k,instructions:v,prepTime:j,category:y,imageUrl:N,imagePreview:w,imageSource:C,servings:E}=h;(0,s.useEffect)((()=>{if(a)if(o){var e,r,t;const a=o.imageUrl&&!o.imageUrl.startsWith("data:");f({name:o.name||"",ingredients:(null===(e=o.ingredients)||void 0===e?void 0:e.length)>0?o.ingredients.map((e=>({text:e}))):[{text:""}],instructions:(null===(r=o.instructions)||void 0===r?void 0:r.length)>0?o.instructions.map((e=>({text:e}))):[{text:""}],prepTime:o.prepTime||"",category:o.category||b[0],imageUrl:a?o.imageUrl:"",imageFile:null,imagePreview:!a&&o.imageUrl?o.imageUrl:"",imageSource:a?"url":o.imageUrl?"file":"url",servings:(null===(t=o.servings)||void 0===t?void 0:t.toString())||""})}else f(g)}),[o,a]);const A=(0,s.useCallback)(((e,a)=>{f((r=>(0,t.A)((0,t.A)({},r),{},{[e]:a})))}),[f]),O=(0,s.useCallback)((function(e,a){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f((l=>{const i=l[e];let n;switch(a){case"add":n=[...i,{text:""}];break;case"remove":n=i.filter(((e,a)=>a!==r)),0===n.length&&(n=[{text:""}]);break;case"update":n=i.map(((e,a)=>a===r?{text:s}:e));break;default:return l}return(0,t.A)((0,t.A)({},l),{},{[e]:n})}))}),[f]),S=(0,s.useCallback)((e=>{A("name",e.target.value)}),[A]),R=(0,s.useCallback)((e=>{A("prepTime",e.target.value)}),[A]),M=(0,s.useCallback)((e=>{A("servings",e.target.value)}),[A]),z=(0,s.useCallback)((e=>{A("category",e.target.value)}),[A]),T=(0,s.useCallback)((e=>{A("imageUrl",e.target.value),"url"===C&&(A("imagePreview",""),A("imageFile",null))}),[A,C]),I=(0,s.useCallback)((e=>{A("imageSource",e),"url"===e?(A("imageFile",null),A("imagePreview","")):A("imageUrl","")}),[A]),P=(0,s.useCallback)((e=>{const a=e.target.files[0];if(a){if(!a.type.startsWith("image/"))return void alert("Por favor selecciona un archivo de imagen v\xe1lido");if(a.size>5242880)return void alert("La imagen es muy grande. Por favor selecciona una imagen menor a 5MB");const e=new FileReader;e.onload=e=>{const r=e.target.result;A("imageFile",a),A("imagePreview",r),A("imageUrl",r)},e.readAsDataURL(a)}}),[A]),U=(0,s.useCallback)((()=>{A("imageFile",null),A("imagePreview",""),A("imageUrl","")}),[A]),_=(0,s.useCallback)((e=>{e.preventDefault();const a={name:p.trim(),ingredients:k.map((e=>e.text.trim())).filter((e=>e.length>0)),instructions:v.map((e=>e.text.trim())).filter((e=>e.length>0)),prepTime:j.trim(),category:y,imageUrl:N.trim(),servings:E?parseInt(E,10):null};a.name?0!==a.ingredients.length?0!==a.instructions.length?l(a):alert("Debe agregar al menos una instrucci\xf3n"):alert("Debe agregar al menos un ingrediente"):alert("El nombre de la receta es obligatorio")}),[p,k,v,j,y,N,E,l]),L=(0,s.useMemo)((()=>e=>{let{label:a,fieldName:r,placeholder:t,fields:s}=e;return(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1.5",children:a}),s.map(((e,a)=>(0,x.jsxs)("div",{className:"flex items-center mb-2 gap-2",children:[" ",(0,x.jsx)("input",{type:"text",placeholder:"".concat(t," ").concat(a+1),value:e.text,onChange:e=>O(r,"update",a,e.target.value),className:"flex-1 p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/50 transition-all duration-200 backdrop-blur-sm"}),s.length>1&&(0,x.jsx)("button",{type:"button",onClick:()=>O(r,"remove",a),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-100 dark:hover:bg-red-800 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-label":"Eliminar ".concat(t.toLowerCase()),children:(0,x.jsx)(i.A,{size:18})})]},"".concat(r,"-").concat(a)))),(0,x.jsxs)("button",{type:"button",onClick:()=>O(r,"add"),className:"mt-1 text-sm text-emerald-600 hover:text-emerald-800 dark:text-emerald-400 dark:hover:text-emerald-300 flex items-center font-medium transition-colors",children:[(0,x.jsx)(n.A,{size:16,className:"mr-1"}),"A\xf1adir ",t.toLowerCase()]})]})}),[O]),D=(0,s.useMemo)((()=>o?"\u270f\ufe0f Editar Receta":"\u2728 Crear Nueva Receta"),[o]),G=(0,s.useMemo)((()=>o?"Guardar Cambios":"Guardar Receta"),[o]);return(0,x.jsx)(u.A,{isOpen:a,onClose:r,title:D,children:(0,x.jsxs)("form",{onSubmit:_,className:"space-y-4 text-slate-800 dark:text-slate-200 text-sm sm:text-base",noValidate:!0,children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"recipe-name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre de la Receta *"})," ",(0,x.jsx)("input",{type:"text",id:"recipe-name",value:p,onChange:S,required:!0,className:"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/50 transition-all duration-200 backdrop-blur-sm",placeholder:"Ej: Pasta a la carbonara"})]}),(0,x.jsx)(L,{label:"Ingredientes \ud83e\udd55 *",fieldName:"ingredients",placeholder:"Ingrediente",fields:k}),(0,x.jsx)(L,{label:"Instrucciones \ud83d\udcdd *",fieldName:"instructions",placeholder:"Paso",fields:v}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"prep-time",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"\u23f1\ufe0f Tiempo de Preparaci\xf3n"})," ",(0,x.jsx)("input",{type:"text",id:"prep-time",value:j,onChange:R,placeholder:"Ej: 30 minutos",className:"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 dark:focus:border-blue-400 dark:focus:ring-blue-400/50 transition-all duration-200 backdrop-blur-sm"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"servings",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"\ud83c\udf7d\ufe0f Porciones"})," ",(0,x.jsx)("input",{type:"number",id:"servings",value:E,min:"1",max:"50",onChange:M,placeholder:"4",className:"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 dark:focus:border-blue-400 dark:focus:ring-blue-400/50 transition-all duration-200 backdrop-blur-sm"})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"\ud83c\udff7\ufe0f Categor\xeda"})," ",(0,x.jsx)("select",{id:"category",value:y,onChange:z,className:"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm focus:ring-2 focus:ring-purple-400 focus:border-purple-400 dark:focus:border-purple-400 dark:focus:ring-purple-400/50 transition-all duration-200 backdrop-blur-sm",children:b.map((e=>(0,x.jsx)("option",{value:e,children:e},e)))})]})," ",(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-3",children:"\ud83d\uddbc\ufe0f Imagen de la Receta (Opcional)"}),(0,x.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,x.jsx)("button",{type:"button",onClick:()=>I("url"),className:"flex-1 p-3 rounded-lg border-2 transition-all duration-200 ".concat("url"===C?"border-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:border-indigo-300"),children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("div",{className:"text-lg mb-1",children:"\ud83d\udd17"}),(0,x.jsx)("div",{className:"text-sm font-medium",children:"URL"})]})}),(0,x.jsx)("button",{type:"button",onClick:()=>I("file"),className:"flex-1 p-3 rounded-lg border-2 transition-all duration-200 ".concat("file"===C?"border-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:border-indigo-300"),children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)(c,{size:20,className:"mx-auto mb-1"}),(0,x.jsx)("div",{className:"text-sm font-medium",children:"Subir"})]})})]}),"url"===C&&(0,x.jsx)("input",{type:"url",id:"image-url",placeholder:"https://ejemplo.com/imagen.jpg",value:N,onChange:T,className:"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400/50 transition-all duration-200 backdrop-blur-sm"}),"file"===C&&(0,x.jsx)("div",{className:"space-y-3",children:(0,x.jsxs)("div",{className:"flex gap-2",children:[(0,x.jsxs)("label",{className:"flex-1 cursor-pointer",children:[(0,x.jsx)("div",{className:"flex items-center justify-center p-4 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg hover:border-indigo-400 transition-colors bg-slate-50 dark:bg-slate-700/50",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)(c,{size:24,className:"mx-auto mb-2 text-slate-400"}),(0,x.jsx)("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Seleccionar imagen"}),(0,x.jsx)("div",{className:"text-xs text-slate-400 mt-1",children:"JPG, PNG, GIF hasta 5MB"})]})}),(0,x.jsx)("input",{type:"file",accept:"image/*",onChange:P,className:"hidden"})]}),(0,x.jsxs)("label",{className:"cursor-pointer",children:[(0,x.jsx)("div",{className:"flex items-center justify-center p-4 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg hover:border-indigo-400 transition-colors bg-slate-50 dark:bg-slate-700/50 w-20",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)(d,{size:20,className:"mx-auto text-slate-400"}),(0,x.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-300 mt-1",children:"C\xe1mara"})]})}),(0,x.jsx)("input",{type:"file",accept:"image/*",capture:"environment",onChange:P,className:"hidden"})]})]})}),(w||"url"===C&&N)&&(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("div",{className:"w-full h-32 bg-slate-100 dark:bg-slate-700 rounded-lg overflow-hidden flex items-center justify-center",children:(0,x.jsx)("img",{src:w||N,alt:"Preview",className:"max-w-full max-h-full object-contain",onError:e=>{e.target.style.display="none"}})}),(0,x.jsx)("button",{type:"button",onClick:U,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",title:"Eliminar imagen",children:(0,x.jsx)(m.A,{size:14})})]})]}),(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-6 border-t border-slate-200 dark:border-slate-600",children:[(0,x.jsx)("button",{type:"button",onClick:r,className:"px-5 py-2.5 text-sm font-medium rounded-lg shadow-sm bg-slate-200 hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",children:"Cancelar"}),(0,x.jsxs)("button",{type:"submit",className:"px-5 py-2.5 text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg shadow-md flex items-center justify-center transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",children:[(0,x.jsx)(n.A,{size:20,className:"mr-2"}),G]})]})]})})},f=s.memo(h,((e,a)=>e.isOpen===a.isOpen&&e.initialRecipe===a.initialRecipe));var p=r(652);const k=(0,o.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),v=(0,o.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var j=r(306);const y=(0,o.A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),N=e=>{let{isOpen:a,onClose:r,shareUrl:t,title:l="Compartir Receta",showToast:i}=e;const[n,o]=(0,s.useState)(!1),c=(0,s.useRef)(null),d=(0,s.useCallback)((e=>new Promise(((a,r)=>{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",t.setAttribute("readonly",""),t.setAttribute("contenteditable","true"),document.body.appendChild(t);try{t.select(),t.setSelectionRange(0,e.length);if(!document.execCommand("copy"))throw new Error("execCommand fall\xf3");a()}catch(s){r(s)}finally{document.body.removeChild(t)}}))),[]),m=(0,s.useCallback)((async()=>{if(null!==t&&void 0!==t&&t.trim())try{navigator.clipboard&&window.isSecureContext?await navigator.clipboard.writeText(t):await d(t),o(!0),null===i||void 0===i||i("\xa1Enlace copiado al portapapeles!","success"),c.current&&clearTimeout(c.current),c.current=setTimeout((()=>{o(!1),c.current=null}),2e3)}catch(e){console.error("Error copiando al portapapeles:",e),null===i||void 0===i||i("No se pudo copiar el enlace","error")}else null===i||void 0===i||i("No hay contenido para copiar","warning")}),[t,i,d]),b=(0,s.useCallback)((()=>{null!==t&&void 0!==t&&t.trim()&&window.open(t,"_blank","noopener,noreferrer")}),[t]),g=(0,s.useMemo)((()=>{if(!t)return!1;try{return new URL(t),!0}catch(e){return!1}}),[t]),h=(0,s.useMemo)((()=>n?(0,x.jsx)(k,{size:16,className:"text-green-600","aria-hidden":"true"}):(0,x.jsx)(v,{size:16,"aria-hidden":"true"})),[n]),f=(0,s.useMemo)((()=>n?"\xa1Copiado!":"Copiar"),[n]),p=(0,s.useMemo)((()=>{const e=n?"bg-green-100 text-green-700 hover:bg-green-200 focus:ring-green-500":"bg-emerald-500 text-white hover:bg-emerald-600 focus:ring-emerald-500";return"".concat("flex items-center gap-2 px-3 py-2 rounded-md font-medium text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat(e)}),[n]),N=(0,s.useMemo)((()=>(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsxs)("div",{className:"text-center text-slate-700 dark:text-slate-300",children:[(0,x.jsxs)("div",{className:"flex items-center justify-center mb-3",children:[(0,x.jsx)(j.A,{size:24,className:"text-emerald-500 mr-2","aria-hidden":"true"}),(0,x.jsx)("p",{className:"text-lg font-medium",children:g?"Comparte este enlace":"Comparte este c\xf3digo"})]}),(0,x.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:g?"Otros usuarios podr\xe1n ver tu receta directamente":"Otros usuarios podr\xe1n importar tu receta con este c\xf3digo"})]})," ",(0,x.jsx)("div",{className:"bg-gradient-to-br from-slate-50 to-emerald-50 dark:from-slate-800/60 dark:to-slate-700/40 border border-slate-200 dark:border-emerald-400/30 rounded-lg p-4 backdrop-blur-sm",children:(0,x.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,x.jsx)("div",{className:"flex-1 min-w-0",children:(0,x.jsx)("p",{className:"font-mono text-sm text-slate-800 dark:text-slate-200 break-all leading-relaxed",children:t})}),(0,x.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g&&(0,x.jsx)("button",{onClick:b,className:"p-2 text-slate-600 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",title:"Abrir enlace en nueva pesta\xf1a","aria-label":"Abrir enlace en nueva pesta\xf1a",children:(0,x.jsx)(y,{size:16})}),(0,x.jsxs)("button",{onClick:m,className:p,disabled:n,"aria-label":n?"Enlace copiado":"Copiar enlace al portapapeles",children:[h,(0,x.jsx)("span",{children:f})]})]})]})}),(0,x.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-center bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:(0,x.jsxs)("p",{className:"flex items-center justify-center",children:[(0,x.jsx)("span",{className:"mr-2","aria-hidden":"true",children:"\ud83d\udca1"}),g?"Aseg\xfarate de que la receta est\xe9 disponible p\xfablicamente":"El destinatario necesitar\xe1 la funci\xf3n de importar para usar este c\xf3digo"]})}),(0,x.jsx)("div",{className:"flex justify-end pt-2 border-t border-slate-200 dark:border-slate-600",children:(0,x.jsx)("button",{onClick:r,className:"px-5 py-2.5 text-sm font-medium rounded-lg shadow-sm bg-slate-200 hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",children:"Cerrar"})})]})),[g,t,p,h,f,n,m,b,r]);return s.useEffect((()=>()=>{c.current&&clearTimeout(c.current)}),[]),(0,x.jsx)(u.A,{isOpen:a,onClose:r,title:l,children:N})},w=s.memo(N,((e,a)=>e.isOpen===a.isOpen&&e.shareUrl===a.shareUrl&&e.title===a.title));var C=r(212),E=r(889),A=r(88),O=r(118),S=r(360),R=r(272);const M="recipes",z="Todas las categor\xedas",T=async()=>await(0,C.Ze)(M,[...E.ko]),I=async e=>await(0,C.iu)(M,e),P=e=>{let{showToast:a,setUserRecipes:r}=e;const[i,o]=(0,s.useState)([]),[c,d]=(0,s.useState)(!1),[m,b]=(0,s.useState)(null),[g,h]=(0,s.useState)(""),[k,v]=(0,s.useState)(z),[j,y]=(0,s.useState)(null),[N,C]=(0,s.useState)(!1),[M,P]=(0,s.useState)(null),[U,_]=(0,s.useState)(!1),[L,D]=(0,s.useState)("");(0,s.useEffect)((()=>{(async()=>{try{const e=await T(),a=Array.isArray(e)?e:[...E.ko];o(a)}catch(e){console.error("Error cargando recetas:",e),o([...E.ko]),null===a||void 0===a||a("Error cargando recetas, usando valores por defecto","warning")}})()}),[a]);const G=(0,s.useCallback)((async e=>{try{const a=Array.isArray(e)?e:[];await I(a),o(a),null===r||void 0===r||r(a)}catch(t){console.error("Error guardando recetas:",t),null===a||void 0===a||a("Error guardando recetas","error")}}),[r,a]),F=(0,s.useCallback)((()=>"receta-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))),[]),H=(0,s.useCallback)((async e=>{let r;m?(r=i.map((a=>a.id===m.id?(0,t.A)((0,t.A)((0,t.A)({},m),e),{},{updatedAt:(new Date).toISOString()}):a)),null===a||void 0===a||a("Receta actualizada exitosamente","success")):(r=[...i,(0,t.A)((0,t.A)({},e),{},{id:F(),createdAt:(new Date).toISOString()})],null===a||void 0===a||a("Receta creada exitosamente","success")),await G(r),d(!1),b(null)}),[m,i,G,a,F]),B=(0,s.useCallback)((e=>{P(e),C(!0)}),[]),q=(0,s.useCallback)((async()=>{if(!M)return;const e=i.filter((e=>e.id!==M));await G(e),null===a||void 0===a||a("Receta eliminada exitosamente","success"),C(!1),P(null)}),[M,i,G,a]),V=(0,s.useCallback)((()=>{C(!1),P(null)}),[]),X=(0,s.useCallback)((e=>{const r="".concat(window.location.origin,"/recipe/").concat(e.id);D(r),_(!0),null===a||void 0===a||a("Enlace de receta listo para compartir","info")}),[a]),Y=(0,s.useCallback)((()=>{b(null),d(!0)}),[]),W=(0,s.useCallback)((e=>{b(e),d(!0)}),[]),K=(0,s.useCallback)((()=>{d(!1),b(null)}),[]),Q=(0,s.useMemo)((()=>i.filter((e=>{const a=e.name.toLowerCase().includes(g.toLowerCase()),r=k===z||e.category===k;return a&&r}))),[i,g,k]),J=(0,s.useCallback)((e=>"".concat("https://placehold.co/600x300/E2E8F0/A0AEC0?text=").concat(encodeURIComponent(e||"Receta"))),[]),Z=(0,s.useMemo)((()=>e=>{var a,r;let{recipe:t,onClose:s}=e;if(!t)return null;const l=J(t.name);return(0,x.jsx)(u.A,{isOpen:!!t,onClose:s,title:"",children:(0,x.jsxs)("div",{className:"flex flex-col items-center",children:[(0,x.jsx)("h2",{className:"text-2xl font-extrabold text-emerald-700 dark:text-emerald-300 tracking-tight mb-2 text-center",children:t.name}),t.category&&(0,x.jsx)("span",{className:"inline-block bg-amber-200 text-amber-800 text-xs font-bold px-3 py-1 rounded-full mb-3 tracking-wide",children:t.category})," ",(0,x.jsx)("div",{className:"w-full h-48 bg-slate-100 dark:bg-slate-700 rounded-xl mb-4 flex items-center justify-center overflow-hidden",children:(0,x.jsx)("img",{src:t.imageUrl||l,alt:"Imagen de ".concat(t.name),className:"w-full h-48 object-contain",style:{objectPosition:"center"},loading:"lazy",decoding:"async",onError:e=>{e.target.onerror=null,e.target.src=l}})})," ",(0,x.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full mb-4",children:[(0,x.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-emerald-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 flex items-center gap-2 border dark:border-emerald-400/20 backdrop-blur-sm",children:[(0,x.jsx)(A.A,{size:18,className:"text-emerald-500 flex-shrink-0","aria-hidden":"true"}),(0,x.jsx)("span",{className:"font-semibold",children:"Tiempo:"}),(0,x.jsx)("span",{className:"truncate",children:t.prepTime||"No especificado"})]})," ",(0,x.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 flex items-center gap-2 border dark:border-blue-400/20 backdrop-blur-sm",children:[(0,x.jsx)(O.A,{size:18,className:"text-emerald-500 flex-shrink-0","aria-hidden":"true"}),(0,x.jsx)("span",{className:"font-semibold",children:"Porciones:"}),(0,x.jsx)("span",{className:"truncate",children:t.servings?"".concat(t.servings," personas"):"No especificado"})]})]}),(0,x.jsxs)("div",{className:"w-full mb-4",children:[(0,x.jsxs)("h3",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-2 flex items-center",children:[(0,x.jsx)("span",{className:"mr-2","aria-hidden":"true",children:"\ud83d\udcdd"}),"Ingredientes"]}),(0,x.jsxs)("ul",{className:"list-disc list-inside text-left space-y-1 bg-gradient-to-br from-emerald-50 to-slate-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 border dark:border-emerald-400/20 backdrop-blur-sm",children:[" ",(null===(a=t.ingredients)||void 0===a?void 0:a.length)>0?t.ingredients.map(((e,a)=>(0,x.jsx)("li",{className:"text-slate-700 dark:text-slate-200",children:e},"".concat(t.id,"-ingredient-").concat(a,"-").concat(e.slice(0,10))))):(0,x.jsx)("li",{className:"text-slate-400 italic",children:"Sin ingredientes especificados"})]})]}),(0,x.jsxs)("div",{className:"w-full mb-2",children:[(0,x.jsxs)("h3",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-2 flex items-center",children:[(0,x.jsx)("span",{className:"mr-2","aria-hidden":"true",children:"\ud83d\udc68\u200d\ud83c\udf73"}),"Instrucciones"]}),(0,x.jsxs)("ol",{className:"list-decimal list-inside text-left space-y-2 bg-gradient-to-br from-blue-50 to-slate-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 border dark:border-blue-400/20 backdrop-blur-sm",children:[" ",(null===(r=t.instructions)||void 0===r?void 0:r.length)>0?t.instructions.map(((e,a)=>(0,x.jsx)("li",{className:"text-slate-700 dark:text-slate-200",children:e},"".concat(t.id,"-instruction-").concat(a,"-").concat(e.slice(0,10))))):(0,x.jsx)("li",{className:"text-slate-400 italic",children:"Sin instrucciones especificadas"})]})]})]})})}),[J]),$=(0,s.useMemo)((()=>(0,x.jsxs)("div",{className:"col-span-full text-center text-slate-500 py-8 sm:py-10",children:[(0,x.jsx)("div",{className:"text-base sm:text-lg mb-4",children:g||k!==z?"No hay recetas que coincidan con tu b\xfasqueda.":"No tienes recetas guardadas a\xfan."}),!g&&k===z&&(0,x.jsxs)("button",{onClick:Y,className:"inline-flex items-center px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-medium transition-colors",children:[(0,x.jsx)(n.A,{size:18,className:"mr-2"}),"Crear tu primera receta"]})]})),[g,k,Y]);return(0,x.jsxs)("div",{className:"w-full px-1 sm:px-2 md:px-4",children:[(0,x.jsx)("div",{className:"px-1 sm:px-0",children:(0,x.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2",children:(0,x.jsxs)("div",{className:"w-full flex flex-col sm:flex-row gap-2 sm:gap-3 justify-center",children:[(0,x.jsxs)("div",{className:"flex-1 min-w-0",children:[" ",(0,x.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow p-1.5 flex items-center",children:(0,x.jsx)("input",{type:"text",placeholder:"Buscar recetas por nombre...",value:g,onChange:e=>h(e.target.value),className:"w-full p-1.5 rounded-md border border-emerald-200 dark:border-emerald-400/30 focus:border-emerald-700 dark:focus:border-emerald-400 focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400/50 focus:ring-offset-2 text-sm bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 transition-all duration-200 outline-none backdrop-blur-sm","aria-label":"Buscar recetas por nombre"})})]}),(0,x.jsx)("div",{className:"flex-shrink-0 min-w-[160px]",children:(0,x.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow p-1.5 flex items-center",children:(0,x.jsxs)("select",{value:k,onChange:e=>v(e.target.value),className:"w-full p-1.5 rounded-md border border-emerald-200 dark:border-emerald-400/30 focus:border-emerald-700 dark:focus:border-emerald-400 focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400/50 focus:ring-offset-2 text-sm bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 transition-all duration-200 outline-none backdrop-blur-sm","aria-label":"Filtrar por categor\xeda",children:[(0,x.jsx)("option",{value:z,children:z}),R.R6.map((e=>(0,x.jsx)("option",{value:e,children:e},e)))]})})})]})})}),(0,x.jsx)("div",{className:"mt-4 sm:mt-6",children:(0,x.jsx)("div",{className:"w-full px-1 sm:px-3",children:(0,x.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-x-3 gap-y-5 sm:gap-x-4 sm:gap-y-6",children:[Q.length>0?Q.map((e=>(0,x.jsx)(l.A,{recipe:e,onEdit:()=>W(e),onDelete:B,onShowDetails:()=>y(e),onShare:()=>X(e)},e.id))):$,Q.length>0&&(0,x.jsx)("button",{onClick:Y,className:"flex items-center justify-center px-4 py-8 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl text-base font-semibold shadow-lg transition-all hover:shadow-xl hover:-translate-y-1 border-2 border-dashed border-emerald-400 hover:border-emerald-300","aria-label":"Crear nueva receta",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)(n.A,{size:24,className:"mx-auto mb-2"}),(0,x.jsx)("span",{children:"Nueva Receta"})]})})]})})}),(0,x.jsx)(f,{isOpen:c,onClose:K,onSave:H,initialRecipe:m}),(0,x.jsx)(Z,{recipe:j,onClose:()=>y(null)}),(0,x.jsx)(p.A,{isOpen:N,onClose:V,onConfirm:q,title:"\ud83d\uddd1\ufe0f Confirmar Eliminaci\xf3n",message:"\xbfEst\xe1s seguro de que quieres eliminar esta receta? Tambi\xe9n se quitar\xe1 del planificador y esta acci\xf3n no se puede deshacer.",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",variant:"danger"}),(0,x.jsx)(w,{isOpen:U,onClose:()=>_(!1),shareUrl:L,title:"Compartir Receta"}),(0,x.jsx)("button",{onClick:Y,className:"fixed bottom-8 right-8 z-50 bg-gradient-to-br from-pink-400 to-emerald-500 hover:from-pink-500 hover:to-emerald-600 text-white rounded-full shadow-lg w-14 h-14 flex items-center justify-center transition-all hover:shadow-xl hover:scale-110 focus:outline-none focus:ring-4 focus:ring-emerald-500 focus:ring-offset-2",title:"Crear nueva receta","aria-label":"Crear nueva receta",children:(0,x.jsx)(S.A,{size:28,"aria-hidden":"true"})})]})},U=s.memo(P,((e,a)=>e.showToast===a.showToast&&e.setUserRecipes===a.setUserRecipes))},306:(e,a,r)=>{r.d(a,{A:()=>t});const t=(0,r(784).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},360:(e,a,r)=>{r.d(a,{A:()=>t});const t=(0,r(784).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},504:(e,a,r)=>{r.d(a,{A:()=>b});var t=r(43),s=r(88),l=r(118),i=r(306),n=r(784);const o=(0,n.A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);var c=r(855);const d=(0,n.A)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var m=r(614),u=r(579);const x=(0,t.memo)((e=>{let{recipe:a,onEdit:r,onDelete:n,onShare:x,onSelect:b,onShowDetails:g,isSelected:h=!1,isDraggable:f=!1,showDeleteButton:p=!1}=e;const k=(0,t.useMemo)((()=>{const e=a.name||"Receta";return"https://placehold.co/600x300/E2E8F0/A0AEC0?text=".concat(encodeURIComponent(e))}),[a.name]),v=(0,t.useCallback)((e=>{f&&(e.dataTransfer.setData("recipeId",a.id),e.dataTransfer.effectAllowed="move")}),[f,a.id]),j=(0,t.useCallback)((e=>{e.target.closest("button")||(g?g(a):b&&!f&&b(a))}),[g,b,f,a]),y=(0,t.useCallback)((e=>{e.target.onerror=null,e.target.src=k}),[k]),N=(0,t.useCallback)((e=>{e.stopPropagation(),null===x||void 0===x||x(a)}),[x,a]),w=(0,t.useCallback)((e=>{e.stopPropagation(),null===r||void 0===r||r(a)}),[r,a]),C=(0,t.useCallback)((e=>{e.stopPropagation(),null===n||void 0===n||n(a.id)}),[n,a.id]),E=(0,t.useMemo)((()=>{const e=h?"ring-2 ring-emerald-500":"",a=f?"cursor-grab":"cursor-pointer";return"".concat("bg-white dark:bg-gradient-to-br dark:from-slate-800/90 dark:to-slate-700/70 rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 backdrop-blur-sm border dark:border-slate-600/30"," ").concat(e," ").concat(a)}),[h,f]),A=(0,t.useMemo)((()=>(0,u.jsxs)("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-300 mb-2 space-x-2",children:[a.prepTime&&(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(s.A,{size:12,className:"mr-1 text-emerald-500","aria-hidden":"true"}),(0,u.jsx)("span",{children:a.prepTime})]}),a.servings&&(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(l.A,{size:12,className:"mr-1 text-emerald-500","aria-hidden":"true"}),(0,u.jsxs)("span",{children:[a.servings," porc."]})]})]})),[a.prepTime,a.servings]),O=(0,t.useMemo)((()=>p||!r&&!n&&!x?null:(0,u.jsxs)("div",{className:"mt-3 pt-2 border-t dark:border-slate-600 flex justify-end space-x-1.5",children:[x&&(0,u.jsx)("button",{onClick:N,className:"p-1.5 rounded-full hover:bg-blue-100 dark:hover:bg-slate-600 text-blue-500 dark:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors",title:"Compartir Receta","aria-label":"Compartir receta ".concat(a.name),children:(0,u.jsx)(i.A,{size:16})}),r&&(0,u.jsx)("button",{onClick:w,className:"p-1.5 rounded-full hover:bg-emerald-100 dark:hover:bg-slate-600 text-emerald-600 dark:text-slate-300 focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors",title:"Editar Receta","aria-label":"Editar receta ".concat(a.name),children:(0,u.jsx)(o,{size:16})}),n&&(0,u.jsx)("button",{onClick:C,className:"p-1.5 rounded-full hover:bg-red-100 dark:hover:bg-slate-600 text-red-500 dark:text-slate-300 focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors",title:"Eliminar Receta","aria-label":"Eliminar receta ".concat(a.name),children:(0,u.jsx)(c.A,{size:16})})]})),[p,r,n,x,N,w,C,a.name]);return(0,u.jsxs)("article",{className:E,onClick:j,draggable:f,onDragStart:v,role:b?"button":void 0,tabIndex:b?0:void 0,"aria-selected":h,"aria-label":"Receta: ".concat(a.name),children:[" ",(0,u.jsxs)("div",{className:"relative bg-slate-100 dark:bg-slate-700 h-32 flex items-center justify-center pt-2",children:[(0,u.jsx)("img",{className:"w-full h-28 object-contain",src:a.imageUrl||k,alt:"Imagen de ".concat(a.name),loading:"lazy",decoding:"async",onError:y}),f&&(0,u.jsx)(d,{size:16,className:"absolute top-2 right-2 text-white bg-black bg-opacity-50 rounded p-0.5","aria-hidden":"true"}),p&&n&&(0,u.jsx)("button",{onClick:C,className:"absolute top-1.5 right-1.5 p-1 bg-red-100 text-red-500 rounded-full hover:bg-red-200 dark:bg-red-800 dark:text-red-300 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors",title:"Quitar receta del d\xeda","aria-label":"Quitar ".concat(a.name," del d\xeda"),children:(0,u.jsx)(m.A,{size:14})})]}),(0,u.jsxs)("div",{className:"p-3",children:[(0,u.jsx)("h3",{className:"text-base sm:text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-1 truncate tracking-tight",title:a.name,children:a.name}),a.category&&(0,u.jsx)("span",{className:"inline-block bg-amber-200 text-amber-800 text-xs font-bold px-2 py-0.5 rounded-full mb-2 tracking-wide truncate max-w-full",children:a.category}),A,O]})]})}));x.displayName="RecipeCard";const b=x},625:(e,a,r)=>{r.d(a,{A:()=>n});var t=r(43),s=r(614),l=r(579);const i=e=>{let{isOpen:a,onClose:r,title:i,children:n,onKeyDown:o}=e;const c=(0,t.useCallback)((()=>{r&&r()}),[r]),d=(0,t.useCallback)((e=>{e.target===e.currentTarget&&c()}),[c]),m=(0,t.useCallback)((e=>{"Escape"===e.key&&c(),o&&o(e)}),[c,o]);return(0,t.useEffect)((()=>{if(a){const e=document.body.style.overflow;return document.body.style.overflow="hidden",document.addEventListener("keydown",m),()=>{document.body.style.overflow=e||"auto",document.removeEventListener("keydown",m)}}document.body.style.overflow="auto"}),[a,m]),a?(0,l.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex justify-center items-center z-50 p-4 animate-in fade-in duration-200",onClick:d,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-content",children:[" ",(0,l.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] min-h-0 flex flex-col animate-in zoom-in-95 duration-200 overflow-hidden",children:[(0,l.jsxs)("header",{className:"flex justify-between items-center p-6 pb-4 border-b border-slate-200 dark:border-slate-600 flex-shrink-0",children:[(0,l.jsx)("h2",{id:"modal-title",className:"text-2xl font-bold text-emerald-700 dark:text-emerald-400 pr-8",children:i}),(0,l.jsx)("button",{type:"button",onClick:c,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-all duration-200 p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 flex-shrink-0","aria-label":"Cerrar modal",children:(0,l.jsx)(s.A,{size:24})})]}),(0,l.jsx)("main",{id:"modal-content",className:"flex-1 min-h-0 p-6 pt-4 overflow-y-auto overflow-x-hidden custom-scrollbar focus:outline-none",tabIndex:-1,style:{maxHeight:"calc(90vh - 100px)",overflowY:"auto",WebkitOverflowScrolling:"touch"},children:n})]})]}):null},n=t.memo(i,((e,a)=>e.isOpen===a.isOpen&&e.title===a.title&&e.children===a.children))},652:(e,a,r)=>{r.d(a,{A:()=>o});var t=r(43),s=r(625),l=r(719),i=r(579);const n=e=>{let{isOpen:a,onClose:r,onConfirm:n,title:o="Confirmaci\xf3n",message:c="\xbfEst\xe1s seguro?",confirmButtonText:d="Confirmar",cancelButtonText:m="Cancelar",variant:u="danger"}=e;const x=(0,t.useMemo)((()=>{const e={danger:"bg-red-600 hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",info:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"};return{confirm:"px-4 py-2 text-sm font-medium text-white rounded-lg shadow-sm \n                flex items-center transition-all duration-200 \n                focus:outline-none focus:ring-2 focus:ring-offset-2 \n                ".concat(e[u]||e.danger),cancel:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 \n               hover:bg-slate-200 dark:bg-gradient-to-br dark:from-slate-800/70 dark:to-slate-700/50 dark:text-slate-200 \n               dark:hover:bg-slate-600 rounded-lg shadow-sm transition-all \n               duration-200 focus:outline-none focus:ring-2 focus:ring-slate-500 \n               focus:ring-offset-2 backdrop-blur-sm border dark:border-slate-600/30"}}),[u]),b=(0,t.useCallback)((()=>{n&&n()}),[n]),g=(0,t.useCallback)((()=>{r&&r()}),[r]),h=(0,t.useCallback)((e=>{"Enter"===e.key?b():"Escape"===e.key&&g()}),[b,g]);return a?(0,i.jsxs)(s.A,{isOpen:a,onClose:r,title:o,onKeyDown:h,children:[(0,i.jsx)("div",{className:"text-slate-700 dark:text-slate-300 mb-6",children:(0,i.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,i.jsx)("div",{className:"flex-shrink-0",children:(0,i.jsx)(l.A,{size:20,className:"".concat("danger"===u?"text-red-500":"warning"===u?"text-yellow-500":"text-blue-500"),"aria-hidden":"true"})}),(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)("p",{className:"text-sm leading-relaxed",children:c})})]})}),(0,i.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-slate-200 dark:border-slate-600",children:[(0,i.jsx)("button",{type:"button",onClick:g,className:x.cancel,"aria-label":"Cancelar acci\xf3n",children:m}),(0,i.jsxs)("button",{type:"button",onClick:b,className:x.confirm,"aria-label":"Confirmar: ".concat(c),autoFocus:!0,children:[(0,i.jsx)(l.A,{size:16,className:"mr-2","aria-hidden":"true"}),d]})]})]}):null},o=t.memo(n)},781:(e,a,r)=>{r.d(a,{A:()=>t});const t=(0,r(784).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},855:(e,a,r)=>{r.d(a,{A:()=>t});const t=(0,r(784).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=274.1d0943da.chunk.js.map