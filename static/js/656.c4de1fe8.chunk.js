/*! For license information please see 656.c4de1fe8.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkrecetario_magico=self.webpackChunkrecetario_magico||[]).push([[656],{100:(e,t,a)=>{a.d(t,{A:()=>l});var r=a(555),o=a(43);const l=()=>{const[e,t]=(0,o.useState)({}),a="recetario_recipe_likes";(0,o.useEffect)((()=>{try{const e=localStorage.getItem(a);if(e){const a=JSON.parse(e);t(a)}}catch(e){console.warn("Error cargando likes desde localStorage:",e),t({})}}),[]);const l=(0,o.useCallback)((e=>{try{localStorage.setItem(a,JSON.stringify(e)),t(e)}catch(r){console.warn("Error guardando likes en localStorage:",r)}}),[]),s=(0,o.useCallback)((t=>e[t]||0),[e]),n=(0,o.useCallback)((e=>{const t="".concat(a,"_user_likes");try{const a=localStorage.getItem(t);if(a){return JSON.parse(a)[e]||!1}}catch(r){console.warn("Error verificando like del usuario:",r)}return!1}),[]),i=(0,o.useCallback)((t=>{const o="".concat(a,"_user_likes"),i=s(t),c=n(t);try{const a=(0,r.A)((0,r.A)({},e),{},{[t]:c?Math.max(0,i-1):i+1});l(a);const s=localStorage.getItem(o),n=s?JSON.parse(s):{},d=(0,r.A)((0,r.A)({},n),{},{[t]:!c});return localStorage.setItem(o,JSON.stringify(d)),!c}catch(d){return console.warn("Error actualizando like:",d),c}}),[e,s,n,l]),c=(0,o.useCallback)((t=>{const a=(0,r.A)({},e);let o=!1;t.forEach((e=>{e.id in a||(a[e.id]=0,o=!0)})),o&&l(a)}),[e,l]);return{getLikes:s,hasUserLiked:n,toggleLike:i,initializeRecipeLikes:c,likes:e}}},118:(e,t,a)=>{a.d(t,{A:()=>r});const r=(0,a(784).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},184:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(43);const o=(0,a(784).A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var l=a(579);const s=(0,r.memo)((e=>{let{recipeId:t,likesCount:a,isLiked:s,onToggleLike:n,size:i="md",showCount:c=!0}=e;const d={sm:{icon:14,padding:"p-1",text:"text-xs",gap:"gap-1"},md:{icon:16,padding:"p-1.5",text:"text-sm",gap:"gap-1.5"},lg:{icon:18,padding:"p-2",text:"text-base",gap:"gap-2"}}[i],u=(0,r.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),n&&n(t)}),[t,n]),g="\n    recipe-action-button inline-flex items-center ".concat(d.gap," ").concat(d.padding,"\n    rounded-full transition-all duration-200 focus:outline-none focus:ring-2 \n    focus:ring-offset-2 transform hover:scale-110 active:scale-95\n    ").concat(s?"bg-yellow-100 hover:bg-yellow-200 dark:bg-yellow-800/30 dark:hover:bg-yellow-700/40 focus:ring-yellow-500":"bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 focus:ring-slate-500","\n  ").trim(),m="\n    transition-all duration-200\n    ".concat(s?"text-yellow-500 fill-current drop-shadow-sm":"text-slate-400 dark:text-slate-500 hover:text-yellow-400","\n  "),x="\n    font-medium transition-colors duration-200 ".concat(d.text,"\n    ").concat(s?"text-yellow-700 dark:text-yellow-300":"text-slate-600 dark:text-slate-400","\n  ");return(0,l.jsxs)("button",{onClick:u,className:g,title:s?"Quitar me gusta":"Me gusta","aria-label":"".concat(s?"Quitar":"Dar"," me gusta a la receta. ").concat(a," likes actuales"),type:"button",children:[(0,l.jsx)(o,{size:d.icon,className:m,style:{filter:s?"drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1))":"none"}}),c&&(0,l.jsx)("span",{className:x,"aria-hidden":"true",children:a})]})}));s.displayName="LikeButton";const n=s},306:(e,t,a)=>{a.d(t,{A:()=>r});const r=(0,a(784).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},504:(e,t,a)=>{a.d(t,{A:()=>f});var r=a(43),o=a(88),l=a(118),s=a(306),n=a(784);const i=(0,n.A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);var c=a(855);const d=(0,n.A)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var u=a(614),g=a(563),m=a(532),x=a(184),b=a(100),k=a(579);const h=(0,r.memo)((e=>{let{recipe:t,onEdit:a,onDelete:n,onShare:h,onSelect:f,onShowDetails:p,isSelected:y=!1,isDraggable:v=!1,showDeleteButton:w=!1}=e;const{isTouchDevice:j}=(0,g.B)(),{selectedRecipeForMobile:C,isAddingToDay:N,selectRecipeForMobile:A}=(0,m.c)(),{getLikes:E,hasUserLiked:S,toggleLike:z}=(0,b.A)(),L=(null===C||void 0===C?void 0:C.id)===t.id,M=(0,r.useMemo)((()=>{const e=t.name||"Receta";return"https://placehold.co/600x300/E2E8F0/A0AEC0?text=".concat(encodeURIComponent(e))}),[t.name]),T=(0,r.useCallback)((e=>{v&&(e.dataTransfer.setData("recipeId",t.id),e.dataTransfer.effectAllowed="move")}),[v,t.id]),D=(0,r.useCallback)((e=>{e.target.closest("button")||(j&&v&&!N?A(t):p?p(t):f&&!v&&f(t))}),[p,f,v,t,j,N,A]),I=(0,r.useCallback)((e=>{e.target.onerror=null,e.target.src=M}),[M]),O=(0,r.useCallback)((e=>{e.stopPropagation(),null===h||void 0===h||h(t)}),[h,t]),R=(0,r.useCallback)((e=>{e.stopPropagation(),null===a||void 0===a||a(t)}),[a,t]),W=(0,r.useCallback)((e=>{e.stopPropagation(),null===n||void 0===n||n(t.id)}),[n,t.id]),_=(0,r.useMemo)((()=>{const e=y||L?"ring-2 ring-emerald-500":"",t=v?j?"cursor-pointer":"cursor-grab":"cursor-pointer",a=L?"bg-emerald-50 dark:bg-emerald-900/20":"";return"".concat("bg-white dark:bg-gradient-to-br dark:from-slate-800/90 dark:to-slate-700/70 rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 backdrop-blur-sm border dark:border-slate-600/30"," ").concat(e," ").concat(t," ").concat(a)}),[y,v,j,L]),P=(0,r.useMemo)((()=>(0,k.jsxs)("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-300 mb-2 space-x-2",children:[t.prepTime&&(0,k.jsxs)("div",{className:"flex items-center recipe-action-button",children:[(0,k.jsx)(o.A,{size:12,className:"mr-1","aria-hidden":"true",style:{color:"#059669",stroke:"#059669",strokeWidth:1.5}}),(0,k.jsx)("span",{children:t.prepTime})]}),t.servings&&(0,k.jsxs)("div",{className:"flex items-center recipe-action-button",children:[(0,k.jsx)(l.A,{size:12,className:"mr-1","aria-hidden":"true",style:{color:"#059669",stroke:"#059669",strokeWidth:1.5}}),(0,k.jsxs)("span",{children:[t.servings," porc."]})]})]})),[t.prepTime,t.servings]),J=(0,r.useMemo)((()=>w||!a&&!n&&!h?null:(0,k.jsxs)("div",{className:"mt-3 pt-2 border-t dark:border-slate-600 flex justify-end space-x-1.5",children:[" ",h&&(0,k.jsx)("button",{onClick:O,className:"recipe-action-button p-1.5 rounded-full hover:bg-blue-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors",title:"Compartir Receta","aria-label":"Compartir receta ".concat(t.name),children:(0,k.jsx)(s.A,{size:16,style:{color:"#2563eb",stroke:"#2563eb",strokeWidth:2}})}),a&&(0,k.jsx)("button",{onClick:R,className:"recipe-action-button p-1.5 rounded-full hover:bg-emerald-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors",title:"Editar Receta","aria-label":"Editar receta ".concat(t.name),children:(0,k.jsx)(i,{size:16,style:{color:"#16a34a",stroke:"#16a34a",strokeWidth:2}})}),n&&(0,k.jsx)("button",{onClick:W,className:"recipe-action-button p-1.5 rounded-full hover:bg-red-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors",title:"Eliminar Receta","aria-label":"Eliminar receta ".concat(t.name),children:(0,k.jsx)(c.A,{size:16,style:{color:"#dc2626",stroke:"#dc2626",strokeWidth:2}})})]})),[w,a,n,h,O,R,W,t.name]);return(0,k.jsxs)("article",{className:_,onClick:D,draggable:v,onDragStart:T,role:f?"button":void 0,tabIndex:f?0:void 0,"aria-selected":y,"aria-label":"Receta: ".concat(t.name),children:[" ",(0,k.jsxs)("div",{className:"relative bg-slate-100 dark:bg-slate-700 h-32 flex items-center justify-center pt-2",children:[(0,k.jsx)("img",{className:"w-full h-28 object-contain",src:t.imageUrl||M,alt:"Imagen de ".concat(t.name),loading:"lazy",decoding:"async",onError:I})," ",v&&!j&&(0,k.jsx)(d,{size:16,className:"absolute top-2 right-2 text-white bg-black bg-opacity-50 rounded p-0.5","aria-hidden":"true"}),v&&j&&(0,k.jsx)("div",{className:"absolute top-2 right-2 bg-emerald-500 text-white text-xs px-2 py-1 rounded-full font-bold",children:"TOCA"}),L&&(0,k.jsx)("div",{className:"absolute top-2 left-2 bg-emerald-500 text-white text-xs px-2 py-1 rounded-full font-bold",children:"\u2713 SELECCIONADA"}),w&&n&&(0,k.jsx)("button",{onClick:W,className:"absolute top-1.5 right-1.5 p-1 bg-red-100 text-red-500 rounded-full hover:bg-red-200 dark:bg-red-800 dark:text-red-300 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors",title:"Quitar receta del d\xeda","aria-label":"Quitar ".concat(t.name," del d\xeda"),children:(0,k.jsx)(u.A,{size:14})})]}),(0,k.jsxs)("div",{className:"p-3",children:[(0,k.jsx)("h3",{className:"text-base sm:text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-1 truncate tracking-tight",title:t.name,children:t.name}),t.category&&(0,k.jsx)("span",{className:"inline-block bg-amber-200 text-amber-800 text-xs font-bold px-2 py-0.5 rounded-full mb-2 tracking-wide truncate max-w-full",children:t.category})," ",P,(0,k.jsx)("div",{className:"flex justify-between items-center",children:(0,k.jsx)(x.A,{recipeId:t.id,likesCount:E(t.id),isLiked:S(t.id),onToggleLike:z,size:"sm",showCount:!0})}),J]})]})}));h.displayName="RecipeCard";const f=h},563:(e,t,a)=>{a.d(t,{B:()=>o});var r=a(43);const o=()=>{const[e,t]=(0,r.useState)({isMobile:!1,isTouchDevice:!1,screenWidth:0});return(0,r.useEffect)((()=>{const e=()=>{const e="ontouchstart"in window||navigator.maxTouchPoints>0,a=window.innerWidth;t({isMobile:a<=768||e,isTouchDevice:e,screenWidth:a})};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),e}},625:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(43),o=a(614),l=a(579);const s=e=>{let{isOpen:t,onClose:a,title:s,children:n,onKeyDown:i}=e;const c=(0,r.useCallback)((()=>{a&&a()}),[a]),d=(0,r.useCallback)((e=>{e.target===e.currentTarget&&c()}),[c]),u=(0,r.useCallback)((e=>{"Escape"===e.key&&c(),i&&i(e)}),[c,i]);return(0,r.useEffect)((()=>{if(t){const e=document.body.style.overflow;return document.body.style.overflow="hidden",document.addEventListener("keydown",u),()=>{document.body.style.overflow=e||"auto",document.removeEventListener("keydown",u)}}document.body.style.overflow="auto"}),[t,u]),t?(0,l.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex justify-center items-center z-50 p-4 animate-in fade-in duration-200",onClick:d,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-content",children:[" ",(0,l.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] min-h-0 flex flex-col animate-in zoom-in-95 duration-200 overflow-hidden",children:[(0,l.jsxs)("header",{className:"flex justify-between items-center p-6 pb-4 border-b border-slate-200 dark:border-slate-600 flex-shrink-0",children:[(0,l.jsx)("h2",{id:"modal-title",className:"text-2xl font-bold text-emerald-700 dark:text-emerald-400 pr-8",children:s}),(0,l.jsx)("button",{type:"button",onClick:c,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-all duration-200 p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 flex-shrink-0","aria-label":"Cerrar modal",children:(0,l.jsx)(o.A,{size:24})})]}),(0,l.jsx)("main",{id:"modal-content",className:"flex-1 min-h-0 p-6 pt-4 overflow-y-auto overflow-x-hidden custom-scrollbar focus:outline-none",tabIndex:-1,style:{maxHeight:"calc(90vh - 100px)",overflowY:"auto",WebkitOverflowScrolling:"touch"},children:n})]})]}):null},n=r.memo(s,((e,t)=>e.isOpen===t.isOpen&&e.title===t.title&&e.children===t.children))},855:(e,t,a)=>{a.d(t,{A:()=>r});const r=(0,a(784).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=656.c4de1fe8.chunk.js.map