/*! For license information please see 281.c41e268d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkrecetario_magico=self.webpackChunkrecetario_magico||[]).push([[281],{118:(e,a,t)=>{t.d(a,{A:()=>r});const r=(0,t(784).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},272:(e,a,t)=>{t.d(a,{R6:()=>i,ug:()=>l});const r=Object.freeze(["Desayuno \ud83e\udd50","Almuerzo \ud83e\udd57","Cena \ud83c\udf5d","Postre \ud83c\udf70","Snack \ud83c\udf7f","Bebida \ud83c\udf79","Otro \u2728"]),s=(Object.freeze(["lunes","martes","miercoles","jueves","viernes","sabado","domingo"]),Object.freeze({lunes:"Lunes",martes:"Martes",miercoles:"Mi\xe9rcoles",jueves:"Jueves",viernes:"Viernes",sabado:"S\xe1bado",domingo:"Domingo"})),l=Object.freeze(["Supermercado","L\xe1cteos","Carnes","Verduras y Frutas","Aseo","Otros"]),o=Object.freeze([Object.freeze({id:"directo-paladar",name:"Directo al Paladar",url:"https://www.directoalpaladar.com/recetas",icon:"\ud83c\udf72",description:"Blog gastron\xf3mico con recetas tradicionales y modernas"}),Object.freeze({id:"elpais-recetas",name:"Recetas de Cocina (El Pa\xeds)",url:"https://elpais.com/elpais/recetas/",icon:"\ud83d\udcf0",description:"Secci\xf3n de recetas del diario El Pa\xeds"}),Object.freeze({id:"gastronomia-cia",name:"Gastronom\xeda & C\xeda",url:"https://www.gastronomiaycia.com/recetas/",icon:"\ud83e\uddd1\u200d\ud83c\udf73",description:"Portal especializado en gastronom\xeda y t\xe9cnicas culinarias"}),Object.freeze({id:"bon-viveur",name:"Bon Viveur",url:"https://www.bonviveur.es/recetas",icon:"\ud83c\udf77",description:"Recetas gourmet y maridajes"}),Object.freeze({id:"divina-cocina",name:"Divina Cocina",url:"https://www.divinacocina.es/recetas/",icon:"\ud83c\udf1f",description:"Recetas caseras y tradicionales"}),Object.freeze({id:"recetas-gratis",name:"Recetas Gratis",url:"https://www.recetasgratis.net/",icon:"\ud83c\udd93",description:"Amplio cat\xe1logo de recetas gratuitas"})]),i=(Object.freeze({TOAST:Object.freeze({DURATION:2500,POSITION:"top-right",MAX_VISIBLE:3}),STORAGE:Object.freeze({PREFIX:"recetario_",VERSION:"v2.0",KEYS:Object.freeze({RECIPES:"recipes",SHOPPING_LIST:"shoppingList",WEEKLY_PLAN:"weeklyPlan",THEME:"theme",USER_CATEGORIES:"userCategories",SHOPPING_CATEGORIES:"shoppingCategories"})}),PERFORMANCE:Object.freeze({AUTO_SAVE_DELAY:500,DEBOUNCE_DELAY:300,SEARCH_DELAY:200,IMAGE_LAZY_THRESHOLD:"200px"}),LIMITS:Object.freeze({MAX_RECIPES:1e3,MAX_SHOPPING_ITEMS:500,MAX_CUSTOM_CATEGORIES:20,MAX_RECIPE_NAME_LENGTH:100,MAX_INGREDIENT_LENGTH:200,MAX_INSTRUCTION_LENGTH:500}),LOCALE:Object.freeze({DATE_FORMAT:"es-ES",DATE_OPTIONS:Object.freeze({weekday:"long",year:"numeric",month:"long",day:"numeric"}),TIME_FORMAT:"es-ES",TIME_OPTIONS:Object.freeze({hour:"2-digit",minute:"2-digit",hour12:!1}),CURRENCY_FORMAT:"es-ES",CURRENCY_OPTIONS:Object.freeze({style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0})})}),Object.freeze({SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info"}),Object.freeze({IDLE:"idle",LOADING:"loading",SUCCESS:"success",ERROR:"error"}),Object.freeze({LIGHT:"light",DARK:"dark",SYSTEM:"system"}),Object.freeze({RECIPE:Object.freeze({NAME:Object.freeze({MIN_LENGTH:2,MAX_LENGTH:100,REQUIRED:!0}),PREP_TIME:Object.freeze({MIN:1,MAX:1440,PATTERN:/^\d+\s?(min|mins|minutos?|h|hr|hrs|horas?)?$/i}),SERVINGS:Object.freeze({MIN:1,MAX:50})}),SHOPPING_ITEM:Object.freeze({NAME:Object.freeze({MIN_LENGTH:1,MAX_LENGTH:100,REQUIRED:!0}),QUANTITY:Object.freeze({MIN:1,MAX:999}),PRICE:Object.freeze({MIN:0,MAX:999999999})})}),Object.freeze({PLACEHOLDER_IMAGE:"https://placehold.co/600x300/E2E8F0/A0AEC0",GITHUB_REPO:"https://github.com/tu-usuario/recetario-app",DOCUMENTATION:"https://docs.recetario-app.com"}),Object.freeze({FAST:"150ms",NORMAL:"200ms",SLOW:"300ms",EASING:Object.freeze({EASE_IN_OUT:"cubic-bezier(0.4, 0, 0.2, 1)",EASE_OUT:"cubic-bezier(0, 0, 0.2, 1)",EASE_IN:"cubic-bezier(0.4, 0, 1, 1)"})}),new Map(Object.entries(s)),new Set(r),new Map(o.map((e=>[e.id,e]))),r)},281:(e,a,t)=>{t.r(a),t.d(a,{default:()=>H});var r=t(555),s=t(43),l=t(504),o=t(855),i=t(781),n=t(784);const c=(0,n.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),d=(0,n.A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var m=t(614),u=t(625),g=t(579);const x=["Desayuno \ud83e\udd50","Almuerzo \ud83e\udd57","Cena \ud83c\udf5d","Postre \ud83c\udf70","Snack \ud83c\udf7f","Bebida \ud83c\udf79","Otro \u2728"],b={name:"",ingredients:[{text:""}],instructions:[{text:""}],prepTime:"",category:x[0],imageUrl:"",imageFile:null,imagePreview:"",imageSource:"url",servings:""},h=e=>{let{isOpen:a,onClose:t,onSave:l,initialRecipe:n}=e;const[h,p]=(0,s.useState)(b),{name:f,ingredients:k,instructions:v,prepTime:y,category:j,imageUrl:N,imagePreview:w,imageSource:C,servings:A}=h;(0,s.useEffect)((()=>{if(a)if(n){var e,t,r;const a=n.imageUrl&&!n.imageUrl.startsWith("data:");p({name:n.name||"",ingredients:(null===(e=n.ingredients)||void 0===e?void 0:e.length)>0?n.ingredients.map((e=>({text:e}))):[{text:""}],instructions:(null===(t=n.instructions)||void 0===t?void 0:t.length)>0?n.instructions.map((e=>({text:e}))):[{text:""}],prepTime:n.prepTime||"",category:n.category||x[0],imageUrl:a?n.imageUrl:"",imageFile:null,imagePreview:!a&&n.imageUrl?n.imageUrl:"",imageSource:a?"url":n.imageUrl?"file":"url",servings:(null===(r=n.servings)||void 0===r?void 0:r.toString())||""})}else p(b)}),[n,a]);const E=(0,s.useCallback)(((e,a)=>{p((t=>(0,r.A)((0,r.A)({},t),{},{[e]:a})))}),[p]),O=(0,s.useCallback)((function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p((l=>{const o=l[e];let i;switch(a){case"add":i=[...o,{text:""}];break;case"remove":i=o.filter(((e,a)=>a!==t)),0===i.length&&(i=[{text:""}]);break;case"update":i=o.map(((e,a)=>a===t?{text:s}:e));break;default:return l}return(0,r.A)((0,r.A)({},l),{},{[e]:i})}))}),[p]),R=(0,s.useCallback)((e=>{E("name",e.target.value)}),[E]),S=(0,s.useCallback)((e=>{E("prepTime",e.target.value)}),[E]),M=(0,s.useCallback)((e=>{E("servings",e.target.value)}),[E]),T=(0,s.useCallback)((e=>{E("category",e.target.value)}),[E]),z=(0,s.useCallback)((e=>{E("imageUrl",e.target.value),"url"===C&&(E("imagePreview",""),E("imageFile",null))}),[E,C]),I=(0,s.useCallback)((e=>{E("imageSource",e),"url"===e?(E("imageFile",null),E("imagePreview","")):E("imageUrl","")}),[E]),P=(0,s.useCallback)((e=>{const a=e.target.files[0];if(a){if(!a.type.startsWith("image/"))return void alert("Por favor selecciona un archivo de imagen v\xe1lido");if(a.size>5242880)return void alert("La imagen es muy grande. Por favor selecciona una imagen menor a 5MB");const e=new FileReader;e.onload=e=>{const t=e.target.result;E("imageFile",a),E("imagePreview",t),E("imageUrl",t)},e.readAsDataURL(a)}}),[E]),U=(0,s.useCallback)((()=>{E("imageFile",null),E("imagePreview",""),E("imageUrl","")}),[E]),L=(0,s.useCallback)((e=>{e.preventDefault();const a={name:f.trim(),ingredients:k.map((e=>e.text.trim())).filter((e=>e.length>0)),instructions:v.map((e=>e.text.trim())).filter((e=>e.length>0)),prepTime:y.trim(),category:j,imageUrl:N.trim(),servings:A?parseInt(A,10):null};a.name?0!==a.ingredients.length?0!==a.instructions.length?l(a):alert("Debe agregar al menos una instrucci\xf3n"):alert("Debe agregar al menos un ingrediente"):alert("El nombre de la receta es obligatorio")}),[f,k,v,y,j,N,A,l]),_=(0,s.useMemo)((()=>e=>{let{label:a,fieldName:t,placeholder:r,fields:s}=e;return(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1.5",children:a}),s.map(((e,a)=>(0,g.jsxs)("div",{className:"flex items-center mb-2 gap-2",children:[" ",(0,g.jsx)("input",{type:"text",placeholder:"".concat(r," ").concat(a+1),value:e.text,onChange:e=>O(t,"update",a,e.target.value),className:"flex-1 p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/50 transition-all duration-200 backdrop-blur-sm"}),s.length>1&&(0,g.jsx)("button",{type:"button",onClick:()=>O(t,"remove",a),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-100 dark:hover:bg-red-800 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-label":"Eliminar ".concat(r.toLowerCase()),children:(0,g.jsx)(o.A,{size:18})})]},"".concat(t,"-").concat(a)))),(0,g.jsxs)("button",{type:"button",onClick:()=>O(t,"add"),className:"mt-1 text-sm text-emerald-600 hover:text-emerald-800 dark:text-emerald-400 dark:hover:text-emerald-300 flex items-center font-medium transition-colors",children:[(0,g.jsx)(i.A,{size:16,className:"mr-1"}),"A\xf1adir ",r.toLowerCase()]})]})}),[O]),D=(0,s.useMemo)((()=>n?"\u270f\ufe0f Editar Receta":"\u2728 Crear Nueva Receta"),[n]),F=(0,s.useMemo)((()=>n?"Guardar Cambios":"Guardar Receta"),[n]);return(0,g.jsx)(u.A,{isOpen:a,onClose:t,title:D,children:(0,g.jsxs)("form",{onSubmit:L,className:"space-y-4 text-slate-800 dark:text-slate-200 text-sm sm:text-base",noValidate:!0,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"recipe-name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Nombre de la Receta *"})," ",(0,g.jsx)("input",{type:"text",id:"recipe-name",value:f,onChange:R,required:!0,className:"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 dark:focus:border-emerald-400 dark:focus:ring-emerald-400/50 transition-all duration-200 backdrop-blur-sm",placeholder:"Ej: Pasta a la carbonara"})]}),(0,g.jsx)(_,{label:"Ingredientes \ud83e\udd55 *",fieldName:"ingredients",placeholder:"Ingrediente",fields:k}),(0,g.jsx)(_,{label:"Instrucciones \ud83d\udcdd *",fieldName:"instructions",placeholder:"Paso",fields:v}),(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"prep-time",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"\u23f1\ufe0f Tiempo de Preparaci\xf3n"})," ",(0,g.jsx)("input",{type:"text",id:"prep-time",value:y,onChange:S,placeholder:"Ej: 30 minutos",className:"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 dark:focus:border-blue-400 dark:focus:ring-blue-400/50 transition-all duration-200 backdrop-blur-sm"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"servings",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"\ud83c\udf7d\ufe0f Porciones"})," ",(0,g.jsx)("input",{type:"number",id:"servings",value:A,min:"1",max:"50",onChange:M,placeholder:"4",className:"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 dark:focus:border-blue-400 dark:focus:ring-blue-400/50 transition-all duration-200 backdrop-blur-sm"})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"\ud83c\udff7\ufe0f Categor\xeda"})," ",(0,g.jsx)("select",{id:"category",value:j,onChange:T,className:"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm focus:ring-2 focus:ring-purple-400 focus:border-purple-400 dark:focus:border-purple-400 dark:focus:ring-purple-400/50 transition-all duration-200 backdrop-blur-sm",children:x.map((e=>(0,g.jsx)("option",{value:e,children:e},e)))})]})," ",(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-3",children:"\ud83d\uddbc\ufe0f Imagen de la Receta (Opcional)"}),(0,g.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,g.jsx)("button",{type:"button",onClick:()=>I("url"),className:"flex-1 p-3 rounded-lg border-2 transition-all duration-200 ".concat("url"===C?"border-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:border-indigo-300"),children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)("div",{className:"text-lg mb-1",children:"\ud83d\udd17"}),(0,g.jsx)("div",{className:"text-sm font-medium",children:"URL"})]})}),(0,g.jsx)("button",{type:"button",onClick:()=>I("file"),className:"flex-1 p-3 rounded-lg border-2 transition-all duration-200 ".concat("file"===C?"border-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:border-indigo-300"),children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)(c,{size:20,className:"mx-auto mb-1"}),(0,g.jsx)("div",{className:"text-sm font-medium",children:"Subir"})]})})]}),"url"===C&&(0,g.jsx)("input",{type:"url",id:"image-url",placeholder:"https://ejemplo.com/imagen.jpg",value:N,onChange:z,className:"w-full p-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-500/30 bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 shadow-sm placeholder-slate-400 dark:placeholder-slate-400 focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400/50 transition-all duration-200 backdrop-blur-sm"}),"file"===C&&(0,g.jsx)("div",{className:"space-y-3",children:(0,g.jsxs)("div",{className:"flex gap-2",children:[(0,g.jsxs)("label",{className:"flex-1 cursor-pointer",children:[(0,g.jsx)("div",{className:"flex items-center justify-center p-4 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg hover:border-indigo-400 transition-colors bg-slate-50 dark:bg-slate-700/50",children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)(c,{size:24,className:"mx-auto mb-2 text-slate-400"}),(0,g.jsx)("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Seleccionar imagen"}),(0,g.jsx)("div",{className:"text-xs text-slate-400 mt-1",children:"JPG, PNG, GIF hasta 5MB"})]})}),(0,g.jsx)("input",{type:"file",accept:"image/*",onChange:P,className:"hidden"})]}),(0,g.jsxs)("label",{className:"cursor-pointer",children:[(0,g.jsx)("div",{className:"flex items-center justify-center p-4 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg hover:border-indigo-400 transition-colors bg-slate-50 dark:bg-slate-700/50 w-20",children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)(d,{size:20,className:"mx-auto text-slate-400"}),(0,g.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-300 mt-1",children:"C\xe1mara"})]})}),(0,g.jsx)("input",{type:"file",accept:"image/*",capture:"environment",onChange:P,className:"hidden"})]})]})}),(w||"url"===C&&N)&&(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("div",{className:"w-full h-32 bg-slate-100 dark:bg-slate-700 rounded-lg overflow-hidden flex items-center justify-center",children:(0,g.jsx)("img",{src:w||N,alt:"Preview",className:"max-w-full max-h-full object-contain",onError:e=>{e.target.style.display="none"}})}),(0,g.jsx)("button",{type:"button",onClick:U,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",title:"Eliminar imagen",children:(0,g.jsx)(m.A,{size:14})})]})]}),(0,g.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-6 border-t border-slate-200 dark:border-slate-600",children:[(0,g.jsx)("button",{type:"button",onClick:t,className:"px-5 py-2.5 text-sm font-medium rounded-lg shadow-sm bg-slate-200 hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",children:"Cancelar"}),(0,g.jsxs)("button",{type:"submit",className:"px-5 py-2.5 text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg shadow-md flex items-center justify-center transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",children:[(0,g.jsx)(i.A,{size:20,className:"mr-2"}),F]})]})]})})},p=s.memo(h,((e,a)=>e.isOpen===a.isOpen&&e.initialRecipe===a.initialRecipe));var f=t(652);const k=(0,n.A)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),v=(0,n.A)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),y=(0,n.A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),j=(0,n.A)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var N=t(306),w=t(963);const C=(0,n.A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),A=(0,n.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),E=(0,n.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),O=e=>{let{isOpen:a,onClose:t,recipe:r,shareUrl:l,showToast:o}=e;const[i,n]=(0,s.useState)(!1),c=(0,s.useRef)(null),d=(0,s.useCallback)((e=>new Promise(((a,t)=>{const r=document.createElement("textarea");r.value=e,r.style.position="fixed",r.style.left="-999999px",r.style.top="-999999px",r.setAttribute("readonly",""),document.body.appendChild(r);try{r.select(),r.setSelectionRange(0,e.length);if(!document.execCommand("copy"))throw new Error("execCommand fall\xf3");a()}catch(s){t(s)}finally{document.body.removeChild(r)}}))),[]),m=(0,s.useCallback)((async()=>{if(null!==l&&void 0!==l&&l.trim())try{navigator.clipboard&&window.isSecureContext?await navigator.clipboard.writeText(l):await d(l),n(!0),null===o||void 0===o||o("\xa1Enlace copiado al portapapeles!","success"),c.current&&clearTimeout(c.current),c.current=setTimeout((()=>{n(!1),c.current=null}),2e3)}catch(e){null===o||void 0===o||o("No se pudo copiar el enlace","error")}else null===o||void 0===o||o("No hay contenido para copiar","warning")}),[l,o,d]),x=(0,s.useMemo)((()=>{if(!r||!l)return[];const e=r.name||"Receta deliciosa",a="".concat(e," - Preparaci\xf3n: ").concat(r.prepTime||"N/A"," | Porciones: ").concat(r.servings||"N/A"),t=encodeURIComponent(a),s=encodeURIComponent(l);return[{name:"Facebook",icon:k,color:"bg-blue-600 hover:bg-blue-700",url:"https://www.facebook.com/sharer/sharer.php?u=".concat(s,"&quote=").concat(t),description:"Compartir en Facebook"},{name:"X (Twitter)",icon:v,color:"bg-black hover:bg-gray-800",url:"https://x.com/intent/tweet?text=".concat(t,"&url=").concat(s,"&hashtags=receta,cocina,RecetarioMagico"),description:"Compartir en X"},{name:"WhatsApp",icon:y,color:"bg-green-600 hover:bg-green-700",url:"https://wa.me/?text=".concat(encodeURIComponent("\xa1Mira esta receta de ".concat(e,"! ").concat(l," #receta #cocina #RecetarioMagico"))),description:"Compartir en WhatsApp"},{name:"Telegram",icon:j,color:"bg-blue-500 hover:bg-blue-600",url:"https://t.me/share/url?url=".concat(s,"&text=").concat(t),description:"Compartir en Telegram"}]}),[r,l]),b=(0,s.useCallback)((e=>{e.url&&(window.open(e.url,"_blank","noopener,noreferrer,width=600,height=400"),null===o||void 0===o||o("Compartiendo en ".concat(e.name,"..."),"info"))}),[o]),h=(0,s.useCallback)((async()=>{if(navigator.share)try{await navigator.share({title:(null===r||void 0===r?void 0:r.name)||"Receta del Recetario M\xe1gico",text:"\xa1Mira esta deliciosa receta de ".concat((null===r||void 0===r?void 0:r.name)||"cocina","! Preparaci\xf3n: ").concat((null===r||void 0===r?void 0:r.prepTime)||"N/A"," | Porciones: ").concat((null===r||void 0===r?void 0:r.servings)||"N/A"),url:l}),null===o||void 0===o||o("\xa1Receta compartida exitosamente!","success")}catch(e){"AbortError"!==e.name&&(null===o||void 0===o||o("Error al compartir","error"))}else null===o||void 0===o||o("Compartir nativo no disponible","warning")}),[r,l,o]),p=(0,s.useMemo)((()=>navigator.share&&/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),[]);return s.useEffect((()=>()=>{c.current&&clearTimeout(c.current)}),[]),r?(0,g.jsx)(u.A,{isOpen:a,onClose:t,title:"Compartir Receta",children:(0,g.jsxs)("div",{className:"space-y-6",children:[(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsxs)("div",{className:"flex items-center justify-center mb-3",children:[(0,g.jsx)(N.A,{size:24,className:"text-emerald-500 mr-2"}),(0,g.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:r.name})]})," ",(0,g.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Comparte esta deliciosa receta - se abrir\xe1 en el Recetario M\xe1gico"})]}),(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsx)("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 text-center",children:"Compartir en redes sociales"}),(0,g.jsx)("div",{className:"grid grid-cols-2 gap-3",children:x.map((e=>(0,g.jsxs)("button",{onClick:()=>b(e),className:"".concat(e.color," text-white p-3 rounded-lg font-medium text-sm transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-800 flex items-center justify-center gap-2 shadow-md"),"aria-label":e.description,children:[(0,g.jsx)(e.icon,{size:18}),(0,g.jsx)("span",{children:e.name})]},e.name)))}),p&&(0,g.jsxs)("button",{onClick:h,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white p-3 rounded-lg font-medium text-sm transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 flex items-center justify-center gap-2 shadow-md",children:[(0,g.jsx)(w.A,{size:18}),(0,g.jsx)("span",{children:"Compartir (Nativo)"})]})]}),(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsx)("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 text-center",children:"O copia el enlace directo"}),(0,g.jsx)("div",{className:"bg-gradient-to-br from-slate-50 to-emerald-50 dark:from-slate-800/60 dark:to-slate-700/40 border border-slate-200 dark:border-emerald-400/30 rounded-lg p-4",children:(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("div",{className:"flex-1 min-w-0",children:(0,g.jsx)("p",{className:"font-mono text-xs text-slate-700 dark:text-slate-300 break-all leading-relaxed",children:l})}),(0,g.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,g.jsx)("button",{onClick:()=>window.open(l,"_blank"),className:"p-2 text-slate-600 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-slate-500",title:"Abrir enlace",children:(0,g.jsx)(C,{size:16})}),(0,g.jsxs)("button",{onClick:m,className:"flex items-center gap-2 px-3 py-2 rounded-md font-medium text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ".concat(i?"bg-green-100 text-green-700 hover:bg-green-200 focus:ring-green-500":"bg-emerald-500 text-white hover:bg-emerald-600 focus:ring-emerald-500"),disabled:i,children:[i?(0,g.jsx)(A,{size:16,className:"text-green-600"}):(0,g.jsx)(E,{size:16}),(0,g.jsx)("span",{children:i?"\xa1Copiado!":"Copiar"})]})]})]})})]})," ",(0,g.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-center bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:(0,g.jsxs)("p",{className:"flex items-center justify-center",children:[(0,g.jsx)("span",{className:"mr-2",children:"\ud83d\udd17"}),"El enlace abrir\xe1 el Recetario M\xe1gico y mostrar\xe1 autom\xe1ticamente esta receta"]})}),(0,g.jsx)("div",{className:"flex justify-end pt-4 border-t border-slate-200 dark:border-slate-600",children:(0,g.jsx)("button",{onClick:t,className:"px-5 py-2.5 text-sm font-medium rounded-lg shadow-sm bg-slate-200 hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",children:"Cerrar"})})]})}):null},R=s.memo(O);var S=t(212),M=t(889),T=t(88),z=t(118),I=t(360),P=t(272),U=t(662);const L="recipes",_="Todas las categor\xedas",D=async()=>await(0,S.Ze)(L,[...M.ko]),F=async e=>await(0,S.iu)(L,e),G=e=>{let{showToast:a,setUserRecipes:t}=e;const[o,n]=(0,s.useState)([]),[c,d]=(0,s.useState)(!1),[m,x]=(0,s.useState)(null),[b,h]=(0,s.useState)(""),[k,v]=(0,s.useState)(_),[y,j]=(0,s.useState)(null),[N,w]=(0,s.useState)(!1),[C,A]=(0,s.useState)(null),[E,O]=(0,s.useState)(!1),[S,L]=(0,s.useState)(""),[G,H]=(0,s.useState)(null);(0,s.useEffect)((()=>{(async()=>{try{const e=await D(),a=Array.isArray(e)?e:[...M.ko];n(a)}catch(e){console.error("Error cargando recetas:",e),n([...M.ko]),null===a||void 0===a||a("Error cargando recetas, usando valores por defecto","warning")}})()}),[a]);const B=(0,s.useCallback)((async e=>{try{const a=Array.isArray(e)?e:[];await F(a),n(a),null===t||void 0===t||t(a)}catch(r){console.error("Error guardando recetas:",r),null===a||void 0===a||a("Error guardando recetas","error")}}),[t,a]),q=(0,s.useCallback)((()=>"receta-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))),[]),W=(0,s.useCallback)((async e=>{let t;if(m)t=o.map((a=>a.id===m.id?(0,r.A)((0,r.A)((0,r.A)({},m),e),{},{updatedAt:(new Date).toISOString()}):a)),U.EU.edit(m.id,{name:e.name,category:e.category,time:e.time,servings:e.servings}),null===a||void 0===a||a("Receta actualizada exitosamente","success");else{const s=(0,r.A)((0,r.A)({},e),{},{id:q(),createdAt:(new Date).toISOString()});t=[...o,s],U.EU.create(s.id,{name:e.name,category:e.category,time:e.time,servings:e.servings}),null===a||void 0===a||a("Receta creada exitosamente","success")}await B(t),d(!1),x(null)}),[m,o,B,a,q]),X=(0,s.useCallback)((e=>{A(e),w(!0)}),[]),V=(0,s.useCallback)((async()=>{if(!C)return;const e=o.find((e=>e.id===C)),t=o.filter((e=>e.id!==C));await B(t),e&&U.EU.delete(C,{name:e.name,category:e.category}),null===a||void 0===a||a("Receta eliminada exitosamente","success"),w(!1),A(null)}),[C,o,B,a]),Y=(0,s.useCallback)((()=>{w(!1),A(null)}),[]),K=(0,s.useCallback)((e=>{const t="".concat(window.location.origin).concat(window.location.pathname,"?recipe=").concat(encodeURIComponent(e.name),"&id=").concat(e.id);L(t),H(e),O(!0),U.EU.share(e.id,{name:e.name,category:e.category,shareMethod:"modal"}),null===a||void 0===a||a("\xa1Comparte esta deliciosa receta!","info")}),[a]),Q=(0,s.useCallback)((()=>{x(null),d(!0)}),[]),Z=(0,s.useCallback)((e=>{x(e),d(!0)}),[]),J=(0,s.useCallback)((()=>{d(!1),x(null)}),[]),$=(0,s.useMemo)((()=>o.filter((e=>{const a=e.name.toLowerCase().includes(b.toLowerCase()),t=k===_||e.category===k;return a&&t}))),[o,b,k]),ee=(0,s.useCallback)((e=>"".concat("https://placehold.co/600x300/E2E8F0/A0AEC0?text=").concat(encodeURIComponent(e||"Receta"))),[]),ae=(0,s.useMemo)((()=>e=>{var a,t;let{recipe:r,onClose:s}=e;if(!r)return null;const l=ee(r.name);return(0,g.jsx)(u.A,{isOpen:!!r,onClose:s,title:"",children:(0,g.jsxs)("div",{className:"flex flex-col items-center",children:[(0,g.jsx)("h2",{className:"text-2xl font-extrabold text-emerald-700 dark:text-emerald-300 tracking-tight mb-2 text-center",children:r.name}),r.category&&(0,g.jsx)("span",{className:"inline-block bg-amber-200 text-amber-800 text-xs font-bold px-3 py-1 rounded-full mb-3 tracking-wide",children:r.category})," ",(0,g.jsx)("div",{className:"w-full h-48 bg-slate-100 dark:bg-slate-700 rounded-xl mb-4 flex items-center justify-center overflow-hidden",children:(0,g.jsx)("img",{src:r.imageUrl||l,alt:"Imagen de ".concat(r.name),className:"w-full h-48 object-contain",style:{objectPosition:"center"},loading:"lazy",decoding:"async",onError:e=>{e.target.onerror=null,e.target.src=l}})})," ",(0,g.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full mb-4",children:[" ",(0,g.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-emerald-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 flex items-center gap-2 border dark:border-emerald-400/20 backdrop-blur-sm",children:[(0,g.jsx)(T.A,{size:18,className:"text-emerald-500 dark:text-slate-300 flex-shrink-0","aria-hidden":"true"}),(0,g.jsx)("span",{className:"font-semibold",children:"Tiempo:"}),(0,g.jsx)("span",{className:"truncate",children:r.prepTime||"No especificado"})]})," ",(0,g.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 flex items-center gap-2 border dark:border-blue-400/20 backdrop-blur-sm",children:[(0,g.jsx)(z.A,{size:18,className:"text-emerald-500 dark:text-slate-300 flex-shrink-0","aria-hidden":"true"}),(0,g.jsx)("span",{className:"font-semibold",children:"Porciones:"}),(0,g.jsx)("span",{className:"truncate",children:r.servings?"".concat(r.servings," personas"):"No especificado"})]})]}),(0,g.jsxs)("div",{className:"w-full mb-4",children:[(0,g.jsxs)("h3",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-2 flex items-center",children:[(0,g.jsx)("span",{className:"mr-2","aria-hidden":"true",children:"\ud83d\udcdd"}),"Ingredientes"]}),(0,g.jsxs)("ul",{className:"list-disc list-inside text-left space-y-1 bg-gradient-to-br from-emerald-50 to-slate-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 border dark:border-emerald-400/20 backdrop-blur-sm",children:[" ",(null===(a=r.ingredients)||void 0===a?void 0:a.length)>0?r.ingredients.map(((e,a)=>(0,g.jsx)("li",{className:"text-slate-700 dark:text-slate-200",children:e},"".concat(r.id,"-ingredient-").concat(a,"-").concat(e.slice(0,10))))):(0,g.jsx)("li",{className:"text-slate-400 italic",children:"Sin ingredientes especificados"})]})]}),(0,g.jsxs)("div",{className:"w-full mb-2",children:[(0,g.jsxs)("h3",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-2 flex items-center",children:[(0,g.jsx)("span",{className:"mr-2","aria-hidden":"true",children:"\ud83d\udc68\u200d\ud83c\udf73"}),"Instrucciones"]}),(0,g.jsxs)("ol",{className:"list-decimal list-inside text-left space-y-2 bg-gradient-to-br from-blue-50 to-slate-50 dark:from-slate-800/60 dark:to-slate-700/40 rounded-lg p-3 border dark:border-blue-400/20 backdrop-blur-sm",children:[" ",(null===(t=r.instructions)||void 0===t?void 0:t.length)>0?r.instructions.map(((e,a)=>(0,g.jsx)("li",{className:"text-slate-700 dark:text-slate-200",children:e},"".concat(r.id,"-instruction-").concat(a,"-").concat(e.slice(0,10))))):(0,g.jsx)("li",{className:"text-slate-400 italic",children:"Sin instrucciones especificadas"})]})]})]})})}),[ee]),te=(0,s.useMemo)((()=>(0,g.jsxs)("div",{className:"col-span-full text-center text-slate-500 py-8 sm:py-10",children:[(0,g.jsx)("div",{className:"text-base sm:text-lg mb-4",children:b||k!==_?"No hay recetas que coincidan con tu b\xfasqueda.":"No tienes recetas guardadas a\xfan."})," ",!b&&k===_&&(0,g.jsxs)("button",{onClick:Q,className:"inline-flex items-center px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-medium transition-colors recipe-action-button",children:[(0,g.jsx)(i.A,{size:18,className:"mr-2"}),"Crear tu primera receta"]})]})),[b,k,Q]);return(0,s.useEffect)((()=>{o.length>0&&(()=>{const e=new URLSearchParams(window.location.search),t=e.get("id"),r=e.get("recipe");if(t&&o.length>0){const e=o.find((e=>e.id===t));if(e){j(e),null===a||void 0===a||a('\xa1Receta "'.concat(e.name,'" encontrada!'),"success");const t=new URL(window.location);t.searchParams.delete("id"),t.searchParams.delete("recipe"),window.history.replaceState({},"",t)}else if(r){const e=o.find((e=>e.name.toLowerCase().includes(decodeURIComponent(r).toLowerCase())));e?(j(e),null===a||void 0===a||a('\xa1Receta "'.concat(e.name,'" encontrada!'),"success")):null===a||void 0===a||a('No se encontr\xf3 la receta "'.concat(decodeURIComponent(r),'"'),"warning");const t=new URL(window.location);t.searchParams.delete("id"),t.searchParams.delete("recipe"),window.history.replaceState({},"",t)}}})()}),[o,a]),(0,g.jsxs)("div",{className:"w-full px-1 sm:px-2 md:px-4",children:[(0,g.jsx)("div",{className:"px-1 sm:px-0",children:(0,g.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2",children:(0,g.jsxs)("div",{className:"w-full flex flex-col sm:flex-row gap-2 sm:gap-3 justify-center",children:[(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[" ",(0,g.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow p-1.5 flex items-center",children:(0,g.jsx)("input",{type:"text",placeholder:"Buscar recetas por nombre...",value:b,onChange:e=>h(e.target.value),className:"w-full p-1.5 rounded-md border border-emerald-200 dark:border-emerald-400/30 focus:border-emerald-700 dark:focus:border-emerald-400 focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400/50 focus:ring-offset-2 text-sm bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 transition-all duration-200 outline-none backdrop-blur-sm","aria-label":"Buscar recetas por nombre"})})]}),(0,g.jsx)("div",{className:"flex-shrink-0 min-w-[160px]",children:(0,g.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow p-1.5 flex items-center",children:(0,g.jsxs)("select",{value:k,onChange:e=>v(e.target.value),className:"w-full p-1.5 rounded-md border border-emerald-200 dark:border-emerald-400/30 focus:border-emerald-700 dark:focus:border-emerald-400 focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400/50 focus:ring-offset-2 text-sm bg-white dark:bg-gradient-to-br dark:from-slate-800/50 dark:to-slate-700/30 dark:text-slate-100 transition-all duration-200 outline-none backdrop-blur-sm","aria-label":"Filtrar por categor\xeda",children:[(0,g.jsx)("option",{value:_,children:_}),P.R6.map((e=>(0,g.jsx)("option",{value:e,children:e},e)))]})})})]})})}),(0,g.jsx)("div",{className:"mt-4 sm:mt-6",children:(0,g.jsx)("div",{className:"w-full px-1 sm:px-3",children:(0,g.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-x-3 gap-y-5 sm:gap-x-4 sm:gap-y-6",children:[$.length>0?$.map((e=>(0,g.jsx)(l.A,{recipe:e,onEdit:()=>Z(e),onDelete:X,onShowDetails:()=>j(e),onShare:()=>K(e)},e.id))):te," ",$.length>0&&(0,g.jsx)("button",{onClick:Q,className:"flex items-center justify-center px-4 py-8 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl text-base font-semibold shadow-lg transition-all hover:shadow-xl hover:-translate-y-1 border-2 border-dashed border-emerald-400 hover:border-emerald-300 recipe-action-button","aria-label":"Crear nueva receta",children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)(i.A,{size:24,className:"mx-auto mb-2"}),(0,g.jsx)("span",{children:"Nueva Receta"})]})})]})})}),(0,g.jsx)(p,{isOpen:c,onClose:J,onSave:W,initialRecipe:m}),(0,g.jsx)(ae,{recipe:y,onClose:()=>j(null)}),(0,g.jsx)(f.A,{isOpen:N,onClose:Y,onConfirm:V,title:"\ud83d\uddd1\ufe0f Confirmar Eliminaci\xf3n",message:"\xbfEst\xe1s seguro de que quieres eliminar esta receta? Tambi\xe9n se quitar\xe1 del planificador y esta acci\xf3n no se puede deshacer.",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",variant:"danger"})," ",(0,g.jsx)(R,{isOpen:E,onClose:()=>{O(!1),H(null),L("")},recipe:G,shareUrl:S,showToast:a})," ",(0,g.jsx)("button",{onClick:Q,className:"fixed bottom-8 right-8 z-50 bg-gradient-to-br from-pink-400 to-emerald-500 hover:from-pink-500 hover:to-emerald-600 text-white rounded-full shadow-lg w-14 h-14 flex items-center justify-center transition-all hover:shadow-xl hover:scale-110 focus:outline-none focus:ring-4 focus:ring-emerald-500 focus:ring-offset-2 recipe-action-button",title:"Crear nueva receta","aria-label":"Crear nueva receta",children:(0,g.jsx)(I.A,{size:28,"aria-hidden":"true"})})]})},H=s.memo(G,((e,a)=>e.showToast===a.showToast&&e.setUserRecipes===a.setUserRecipes))},306:(e,a,t)=>{t.d(a,{A:()=>r});const r=(0,t(784).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},360:(e,a,t)=>{t.d(a,{A:()=>r});const r=(0,t(784).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},504:(e,a,t)=>{t.d(a,{A:()=>h});var r=t(43),s=t(88),l=t(118),o=t(306),i=t(784);const n=(0,i.A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);var c=t(855);const d=(0,i.A)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var m=t(614),u=t(563),g=t(532),x=(t(662),t(579));const b=(0,r.memo)((e=>{let{recipe:a,onEdit:t,onDelete:i,onShare:b,onSelect:h,onShowDetails:p,isSelected:f=!1,isDraggable:k=!1,showDeleteButton:v=!1}=e;const{isTouchDevice:y}=(0,u.B)(),{selectedRecipeForMobile:j,isAddingToDay:N,selectRecipeForMobile:w}=(0,g.c)(),C=(null===j||void 0===j?void 0:j.id)===a.id,A=(0,r.useMemo)((()=>{const e=a.name||"Receta";return"https://placehold.co/600x300/E2E8F0/A0AEC0?text=".concat(encodeURIComponent(e))}),[a.name]),E=(0,r.useCallback)((e=>{k&&(e.dataTransfer.setData("recipeId",a.id),e.dataTransfer.effectAllowed="move")}),[k,a.id]),O=(0,r.useCallback)((e=>{e.target.closest("button")||(y&&k&&!N?w(a):p?p(a):h&&!k&&h(a))}),[p,h,k,a,y,N,w]),R=(0,r.useCallback)((e=>{e.target.onerror=null,e.target.src=A}),[A]),S=(0,r.useCallback)((e=>{e.stopPropagation(),null===b||void 0===b||b(a)}),[b,a]),M=(0,r.useCallback)((e=>{e.stopPropagation(),null===t||void 0===t||t(a)}),[t,a]),T=(0,r.useCallback)((e=>{e.stopPropagation(),null===i||void 0===i||i(a.id)}),[i,a.id]),z=(0,r.useMemo)((()=>{const e=f||C?"ring-2 ring-emerald-500":"",a=k?y?"cursor-pointer":"cursor-grab":"cursor-pointer",t=C?"bg-emerald-50 dark:bg-emerald-900/20":"";return"".concat("bg-white dark:bg-gradient-to-br dark:from-slate-800/90 dark:to-slate-700/70 rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 backdrop-blur-sm border dark:border-slate-600/30"," ").concat(e," ").concat(a," ").concat(t)}),[f,k,y,C]),I=(0,r.useMemo)((()=>(0,x.jsxs)("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-300 mb-2 space-x-2",children:[a.prepTime&&(0,x.jsxs)("div",{className:"flex items-center recipe-action-button",children:[(0,x.jsx)(s.A,{size:12,className:"mr-1","aria-hidden":"true",style:{color:"#059669",stroke:"#059669",strokeWidth:1.5}}),(0,x.jsx)("span",{children:a.prepTime})]}),a.servings&&(0,x.jsxs)("div",{className:"flex items-center recipe-action-button",children:[(0,x.jsx)(l.A,{size:12,className:"mr-1","aria-hidden":"true",style:{color:"#059669",stroke:"#059669",strokeWidth:1.5}}),(0,x.jsxs)("span",{children:[a.servings," porc."]})]})]})),[a.prepTime,a.servings]),P=(0,r.useMemo)((()=>v||!t&&!i&&!b?null:(0,x.jsxs)("div",{className:"mt-3 pt-2 border-t dark:border-slate-600 flex justify-end space-x-1.5",children:[" ",b&&(0,x.jsx)("button",{onClick:S,className:"recipe-action-button p-1.5 rounded-full hover:bg-blue-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors",title:"Compartir Receta","aria-label":"Compartir receta ".concat(a.name),children:(0,x.jsx)(o.A,{size:16,style:{color:"#2563eb",stroke:"#2563eb",strokeWidth:2}})}),t&&(0,x.jsx)("button",{onClick:M,className:"recipe-action-button p-1.5 rounded-full hover:bg-emerald-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors",title:"Editar Receta","aria-label":"Editar receta ".concat(a.name),children:(0,x.jsx)(n,{size:16,style:{color:"#16a34a",stroke:"#16a34a",strokeWidth:2}})}),i&&(0,x.jsx)("button",{onClick:T,className:"recipe-action-button p-1.5 rounded-full hover:bg-red-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-slate-400 focus:ring-offset-2 transition-colors",title:"Eliminar Receta","aria-label":"Eliminar receta ".concat(a.name),children:(0,x.jsx)(c.A,{size:16,style:{color:"#dc2626",stroke:"#dc2626",strokeWidth:2}})})]})),[v,t,i,b,S,M,T,a.name]);return(0,x.jsxs)("article",{className:z,onClick:O,draggable:k,onDragStart:E,role:h?"button":void 0,tabIndex:h?0:void 0,"aria-selected":f,"aria-label":"Receta: ".concat(a.name),children:[" ",(0,x.jsxs)("div",{className:"relative bg-slate-100 dark:bg-slate-700 h-32 flex items-center justify-center pt-2",children:[(0,x.jsx)("img",{className:"w-full h-28 object-contain",src:a.imageUrl||A,alt:"Imagen de ".concat(a.name),loading:"lazy",decoding:"async",onError:R})," ",k&&!y&&(0,x.jsx)(d,{size:16,className:"absolute top-2 right-2 text-white bg-black bg-opacity-50 rounded p-0.5","aria-hidden":"true"}),k&&y&&(0,x.jsx)("div",{className:"absolute top-2 right-2 bg-emerald-500 text-white text-xs px-2 py-1 rounded-full font-bold",children:"TOCA"}),C&&(0,x.jsx)("div",{className:"absolute top-2 left-2 bg-emerald-500 text-white text-xs px-2 py-1 rounded-full font-bold",children:"\u2713 SELECCIONADA"}),v&&i&&(0,x.jsx)("button",{onClick:T,className:"absolute top-1.5 right-1.5 p-1 bg-red-100 text-red-500 rounded-full hover:bg-red-200 dark:bg-red-800 dark:text-red-300 dark:hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors",title:"Quitar receta del d\xeda","aria-label":"Quitar ".concat(a.name," del d\xeda"),children:(0,x.jsx)(m.A,{size:14})})]}),(0,x.jsxs)("div",{className:"p-3",children:[(0,x.jsx)("h3",{className:"text-base sm:text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-1 truncate tracking-tight",title:a.name,children:a.name}),a.category&&(0,x.jsx)("span",{className:"inline-block bg-amber-200 text-amber-800 text-xs font-bold px-2 py-0.5 rounded-full mb-2 tracking-wide truncate max-w-full",children:a.category}),I,P]})]})}));b.displayName="RecipeCard";const h=b},563:(e,a,t)=>{t.d(a,{B:()=>s});var r=t(43);const s=()=>{const[e,a]=(0,r.useState)({isMobile:!1,isTouchDevice:!1,screenWidth:0});return(0,r.useEffect)((()=>{const e=()=>{const e="ontouchstart"in window||navigator.maxTouchPoints>0,t=window.innerWidth;a({isMobile:t<=768||e,isTouchDevice:e,screenWidth:t})};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),e}},625:(e,a,t)=>{t.d(a,{A:()=>i});var r=t(43),s=t(614),l=t(579);const o=e=>{let{isOpen:a,onClose:t,title:o,children:i,onKeyDown:n}=e;const c=(0,r.useCallback)((()=>{t&&t()}),[t]),d=(0,r.useCallback)((e=>{e.target===e.currentTarget&&c()}),[c]),m=(0,r.useCallback)((e=>{"Escape"===e.key&&c(),n&&n(e)}),[c,n]);return(0,r.useEffect)((()=>{if(a){const e=document.body.style.overflow;return document.body.style.overflow="hidden",document.addEventListener("keydown",m),()=>{document.body.style.overflow=e||"auto",document.removeEventListener("keydown",m)}}document.body.style.overflow="auto"}),[a,m]),a?(0,l.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex justify-center items-center z-50 p-4 animate-in fade-in duration-200",onClick:d,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-content",children:[" ",(0,l.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] min-h-0 flex flex-col animate-in zoom-in-95 duration-200 overflow-hidden",children:[(0,l.jsxs)("header",{className:"flex justify-between items-center p-6 pb-4 border-b border-slate-200 dark:border-slate-600 flex-shrink-0",children:[(0,l.jsx)("h2",{id:"modal-title",className:"text-2xl font-bold text-emerald-700 dark:text-emerald-400 pr-8",children:o}),(0,l.jsx)("button",{type:"button",onClick:c,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-all duration-200 p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 flex-shrink-0","aria-label":"Cerrar modal",children:(0,l.jsx)(s.A,{size:24})})]}),(0,l.jsx)("main",{id:"modal-content",className:"flex-1 min-h-0 p-6 pt-4 overflow-y-auto overflow-x-hidden custom-scrollbar focus:outline-none",tabIndex:-1,style:{maxHeight:"calc(90vh - 100px)",overflowY:"auto",WebkitOverflowScrolling:"touch"},children:i})]})]}):null},i=r.memo(o,((e,a)=>e.isOpen===a.isOpen&&e.title===a.title&&e.children===a.children))},652:(e,a,t)=>{t.d(a,{A:()=>n});var r=t(43),s=t(625),l=t(719),o=t(579);const i=e=>{let{isOpen:a,onClose:t,onConfirm:i,title:n="Confirmaci\xf3n",message:c="\xbfEst\xe1s seguro?",confirmButtonText:d="Confirmar",cancelButtonText:m="Cancelar",variant:u="danger"}=e;const g=(0,r.useMemo)((()=>{const e={danger:"bg-red-600 hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",info:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"};return{confirm:"px-4 py-2 text-sm font-medium text-white rounded-lg shadow-sm \n                flex items-center transition-all duration-200 \n                focus:outline-none focus:ring-2 focus:ring-offset-2 \n                ".concat(e[u]||e.danger),cancel:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 \n               hover:bg-slate-200 dark:bg-gradient-to-br dark:from-slate-800/70 dark:to-slate-700/50 dark:text-slate-200 \n               dark:hover:bg-slate-600 rounded-lg shadow-sm transition-all \n               duration-200 focus:outline-none focus:ring-2 focus:ring-slate-500 \n               focus:ring-offset-2 backdrop-blur-sm border dark:border-slate-600/30"}}),[u]),x=(0,r.useCallback)((()=>{i&&i()}),[i]),b=(0,r.useCallback)((()=>{t&&t()}),[t]),h=(0,r.useCallback)((e=>{"Enter"===e.key?x():"Escape"===e.key&&b()}),[x,b]);return a?(0,o.jsxs)(s.A,{isOpen:a,onClose:t,title:n,onKeyDown:h,children:[(0,o.jsx)("div",{className:"text-slate-700 dark:text-slate-300 mb-6",children:(0,o.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,o.jsx)("div",{className:"flex-shrink-0",children:(0,o.jsx)(l.A,{size:20,className:"".concat("danger"===u?"text-red-500":"warning"===u?"text-yellow-500":"text-blue-500"),"aria-hidden":"true"})}),(0,o.jsx)("div",{className:"flex-1",children:(0,o.jsx)("p",{className:"text-sm leading-relaxed",children:c})})]})}),(0,o.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-slate-200 dark:border-slate-600",children:[(0,o.jsx)("button",{type:"button",onClick:b,className:g.cancel,"aria-label":"Cancelar acci\xf3n",children:m}),(0,o.jsxs)("button",{type:"button",onClick:x,className:g.confirm,"aria-label":"Confirmar: ".concat(c),autoFocus:!0,children:[(0,o.jsx)(l.A,{size:16,className:"mr-2","aria-hidden":"true"}),d]})]})]}):null},n=r.memo(i)},781:(e,a,t)=>{t.d(a,{A:()=>r});const r=(0,t(784).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},855:(e,a,t)=>{t.d(a,{A:()=>r});const r=(0,t(784).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},963:(e,a,t)=>{t.d(a,{A:()=>r});const r=(0,t(784).A)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])}}]);
//# sourceMappingURL=281.c41e268d.chunk.js.map